import{r as Qb,g as bu,a as Wb}from"./vendor-DJG_os-6.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var ld={exports:{}},Bs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function lE(){if(Wy)return Bs;Wy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,a){var u=null;if(a!==void 0&&(u=""+a),s.key!==void 0&&(u=""+s.key),"key"in s){a={};for(var f in s)f!=="key"&&(a[f]=s[f])}else a=s;return s=a.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:a}}return Bs.Fragment=e,Bs.jsx=t,Bs.jsxs=t,Bs}var Zy;function sE(){return Zy||(Zy=1,ld.exports=lE()),ld.exports}var k=sE(),N=Qb();const yt=bu(N);var sd={exports:{}},Ls={},ad={exports:{}},od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function aE(){return e0||(e0=1,function(n){function e(V,X){var ie=V.length;V.push(X);e:for(;0<ie;){var ke=ie-1>>>1,Ae=V[ke];if(0<s(Ae,X))V[ke]=X,V[ie]=Ae,ie=ke;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var X=V[0],ie=V.pop();if(ie!==X){V[0]=ie;e:for(var ke=0,Ae=V.length,mt=Ae>>>1;ke<mt;){var Re=2*(ke+1)-1,ve=V[Re],$e=Re+1,mn=V[$e];if(0>s(ve,ie))$e<Ae&&0>s(mn,ve)?(V[ke]=mn,V[$e]=ie,ke=$e):(V[ke]=ve,V[Re]=ie,ke=Re);else if($e<Ae&&0>s(mn,ie))V[ke]=mn,V[$e]=ie,ke=$e;else break e}}return X}function s(V,X){var ie=V.sortIndex-X.sortIndex;return ie!==0?ie:V.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var d=[],p=[],g=1,y=null,b=3,x=!1,S=!1,w=!1,T=!1,O=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function I(V){for(var X=t(p);X!==null;){if(X.callback===null)r(p);else if(X.startTime<=V)r(p),X.sortIndex=X.expirationTime,e(d,X);else break;X=t(p)}}function j(V){if(w=!1,I(V),!S)if(t(d)!==null)S=!0,G||(G=!0,Yt());else{var X=t(p);X!==null&&Rn(j,X.startTime-V)}}var G=!1,J=-1,Y=5,$=-1;function he(){return T?!0:!(n.unstable_now()-$<Y)}function Et(){if(T=!1,G){var V=n.unstable_now();$=V;var X=!0;try{e:{S=!1,w&&(w=!1,L(J),J=-1),x=!0;var ie=b;try{t:{for(I(V),y=t(d);y!==null&&!(y.expirationTime>V&&he());){var ke=y.callback;if(typeof ke=="function"){y.callback=null,b=y.priorityLevel;var Ae=ke(y.expirationTime<=V);if(V=n.unstable_now(),typeof Ae=="function"){y.callback=Ae,I(V),X=!0;break t}y===t(d)&&r(d),I(V)}else r(d);y=t(d)}if(y!==null)X=!0;else{var mt=t(p);mt!==null&&Rn(j,mt.startTime-V),X=!1}}break e}finally{y=null,b=ie,x=!1}X=void 0}}finally{X?Yt():G=!1}}}var Yt;if(typeof U=="function")Yt=function(){U(Et)};else if(typeof MessageChannel<"u"){var ya=new MessageChannel,Ll=ya.port2;ya.port1.onmessage=Et,Yt=function(){Ll.postMessage(null)}}else Yt=function(){O(Et,0)};function Rn(V,X){J=O(function(){V(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(V){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var ie=b;b=X;try{return V()}finally{b=ie}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ie=b;b=V;try{return X()}finally{b=ie}},n.unstable_scheduleCallback=function(V,X,ie){var ke=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ke+ie:ke):ie=ke,V){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ie+Ae,V={id:g++,callback:X,priorityLevel:V,startTime:ie,expirationTime:Ae,sortIndex:-1},ie>ke?(V.sortIndex=ie,e(p,V),t(d)===null&&V===t(p)&&(w?(L(J),J=-1):w=!0,Rn(j,ie-ke))):(V.sortIndex=Ae,e(d,V),S||x||(S=!0,G||(G=!0,Yt()))),V},n.unstable_shouldYield=he,n.unstable_wrapCallback=function(V){var X=b;return function(){var ie=b;b=X;try{return V.apply(this,arguments)}finally{b=ie}}}}(od)),od}var t0;function oE(){return t0||(t0=1,ad.exports=aE()),ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function uE(){if(n0)return Ls;n0=1;var n=oE(),e=Qb(),t=Wb();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)l+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var l=i,o=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(o=l.return),i=l.return;while(i)}return l.tag===3?o:null}function u(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function f(i){if(a(i)!==i)throw Error(r(188))}function d(i){var l=i.alternate;if(!l){if(l=a(i),l===null)throw Error(r(188));return l!==i?null:i}for(var o=i,c=l;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return f(h),i;if(m===c)return f(h),l;m=m.sibling}throw Error(r(188))}if(o.return!==c.return)o=h,c=m;else{for(var v=!1,E=h.child;E;){if(E===o){v=!0,o=h,c=m;break}if(E===c){v=!0,c=h,o=m;break}E=E.sibling}if(!v){for(E=m.child;E;){if(E===o){v=!0,o=m,c=h;break}if(E===c){v=!0,c=m,o=h;break}E=E.sibling}if(!v)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:l}function p(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=p(i),l!==null)return l;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),U=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),Et=Symbol.iterator;function Yt(i){return i===null||typeof i!="object"?null:(i=Et&&i[Et]||i["@@iterator"],typeof i=="function"?i:null)}var ya=Symbol.for("react.client.reference");function Ll(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ya?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case j:return"Suspense";case G:return"SuspenseList";case $:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case U:return(i.displayName||"Context")+".Provider";case L:return(i._context.displayName||"Context")+".Consumer";case I:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case J:return l=i.displayName||null,l!==null?l:Ll(i.type)||"Memo";case Y:l=i._payload,i=i._init;try{return Ll(i(l))}catch{}}return null}var Rn=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ke=[],Ae=-1;function mt(i){return{current:i}}function Re(i){0>Ae||(i.current=ke[Ae],ke[Ae]=null,Ae--)}function ve(i,l){Ae++,ke[Ae]=i.current,i.current=l}var $e=mt(null),mn=mt(null),tr=mt(null),ba=mt(null);function Sa(i,l){switch(ve(tr,l),ve(mn,i),ve($e,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?Oy(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=Oy(l),i=Cy(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Re($e),ve($e,i)}function Ai(){Re($e),Re(mn),Re(tr)}function Fu(i){i.memoizedState!==null&&ve(ba,i);var l=$e.current,o=Cy(l,i.type);l!==o&&(ve(mn,i),ve($e,o))}function xa(i){mn.current===i&&(Re($e),Re(mn)),ba.current===i&&(Re(ba),As._currentValue=ie)}var Iu=Object.prototype.hasOwnProperty,Yu=n.unstable_scheduleCallback,$u=n.unstable_cancelCallback,_x=n.unstable_shouldYield,Ux=n.unstable_requestPaint,gn=n.unstable_now,Hx=n.unstable_getCurrentPriorityLevel,sp=n.unstable_ImmediatePriority,ap=n.unstable_UserBlockingPriority,va=n.unstable_NormalPriority,qx=n.unstable_LowPriority,op=n.unstable_IdlePriority,Vx=n.log,Px=n.unstable_setDisableYieldValue,jl=null,Bt=null;function nr(i){if(typeof Vx=="function"&&Px(i),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(jl,i)}catch{}}var Lt=Math.clz32?Math.clz32:Yx,Fx=Math.log,Ix=Math.LN2;function Yx(i){return i>>>=0,i===0?32:31-(Fx(i)/Ix|0)|0}var wa=256,Ea=4194304;function $r(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ta(i,l,o){var c=i.pendingLanes;if(c===0)return 0;var h=0,m=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var E=c&134217727;return E!==0?(c=E&~m,c!==0?h=$r(c):(v&=E,v!==0?h=$r(v):o||(o=E&~i,o!==0&&(h=$r(o))))):(E=c&~m,E!==0?h=$r(E):v!==0?h=$r(v):o||(o=c&~i,o!==0&&(h=$r(o)))),h===0?0:l!==0&&l!==h&&(l&m)===0&&(m=h&-h,o=l&-l,m>=o||m===32&&(o&4194048)!==0)?l:h}function _l(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function $x(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function up(){var i=wa;return wa<<=1,(wa&4194048)===0&&(wa=256),i}function cp(){var i=Ea;return Ea<<=1,(Ea&62914560)===0&&(Ea=4194304),i}function Gu(i){for(var l=[],o=0;31>o;o++)l.push(i);return l}function Ul(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Gx(i,l,o,c,h,m){var v=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var E=i.entanglements,M=i.expirationTimes,D=i.hiddenUpdates;for(o=v&~o;0<o;){var H=31-Lt(o),P=1<<H;E[H]=0,M[H]=-1;var z=D[H];if(z!==null)for(D[H]=null,H=0;H<z.length;H++){var B=z[H];B!==null&&(B.lane&=-536870913)}o&=~P}c!==0&&fp(i,c,0),m!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=m&~(v&~l))}function fp(i,l,o){i.pendingLanes|=l,i.suspendedLanes&=~l;var c=31-Lt(l);i.entangledLanes|=l,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194090}function dp(i,l){var o=i.entangledLanes|=l;for(i=i.entanglements;o;){var c=31-Lt(o),h=1<<c;h&l|i[c]&l&&(i[c]|=l),o&=~h}}function Ku(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xu(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function hp(){var i=X.p;return i!==0?i:(i=window.event,i===void 0?32:$y(i.type))}function Kx(i,l){var o=X.p;try{return X.p=i,l()}finally{X.p=o}}var rr=Math.random().toString(36).slice(2),ot="__reactFiber$"+rr,Tt="__reactProps$"+rr,Ni="__reactContainer$"+rr,Ju="__reactEvents$"+rr,Xx="__reactListeners$"+rr,Jx="__reactHandles$"+rr,pp="__reactResources$"+rr,Hl="__reactMarker$"+rr;function Qu(i){delete i[ot],delete i[Tt],delete i[Ju],delete i[Xx],delete i[Jx]}function Ri(i){var l=i[ot];if(l)return l;for(var o=i.parentNode;o;){if(l=o[Ni]||o[ot]){if(o=l.alternate,l.child!==null||o!==null&&o.child!==null)for(i=Ry(i);i!==null;){if(o=i[ot])return o;i=Ry(i)}return l}i=o,o=i.parentNode}return null}function Di(i){if(i=i[ot]||i[Ni]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function ql(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function zi(i){var l=i[pp];return l||(l=i[pp]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ge(i){i[Hl]=!0}var mp=new Set,gp={};function Gr(i,l){Bi(i,l),Bi(i+"Capture",l)}function Bi(i,l){for(gp[i]=l,i=0;i<l.length;i++)mp.add(l[i])}var Qx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yp={},bp={};function Wx(i){return Iu.call(bp,i)?!0:Iu.call(yp,i)?!1:Qx.test(i)?bp[i]=!0:(yp[i]=!0,!1)}function Ma(i,l,o){if(Wx(l))if(o===null)i.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var c=l.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+o)}}function Oa(i,l,o){if(o===null)i.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+o)}}function Dn(i,l,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(l,o,""+c)}}var Wu,Sp;function Li(i){if(Wu===void 0)try{throw Error()}catch(o){var l=o.stack.trim().match(/\n( *(at )?)/);Wu=l&&l[1]||"",Sp=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wu+i+Sp}var Zu=!1;function ec(i,l){if(!i||Zu)return"";Zu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(l){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(B){var z=B}Reflect.construct(i,[],P)}else{try{P.call()}catch(B){z=B}i.call(P.prototype)}}else{try{throw Error()}catch(B){z=B}(P=i())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),v=m[0],E=m[1];if(v&&E){var M=v.split(`
`),D=E.split(`
`);for(h=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;h<D.length&&!D[h].includes("DetermineComponentFrameRoot");)h++;if(c===M.length||h===D.length)for(c=M.length-1,h=D.length-1;1<=c&&0<=h&&M[c]!==D[h];)h--;for(;1<=c&&0<=h;c--,h--)if(M[c]!==D[h]){if(c!==1||h!==1)do if(c--,h--,0>h||M[c]!==D[h]){var H=`
`+M[c].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=c&&0<=h);break}}}finally{Zu=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Li(o):""}function Zx(i){switch(i.tag){case 26:case 27:case 5:return Li(i.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 15:return ec(i.type,!1);case 11:return ec(i.type.render,!1);case 1:return ec(i.type,!0);case 31:return Li("Activity");default:return""}}function xp(i){try{var l="";do l+=Zx(i),i=i.return;while(i);return l}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function $t(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function vp(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ev(i){var l=vp(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),c=""+i[l];if(!i.hasOwnProperty(l)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return h.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(i,l,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Ca(i){i._valueTracker||(i._valueTracker=ev(i))}function wp(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var o=l.getValue(),c="";return i&&(c=vp(i)?i.checked?"true":"false":i.value),i=c,i!==o?(l.setValue(i),!0):!1}function ka(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var tv=/[\n"\\]/g;function Gt(i){return i.replace(tv,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function tc(i,l,o,c,h,m,v,E){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),l!=null?v==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+$t(l)):i.value!==""+$t(l)&&(i.value=""+$t(l)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),l!=null?nc(i,v,$t(l)):o!=null?nc(i,v,$t(o)):c!=null&&i.removeAttribute("value"),h==null&&m!=null&&(i.defaultChecked=!!m),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+$t(E):i.removeAttribute("name")}function Ep(i,l,o,c,h,m,v,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),l!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||l!=null))return;o=o!=null?""+$t(o):"",l=l!=null?""+$t(l):o,E||l===i.value||(i.value=l),i.defaultValue=l}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=E?i.checked:!!c,i.defaultChecked=!!c,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v)}function nc(i,l,o){l==="number"&&ka(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ji(i,l,o,c){if(i=i.options,l){l={};for(var h=0;h<o.length;h++)l["$"+o[h]]=!0;for(o=0;o<i.length;o++)h=l.hasOwnProperty("$"+i[o].value),i[o].selected!==h&&(i[o].selected=h),h&&c&&(i[o].defaultSelected=!0)}else{for(o=""+$t(o),l=null,h=0;h<i.length;h++){if(i[h].value===o){i[h].selected=!0,c&&(i[h].defaultSelected=!0);return}l!==null||i[h].disabled||(l=i[h])}l!==null&&(l.selected=!0)}}function Tp(i,l,o){if(l!=null&&(l=""+$t(l),l!==i.value&&(i.value=l),o==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=o!=null?""+$t(o):""}function Mp(i,l,o,c){if(l==null){if(c!=null){if(o!=null)throw Error(r(92));if(Rn(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),l=o}o=$t(l),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function _i(i,l){if(l){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=l;return}}i.textContent=l}var nv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Op(i,l,o){var c=l.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":c?i.setProperty(l,o):typeof o!="number"||o===0||nv.has(l)?l==="float"?i.cssFloat=o:i[l]=(""+o).trim():i[l]=o+"px"}function Cp(i,l,o){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||l!=null&&l.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var h in l)c=l[h],l.hasOwnProperty(h)&&o[h]!==c&&Op(i,h,c)}else for(var m in l)l.hasOwnProperty(m)&&Op(i,m,l[m])}function rc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(i){return iv.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ic=null;function lc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ui=null,Hi=null;function kp(i){var l=Di(i);if(l&&(i=l.stateNode)){var o=i[Tt]||null;e:switch(i=l.stateNode,l.type){case"input":if(tc(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),l=o.name,o.type==="radio"&&l!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Gt(""+l)+'"][type="radio"]'),l=0;l<o.length;l++){var c=o[l];if(c!==i&&c.form===i.form){var h=c[Tt]||null;if(!h)throw Error(r(90));tc(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(l=0;l<o.length;l++)c=o[l],c.form===i.form&&wp(c)}break e;case"textarea":Tp(i,o.value,o.defaultValue);break e;case"select":l=o.value,l!=null&&ji(i,!!o.multiple,l,!1)}}}var sc=!1;function Ap(i,l,o){if(sc)return i(l,o);sc=!0;try{var c=i(l);return c}finally{if(sc=!1,(Ui!==null||Hi!==null)&&(mo(),Ui&&(l=Ui,i=Hi,Hi=Ui=null,kp(l),i)))for(l=0;l<i.length;l++)kp(i[l])}}function Vl(i,l){var o=i.stateNode;if(o===null)return null;var c=o[Tt]||null;if(c===null)return null;o=c[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,l,typeof o));return o}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ac=!1;if(zn)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){ac=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{ac=!1}var ir=null,oc=null,Na=null;function Np(){if(Na)return Na;var i,l=oc,o=l.length,c,h="value"in ir?ir.value:ir.textContent,m=h.length;for(i=0;i<o&&l[i]===h[i];i++);var v=o-i;for(c=1;c<=v&&l[o-c]===h[m-c];c++);return Na=h.slice(i,1<c?1-c:void 0)}function Ra(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Da(){return!0}function Rp(){return!1}function Mt(i){function l(o,c,h,m,v){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(o=i[E],this[E]=o?o(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Da:Rp,this.isPropagationStopped=Rp,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),l}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Mt(Kr),Fl=g({},Kr,{view:0,detail:0}),lv=Mt(Fl),uc,cc,Il,Ba=g({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Il&&(Il&&i.type==="mousemove"?(uc=i.screenX-Il.screenX,cc=i.screenY-Il.screenY):cc=uc=0,Il=i),uc)},movementY:function(i){return"movementY"in i?i.movementY:cc}}),Dp=Mt(Ba),sv=g({},Ba,{dataTransfer:0}),av=Mt(sv),ov=g({},Fl,{relatedTarget:0}),fc=Mt(ov),uv=g({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),cv=Mt(uv),fv=g({},Kr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),dv=Mt(fv),hv=g({},Kr,{data:0}),zp=Mt(hv),pv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yv(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=gv[i])?!!l[i]:!1}function dc(){return yv}var bv=g({},Fl,{key:function(i){if(i.key){var l=pv[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Ra(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?mv[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dc,charCode:function(i){return i.type==="keypress"?Ra(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ra(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Sv=Mt(bv),xv=g({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bp=Mt(xv),vv=g({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dc}),wv=Mt(vv),Ev=g({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tv=Mt(Ev),Mv=g({},Ba,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ov=Mt(Mv),Cv=g({},Kr,{newState:0,oldState:0}),kv=Mt(Cv),Av=[9,13,27,32],hc=zn&&"CompositionEvent"in window,Yl=null;zn&&"documentMode"in document&&(Yl=document.documentMode);var Nv=zn&&"TextEvent"in window&&!Yl,Lp=zn&&(!hc||Yl&&8<Yl&&11>=Yl),jp=" ",_p=!1;function Up(i,l){switch(i){case"keyup":return Av.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var qi=!1;function Rv(i,l){switch(i){case"compositionend":return Hp(l);case"keypress":return l.which!==32?null:(_p=!0,jp);case"textInput":return i=l.data,i===jp&&_p?null:i;default:return null}}function Dv(i,l){if(qi)return i==="compositionend"||!hc&&Up(i,l)?(i=Np(),Na=oc=ir=null,qi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Lp&&l.locale!=="ko"?null:l.data;default:return null}}var zv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!zv[i.type]:l==="textarea"}function Vp(i,l,o,c){Ui?Hi?Hi.push(c):Hi=[c]:Ui=c,l=vo(l,"onChange"),0<l.length&&(o=new za("onChange","change",null,o,c),i.push({event:o,listeners:l}))}var $l=null,Gl=null;function Bv(i){vy(i,0)}function La(i){var l=ql(i);if(wp(l))return i}function Pp(i,l){if(i==="change")return l}var Fp=!1;if(zn){var pc;if(zn){var mc="oninput"in document;if(!mc){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),mc=typeof Ip.oninput=="function"}pc=mc}else pc=!1;Fp=pc&&(!document.documentMode||9<document.documentMode)}function Yp(){$l&&($l.detachEvent("onpropertychange",$p),Gl=$l=null)}function $p(i){if(i.propertyName==="value"&&La(Gl)){var l=[];Vp(l,Gl,i,lc(i)),Ap(Bv,l)}}function Lv(i,l,o){i==="focusin"?(Yp(),$l=l,Gl=o,$l.attachEvent("onpropertychange",$p)):i==="focusout"&&Yp()}function jv(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return La(Gl)}function _v(i,l){if(i==="click")return La(l)}function Uv(i,l){if(i==="input"||i==="change")return La(l)}function Hv(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var jt=typeof Object.is=="function"?Object.is:Hv;function Kl(i,l){if(jt(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var o=Object.keys(i),c=Object.keys(l);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!Iu.call(l,h)||!jt(i[h],l[h]))return!1}return!0}function Gp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Kp(i,l){var o=Gp(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=l&&c>=l)return{node:o,offset:l-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Gp(o)}}function Xp(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Xp(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Jp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=ka(i.document);l instanceof i.HTMLIFrameElement;){try{var o=typeof l.contentWindow.location.href=="string"}catch{o=!1}if(o)i=l.contentWindow;else break;l=ka(i.document)}return l}function gc(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var qv=zn&&"documentMode"in document&&11>=document.documentMode,Vi=null,yc=null,Xl=null,bc=!1;function Qp(i,l,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;bc||Vi==null||Vi!==ka(c)||(c=Vi,"selectionStart"in c&&gc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Xl&&Kl(Xl,c)||(Xl=c,c=vo(yc,"onSelect"),0<c.length&&(l=new za("onSelect","select",null,l,o),i.push({event:l,listeners:c}),l.target=Vi)))}function Xr(i,l){var o={};return o[i.toLowerCase()]=l.toLowerCase(),o["Webkit"+i]="webkit"+l,o["Moz"+i]="moz"+l,o}var Pi={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionrun:Xr("Transition","TransitionRun"),transitionstart:Xr("Transition","TransitionStart"),transitioncancel:Xr("Transition","TransitionCancel"),transitionend:Xr("Transition","TransitionEnd")},Sc={},Wp={};zn&&(Wp=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function Jr(i){if(Sc[i])return Sc[i];if(!Pi[i])return i;var l=Pi[i],o;for(o in l)if(l.hasOwnProperty(o)&&o in Wp)return Sc[i]=l[o];return i}var Zp=Jr("animationend"),em=Jr("animationiteration"),tm=Jr("animationstart"),Vv=Jr("transitionrun"),Pv=Jr("transitionstart"),Fv=Jr("transitioncancel"),nm=Jr("transitionend"),rm=new Map,xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xc.push("scrollEnd");function sn(i,l){rm.set(i,l),Gr(l,[i])}var im=new WeakMap;function Kt(i,l){if(typeof i=="object"&&i!==null){var o=im.get(i);return o!==void 0?o:(l={value:i,source:l,stack:xp(l)},im.set(i,l),l)}return{value:i,source:l,stack:xp(l)}}var Xt=[],Fi=0,vc=0;function ja(){for(var i=Fi,l=vc=Fi=0;l<i;){var o=Xt[l];Xt[l++]=null;var c=Xt[l];Xt[l++]=null;var h=Xt[l];Xt[l++]=null;var m=Xt[l];if(Xt[l++]=null,c!==null&&h!==null){var v=c.pending;v===null?h.next=h:(h.next=v.next,v.next=h),c.pending=h}m!==0&&lm(o,h,m)}}function _a(i,l,o,c){Xt[Fi++]=i,Xt[Fi++]=l,Xt[Fi++]=o,Xt[Fi++]=c,vc|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function wc(i,l,o,c){return _a(i,l,o,c),Ua(i)}function Ii(i,l){return _a(i,null,null,l),Ua(i)}function lm(i,l,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var h=!1,m=i.return;m!==null;)m.childLanes|=o,c=m.alternate,c!==null&&(c.childLanes|=o),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(h=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,h&&l!==null&&(h=31-Lt(o),i=m.hiddenUpdates,c=i[h],c===null?i[h]=[l]:c.push(l),l.lane=o|536870912),m):null}function Ua(i){if(50<vs)throw vs=0,Af=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var Yi={};function Iv(i,l,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(i,l,o,c){return new Iv(i,l,o,c)}function Ec(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Bn(i,l){var o=i.alternate;return o===null?(o=_t(i.tag,l,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=l,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,l=i.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function sm(i,l){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,l=o.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Ha(i,l,o,c,h,m){var v=0;if(c=i,typeof i=="function")Ec(i)&&(v=1);else if(typeof i=="string")v=$w(i,o,$e.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case $:return i=_t(31,o,l,h),i.elementType=$,i.lanes=m,i;case S:return Qr(o.children,h,m,l);case w:v=8,h|=24;break;case T:return i=_t(12,o,l,h|2),i.elementType=T,i.lanes=m,i;case j:return i=_t(13,o,l,h),i.elementType=j,i.lanes=m,i;case G:return i=_t(19,o,l,h),i.elementType=G,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:case U:v=10;break e;case L:v=9;break e;case I:v=11;break e;case J:v=14;break e;case Y:v=16,c=null;break e}v=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return l=_t(v,o,l,h),l.elementType=i,l.type=c,l.lanes=m,l}function Qr(i,l,o,c){return i=_t(7,i,c,l),i.lanes=o,i}function Tc(i,l,o){return i=_t(6,i,null,l),i.lanes=o,i}function Mc(i,l,o){return l=_t(4,i.children!==null?i.children:[],i.key,l),l.lanes=o,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var $i=[],Gi=0,qa=null,Va=0,Jt=[],Qt=0,Wr=null,Ln=1,jn="";function Zr(i,l){$i[Gi++]=Va,$i[Gi++]=qa,qa=i,Va=l}function am(i,l,o){Jt[Qt++]=Ln,Jt[Qt++]=jn,Jt[Qt++]=Wr,Wr=i;var c=Ln;i=jn;var h=32-Lt(c)-1;c&=~(1<<h),o+=1;var m=32-Lt(l)+h;if(30<m){var v=h-h%5;m=(c&(1<<v)-1).toString(32),c>>=v,h-=v,Ln=1<<32-Lt(l)+h|o<<h|c,jn=m+i}else Ln=1<<m|o<<h|c,jn=i}function Oc(i){i.return!==null&&(Zr(i,1),am(i,1,0))}function Cc(i){for(;i===qa;)qa=$i[--Gi],$i[Gi]=null,Va=$i[--Gi],$i[Gi]=null;for(;i===Wr;)Wr=Jt[--Qt],Jt[Qt]=null,jn=Jt[--Qt],Jt[Qt]=null,Ln=Jt[--Qt],Jt[Qt]=null}var gt=null,Be=null,ge=!1,ei=null,yn=!1,kc=Error(r(519));function ti(i){var l=Error(r(418,""));throw Wl(Kt(l,i)),kc}function om(i){var l=i.stateNode,o=i.type,c=i.memoizedProps;switch(l[ot]=i,l[Tt]=c,o){case"dialog":de("cancel",l),de("close",l);break;case"iframe":case"object":case"embed":de("load",l);break;case"video":case"audio":for(o=0;o<Es.length;o++)de(Es[o],l);break;case"source":de("error",l);break;case"img":case"image":case"link":de("error",l),de("load",l);break;case"details":de("toggle",l);break;case"input":de("invalid",l),Ep(l,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ca(l);break;case"select":de("invalid",l);break;case"textarea":de("invalid",l),Mp(l,c.value,c.defaultValue,c.children),Ca(l)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||l.textContent===""+o||c.suppressHydrationWarning===!0||My(l.textContent,o)?(c.popover!=null&&(de("beforetoggle",l),de("toggle",l)),c.onScroll!=null&&de("scroll",l),c.onScrollEnd!=null&&de("scrollend",l),c.onClick!=null&&(l.onclick=wo),l=!0):l=!1,l||ti(i)}function um(i){for(gt=i.return;gt;)switch(gt.tag){case 5:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:gt=gt.return}}function Jl(i){if(i!==gt)return!1;if(!ge)return um(i),ge=!0,!1;var l=i.tag,o;if((o=l!==3&&l!==27)&&((o=l===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Yf(i.type,i.memoizedProps)),o=!o),o&&Be&&ti(i),um(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(l===0){Be=on(i.nextSibling);break e}l--}else o!=="$"&&o!=="$!"&&o!=="$?"||l++;i=i.nextSibling}Be=null}}else l===27?(l=Be,xr(i.type)?(i=Xf,Xf=null,Be=i):Be=l):Be=gt?on(i.stateNode.nextSibling):null;return!0}function Ql(){Be=gt=null,ge=!1}function cm(){var i=ei;return i!==null&&(kt===null?kt=i:kt.push.apply(kt,i),ei=null),i}function Wl(i){ei===null?ei=[i]:ei.push(i)}var Ac=mt(null),ni=null,_n=null;function lr(i,l,o){ve(Ac,l._currentValue),l._currentValue=o}function Un(i){i._currentValue=Ac.current,Re(Ac)}function Nc(i,l,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,c!==null&&(c.childLanes|=l)):c!==null&&(c.childLanes&l)!==l&&(c.childLanes|=l),i===o)break;i=i.return}}function Rc(i,l,o,c){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var m=h.dependencies;if(m!==null){var v=h.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=h;for(var M=0;M<l.length;M++)if(E.context===l[M]){m.lanes|=o,E=m.alternate,E!==null&&(E.lanes|=o),Nc(m.return,o,i),c||(v=null);break e}m=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=o,m=v.alternate,m!==null&&(m.lanes|=o),Nc(v,o,i),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===i){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Zl(i,l,o,c){i=null;for(var h=l,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=h.type;jt(h.pendingProps.value,v.value)||(i!==null?i.push(E):i=[E])}}else if(h===ba.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(As):i=[As])}h=h.return}i!==null&&Rc(l,i,o,c),l.flags|=262144}function Pa(i){for(i=i.firstContext;i!==null;){if(!jt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ri(i){ni=i,_n=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ut(i){return fm(ni,i)}function Fa(i,l){return ni===null&&ri(i),fm(i,l)}function fm(i,l){var o=l._currentValue;if(l={context:l,memoizedValue:o,next:null},_n===null){if(i===null)throw Error(r(308));_n=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else _n=_n.next=l;return o}var Yv=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){l.aborted=!0,i.forEach(function(o){return o()})}},$v=n.unstable_scheduleCallback,Gv=n.unstable_NormalPriority,Fe={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dc(){return{controller:new Yv,data:new Map,refCount:0}}function es(i){i.refCount--,i.refCount===0&&$v(Gv,function(){i.controller.abort()})}var ts=null,zc=0,Ki=0,Xi=null;function Kv(i,l){if(ts===null){var o=ts=[];zc=0,Ki=jf(),Xi={status:"pending",value:void 0,then:function(c){o.push(c)}}}return zc++,l.then(dm,dm),l}function dm(){if(--zc===0&&ts!==null){Xi!==null&&(Xi.status="fulfilled");var i=ts;ts=null,Ki=0,Xi=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function Xv(i,l){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return i.then(function(){c.status="fulfilled",c.value=l;for(var h=0;h<o.length;h++)(0,o[h])(l)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var hm=V.S;V.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Kv(i,l),hm!==null&&hm(i,l)};var ii=mt(null);function Bc(){var i=ii.current;return i!==null?i:Ce.pooledCache}function Ia(i,l){l===null?ve(ii,ii.current):ve(ii,l.pool)}function pm(){var i=Bc();return i===null?null:{parent:Fe._currentValue,pool:i}}var ns=Error(r(460)),mm=Error(r(474)),Ya=Error(r(542)),Lc={then:function(){}};function gm(i){return i=i.status,i==="fulfilled"||i==="rejected"}function $a(){}function ym(i,l,o){switch(o=i[o],o===void 0?i.push(l):o!==l&&(l.then($a,$a),l=o),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Sm(i),i;default:if(typeof l.status=="string")l.then($a,$a);else{if(i=Ce,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(c){if(l.status==="pending"){var h=l;h.status="fulfilled",h.value=c}},function(c){if(l.status==="pending"){var h=l;h.status="rejected",h.reason=c}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Sm(i),i}throw rs=l,ns}}var rs=null;function bm(){if(rs===null)throw Error(r(459));var i=rs;return rs=null,i}function Sm(i){if(i===ns||i===Ya)throw Error(r(483))}var sr=!1;function jc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _c(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ar(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function or(i,l,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(be&2)!==0){var h=c.pending;return h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l,l=Ua(i),lm(i,null,o),l}return _a(i,c,l,o),Ua(i)}function is(i,l,o){if(l=l.updateQueue,l!==null&&(l=l.shared,(o&4194048)!==0)){var c=l.lanes;c&=i.pendingLanes,o|=c,l.lanes=o,dp(i,o)}}function Uc(i,l){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var v={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?h=m=v:m=m.next=v,o=o.next}while(o!==null);m===null?h=m=l:m=m.next=l}else h=m=l;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=l:i.next=l,o.lastBaseUpdate=l}var Hc=!1;function ls(){if(Hc){var i=Xi;if(i!==null)throw i}}function ss(i,l,o,c){Hc=!1;var h=i.updateQueue;sr=!1;var m=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var M=E,D=M.next;M.next=null,v===null?m=D:v.next=D,v=M;var H=i.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==v&&(E===null?H.firstBaseUpdate=D:E.next=D,H.lastBaseUpdate=M))}if(m!==null){var P=h.baseState;v=0,H=D=M=null,E=m;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(pe&z)===z:(c&z)===z){z!==0&&z===Ki&&(Hc=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var re=i,te=E;z=l;var Te=o;switch(te.tag){case 1:if(re=te.payload,typeof re=="function"){P=re.call(Te,P,z);break e}P=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=te.payload,z=typeof re=="function"?re.call(Te,P,z):re,z==null)break e;P=g({},P,z);break e;case 2:sr=!0}}z=E.callback,z!==null&&(i.flags|=64,B&&(i.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(D=H=B,M=P):H=H.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);H===null&&(M=P),h.baseState=M,h.firstBaseUpdate=D,h.lastBaseUpdate=H,m===null&&(h.shared.lanes=0),gr|=v,i.lanes=v,i.memoizedState=P}}function xm(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function vm(i,l){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)xm(o[i],l)}var Ji=mt(null),Ga=mt(0);function wm(i,l){i=Yn,ve(Ga,i),ve(Ji,l),Yn=i|l.baseLanes}function qc(){ve(Ga,Yn),ve(Ji,Ji.current)}function Vc(){Yn=Ga.current,Re(Ji),Re(Ga)}var ur=0,oe=null,we=null,qe=null,Ka=!1,Qi=!1,li=!1,Xa=0,as=0,Wi=null,Jv=0;function _e(){throw Error(r(321))}function Pc(i,l){if(l===null)return!1;for(var o=0;o<l.length&&o<i.length;o++)if(!jt(i[o],l[o]))return!1;return!0}function Fc(i,l,o,c,h,m){return ur=m,oe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,V.H=i===null||i.memoizedState===null?lg:sg,li=!1,m=o(c,h),li=!1,Qi&&(m=Tm(l,o,c,h)),Em(i),m}function Em(i){V.H=to;var l=we!==null&&we.next!==null;if(ur=0,qe=we=oe=null,Ka=!1,as=0,Wi=null,l)throw Error(r(300));i===null||Ke||(i=i.dependencies,i!==null&&Pa(i)&&(Ke=!0))}function Tm(i,l,o,c){oe=i;var h=0;do{if(Qi&&(Wi=null),as=0,Qi=!1,25<=h)throw Error(r(301));if(h+=1,qe=we=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}V.H=rw,m=l(o,c)}while(Qi);return m}function Qv(){var i=V.H,l=i.useState()[0];return l=typeof l.then=="function"?us(l):l,i=i.useState()[0],(we!==null?we.memoizedState:null)!==i&&(oe.flags|=1024),l}function Ic(){var i=Xa!==0;return Xa=0,i}function Yc(i,l,o){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~o}function $c(i){if(Ka){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Ka=!1}ur=0,qe=we=oe=null,Qi=!1,as=Xa=0,Wi=null}function Ot(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?oe.memoizedState=qe=i:qe=qe.next=i,qe}function Ve(){if(we===null){var i=oe.alternate;i=i!==null?i.memoizedState:null}else i=we.next;var l=qe===null?oe.memoizedState:qe.next;if(l!==null)qe=l,we=i;else{if(i===null)throw oe.alternate===null?Error(r(467)):Error(r(310));we=i,i={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},qe===null?oe.memoizedState=qe=i:qe=qe.next=i}return qe}function Gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function us(i){var l=as;return as+=1,Wi===null&&(Wi=[]),i=ym(Wi,i,l),l=oe,(qe===null?l.memoizedState:qe.next)===null&&(l=l.alternate,V.H=l===null||l.memoizedState===null?lg:sg),i}function Ja(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return us(i);if(i.$$typeof===U)return ut(i)}throw Error(r(438,String(i)))}function Kc(i){var l=null,o=oe.updateQueue;if(o!==null&&(l=o.memoCache),l==null){var c=oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(l={data:c.data.map(function(h){return h.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),o===null&&(o=Gc(),oe.updateQueue=o),o.memoCache=l,o=l.data[l.index],o===void 0)for(o=l.data[l.index]=Array(i),c=0;c<i;c++)o[c]=he;return l.index++,o}function Hn(i,l){return typeof l=="function"?l(i):l}function Qa(i){var l=Ve();return Xc(l,we,i)}function Xc(i,l,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var h=i.baseQueue,m=c.pending;if(m!==null){if(h!==null){var v=h.next;h.next=m.next,m.next=v}l.baseQueue=h=m,c.pending=null}if(m=i.baseState,h===null)i.memoizedState=m;else{l=h.next;var E=v=null,M=null,D=l,H=!1;do{var P=D.lane&-536870913;if(P!==D.lane?(pe&P)===P:(ur&P)===P){var z=D.revertLane;if(z===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),P===Ki&&(H=!0);else if((ur&z)===z){D=D.next,z===Ki&&(H=!0);continue}else P={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},M===null?(E=M=P,v=m):M=M.next=P,oe.lanes|=z,gr|=z;P=D.action,li&&o(m,P),m=D.hasEagerState?D.eagerState:o(m,P)}else z={lane:P,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},M===null?(E=M=z,v=m):M=M.next=z,oe.lanes|=P,gr|=P;D=D.next}while(D!==null&&D!==l);if(M===null?v=m:M.next=E,!jt(m,i.memoizedState)&&(Ke=!0,H&&(o=Xi,o!==null)))throw o;i.memoizedState=m,i.baseState=v,i.baseQueue=M,c.lastRenderedState=m}return h===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Jc(i){var l=Ve(),o=l.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,h=o.pending,m=l.memoizedState;if(h!==null){o.pending=null;var v=h=h.next;do m=i(m,v.action),v=v.next;while(v!==h);jt(m,l.memoizedState)||(Ke=!0),l.memoizedState=m,l.baseQueue===null&&(l.baseState=m),o.lastRenderedState=m}return[m,c]}function Mm(i,l,o){var c=oe,h=Ve(),m=ge;if(m){if(o===void 0)throw Error(r(407));o=o()}else o=l();var v=!jt((we||h).memoizedState,o);v&&(h.memoizedState=o,Ke=!0),h=h.queue;var E=km.bind(null,c,h,i);if(cs(2048,8,E,[i]),h.getSnapshot!==l||v||qe!==null&&qe.memoizedState.tag&1){if(c.flags|=2048,Zi(9,Wa(),Cm.bind(null,c,h,o,l),null),Ce===null)throw Error(r(349));m||(ur&124)!==0||Om(c,l,o)}return o}function Om(i,l,o){i.flags|=16384,i={getSnapshot:l,value:o},l=oe.updateQueue,l===null?(l=Gc(),oe.updateQueue=l,l.stores=[i]):(o=l.stores,o===null?l.stores=[i]:o.push(i))}function Cm(i,l,o,c){l.value=o,l.getSnapshot=c,Am(l)&&Nm(i)}function km(i,l,o){return o(function(){Am(l)&&Nm(i)})}function Am(i){var l=i.getSnapshot;i=i.value;try{var o=l();return!jt(i,o)}catch{return!0}}function Nm(i){var l=Ii(i,2);l!==null&&Pt(l,i,2)}function Qc(i){var l=Ot();if(typeof i=="function"){var o=i;if(i=o(),li){nr(!0);try{o()}finally{nr(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:i},l}function Rm(i,l,o,c){return i.baseState=o,Xc(i,we,typeof c=="function"?c:Hn)}function Wv(i,l,o,c,h){if(eo(i))throw Error(r(485));if(i=l.action,i!==null){var m={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};V.T!==null?o(!0):m.isTransition=!1,c(m),o=l.pending,o===null?(m.next=l.pending=m,Dm(l,m)):(m.next=o.next,l.pending=o.next=m)}}function Dm(i,l){var o=l.action,c=l.payload,h=i.state;if(l.isTransition){var m=V.T,v={};V.T=v;try{var E=o(h,c),M=V.S;M!==null&&M(v,E),zm(i,l,E)}catch(D){Wc(i,l,D)}finally{V.T=m}}else try{m=o(h,c),zm(i,l,m)}catch(D){Wc(i,l,D)}}function zm(i,l,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Bm(i,l,c)},function(c){return Wc(i,l,c)}):Bm(i,l,o)}function Bm(i,l,o){l.status="fulfilled",l.value=o,Lm(l),i.state=o,l=i.pending,l!==null&&(o=l.next,o===l?i.pending=null:(o=o.next,l.next=o,Dm(i,o)))}function Wc(i,l,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do l.status="rejected",l.reason=o,Lm(l),l=l.next;while(l!==c)}i.action=null}function Lm(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function jm(i,l){return l}function _m(i,l){if(ge){var o=Ce.formState;if(o!==null){e:{var c=oe;if(ge){if(Be){t:{for(var h=Be,m=yn;h.nodeType!==8;){if(!m){h=null;break t}if(h=on(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Be=on(h.nextSibling),c=h.data==="F!";break e}}ti(c)}c=!1}c&&(l=o[0])}}return o=Ot(),o.memoizedState=o.baseState=l,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jm,lastRenderedState:l},o.queue=c,o=ng.bind(null,oe,c),c.dispatch=o,c=Qc(!1),m=rf.bind(null,oe,!1,c.queue),c=Ot(),h={state:l,dispatch:null,action:i,pending:null},c.queue=h,o=Wv.bind(null,oe,h,m,o),h.dispatch=o,c.memoizedState=i,[l,o,!1]}function Um(i){var l=Ve();return Hm(l,we,i)}function Hm(i,l,o){if(l=Xc(i,l,jm)[0],i=Qa(Hn)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var c=us(l)}catch(v){throw v===ns?Ya:v}else c=l;l=Ve();var h=l.queue,m=h.dispatch;return o!==l.memoizedState&&(oe.flags|=2048,Zi(9,Wa(),Zv.bind(null,h,o),null)),[c,m,i]}function Zv(i,l){i.action=l}function qm(i){var l=Ve(),o=we;if(o!==null)return Hm(l,o,i);Ve(),l=l.memoizedState,o=Ve();var c=o.queue.dispatch;return o.memoizedState=i,[l,c,!1]}function Zi(i,l,o,c){return i={tag:i,create:o,deps:c,inst:l,next:null},l=oe.updateQueue,l===null&&(l=Gc(),oe.updateQueue=l),o=l.lastEffect,o===null?l.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,l.lastEffect=i),i}function Wa(){return{destroy:void 0,resource:void 0}}function Vm(){return Ve().memoizedState}function Za(i,l,o,c){var h=Ot();c=c===void 0?null:c,oe.flags|=i,h.memoizedState=Zi(1|l,Wa(),o,c)}function cs(i,l,o,c){var h=Ve();c=c===void 0?null:c;var m=h.memoizedState.inst;we!==null&&c!==null&&Pc(c,we.memoizedState.deps)?h.memoizedState=Zi(l,m,o,c):(oe.flags|=i,h.memoizedState=Zi(1|l,m,o,c))}function Pm(i,l){Za(8390656,8,i,l)}function Fm(i,l){cs(2048,8,i,l)}function Im(i,l){return cs(4,2,i,l)}function Ym(i,l){return cs(4,4,i,l)}function $m(i,l){if(typeof l=="function"){i=i();var o=l(i);return function(){typeof o=="function"?o():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Gm(i,l,o){o=o!=null?o.concat([i]):null,cs(4,4,$m.bind(null,l,i),o)}function Zc(){}function Km(i,l){var o=Ve();l=l===void 0?null:l;var c=o.memoizedState;return l!==null&&Pc(l,c[1])?c[0]:(o.memoizedState=[i,l],i)}function Xm(i,l){var o=Ve();l=l===void 0?null:l;var c=o.memoizedState;if(l!==null&&Pc(l,c[1]))return c[0];if(c=i(),li){nr(!0);try{i()}finally{nr(!1)}}return o.memoizedState=[c,l],c}function ef(i,l,o){return o===void 0||(ur&1073741824)!==0?i.memoizedState=l:(i.memoizedState=o,i=Wg(),oe.lanes|=i,gr|=i,o)}function Jm(i,l,o,c){return jt(o,l)?o:Ji.current!==null?(i=ef(i,o,c),jt(i,l)||(Ke=!0),i):(ur&42)===0?(Ke=!0,i.memoizedState=o):(i=Wg(),oe.lanes|=i,gr|=i,l)}function Qm(i,l,o,c,h){var m=X.p;X.p=m!==0&&8>m?m:8;var v=V.T,E={};V.T=E,rf(i,!1,l,o);try{var M=h(),D=V.S;if(D!==null&&D(E,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var H=Xv(M,c);fs(i,l,H,Vt(i))}else fs(i,l,c,Vt(i))}catch(P){fs(i,l,{then:function(){},status:"rejected",reason:P},Vt())}finally{X.p=m,V.T=v}}function ew(){}function tf(i,l,o,c){if(i.tag!==5)throw Error(r(476));var h=Wm(i).queue;Qm(i,h,l,ie,o===null?ew:function(){return Zm(i),o(c)})}function Wm(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:ie},next:null};var o={};return l.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:o},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function Zm(i){var l=Wm(i).next.queue;fs(i,l,{},Vt())}function nf(){return ut(As)}function eg(){return Ve().memoizedState}function tg(){return Ve().memoizedState}function tw(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var o=Vt();i=ar(o);var c=or(l,i,o);c!==null&&(Pt(c,l,o),is(c,l,o)),l={cache:Dc()},i.payload=l;return}l=l.return}}function nw(i,l,o){var c=Vt();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},eo(i)?rg(l,o):(o=wc(i,l,o,c),o!==null&&(Pt(o,i,c),ig(o,l,c)))}function ng(i,l,o){var c=Vt();fs(i,l,o,c)}function fs(i,l,o,c){var h={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(eo(i))rg(l,h);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=l.lastRenderedReducer,m!==null))try{var v=l.lastRenderedState,E=m(v,o);if(h.hasEagerState=!0,h.eagerState=E,jt(E,v))return _a(i,l,h,0),Ce===null&&ja(),!1}catch{}finally{}if(o=wc(i,l,h,c),o!==null)return Pt(o,i,c),ig(o,l,c),!0}return!1}function rf(i,l,o,c){if(c={lane:2,revertLane:jf(),action:c,hasEagerState:!1,eagerState:null,next:null},eo(i)){if(l)throw Error(r(479))}else l=wc(i,o,c,2),l!==null&&Pt(l,i,2)}function eo(i){var l=i.alternate;return i===oe||l!==null&&l===oe}function rg(i,l){Qi=Ka=!0;var o=i.pending;o===null?l.next=l:(l.next=o.next,o.next=l),i.pending=l}function ig(i,l,o){if((o&4194048)!==0){var c=l.lanes;c&=i.pendingLanes,o|=c,l.lanes=o,dp(i,o)}}var to={readContext:ut,use:Ja,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},lg={readContext:ut,use:Ja,useCallback:function(i,l){return Ot().memoizedState=[i,l===void 0?null:l],i},useContext:ut,useEffect:Pm,useImperativeHandle:function(i,l,o){o=o!=null?o.concat([i]):null,Za(4194308,4,$m.bind(null,l,i),o)},useLayoutEffect:function(i,l){return Za(4194308,4,i,l)},useInsertionEffect:function(i,l){Za(4,2,i,l)},useMemo:function(i,l){var o=Ot();l=l===void 0?null:l;var c=i();if(li){nr(!0);try{i()}finally{nr(!1)}}return o.memoizedState=[c,l],c},useReducer:function(i,l,o){var c=Ot();if(o!==void 0){var h=o(l);if(li){nr(!0);try{o(l)}finally{nr(!1)}}}else h=l;return c.memoizedState=c.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},c.queue=i,i=i.dispatch=nw.bind(null,oe,i),[c.memoizedState,i]},useRef:function(i){var l=Ot();return i={current:i},l.memoizedState=i},useState:function(i){i=Qc(i);var l=i.queue,o=ng.bind(null,oe,l);return l.dispatch=o,[i.memoizedState,o]},useDebugValue:Zc,useDeferredValue:function(i,l){var o=Ot();return ef(o,i,l)},useTransition:function(){var i=Qc(!1);return i=Qm.bind(null,oe,i.queue,!0,!1),Ot().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,o){var c=oe,h=Ot();if(ge){if(o===void 0)throw Error(r(407));o=o()}else{if(o=l(),Ce===null)throw Error(r(349));(pe&124)!==0||Om(c,l,o)}h.memoizedState=o;var m={value:o,getSnapshot:l};return h.queue=m,Pm(km.bind(null,c,m,i),[i]),c.flags|=2048,Zi(9,Wa(),Cm.bind(null,c,m,o,l),null),o},useId:function(){var i=Ot(),l=Ce.identifierPrefix;if(ge){var o=jn,c=Ln;o=(c&~(1<<32-Lt(c)-1)).toString(32)+o,l="«"+l+"R"+o,o=Xa++,0<o&&(l+="H"+o.toString(32)),l+="»"}else o=Jv++,l="«"+l+"r"+o.toString(32)+"»";return i.memoizedState=l},useHostTransitionStatus:nf,useFormState:_m,useActionState:_m,useOptimistic:function(i){var l=Ot();l.memoizedState=l.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=o,l=rf.bind(null,oe,!0,o),o.dispatch=l,[i,l]},useMemoCache:Kc,useCacheRefresh:function(){return Ot().memoizedState=tw.bind(null,oe)}},sg={readContext:ut,use:Ja,useCallback:Km,useContext:ut,useEffect:Fm,useImperativeHandle:Gm,useInsertionEffect:Im,useLayoutEffect:Ym,useMemo:Xm,useReducer:Qa,useRef:Vm,useState:function(){return Qa(Hn)},useDebugValue:Zc,useDeferredValue:function(i,l){var o=Ve();return Jm(o,we.memoizedState,i,l)},useTransition:function(){var i=Qa(Hn)[0],l=Ve().memoizedState;return[typeof i=="boolean"?i:us(i),l]},useSyncExternalStore:Mm,useId:eg,useHostTransitionStatus:nf,useFormState:Um,useActionState:Um,useOptimistic:function(i,l){var o=Ve();return Rm(o,we,i,l)},useMemoCache:Kc,useCacheRefresh:tg},rw={readContext:ut,use:Ja,useCallback:Km,useContext:ut,useEffect:Fm,useImperativeHandle:Gm,useInsertionEffect:Im,useLayoutEffect:Ym,useMemo:Xm,useReducer:Jc,useRef:Vm,useState:function(){return Jc(Hn)},useDebugValue:Zc,useDeferredValue:function(i,l){var o=Ve();return we===null?ef(o,i,l):Jm(o,we.memoizedState,i,l)},useTransition:function(){var i=Jc(Hn)[0],l=Ve().memoizedState;return[typeof i=="boolean"?i:us(i),l]},useSyncExternalStore:Mm,useId:eg,useHostTransitionStatus:nf,useFormState:qm,useActionState:qm,useOptimistic:function(i,l){var o=Ve();return we!==null?Rm(o,we,i,l):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Kc,useCacheRefresh:tg},el=null,ds=0;function no(i){var l=ds;return ds+=1,el===null&&(el=[]),ym(el,i,l)}function hs(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function ro(i,l){throw l.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function ag(i){var l=i._init;return l(i._payload)}function og(i){function l(A,C){if(i){var R=A.deletions;R===null?(A.deletions=[C],A.flags|=16):R.push(C)}}function o(A,C){if(!i)return null;for(;C!==null;)l(A,C),C=C.sibling;return null}function c(A){for(var C=new Map;A!==null;)A.key!==null?C.set(A.key,A):C.set(A.index,A),A=A.sibling;return C}function h(A,C){return A=Bn(A,C),A.index=0,A.sibling=null,A}function m(A,C,R){return A.index=R,i?(R=A.alternate,R!==null?(R=R.index,R<C?(A.flags|=67108866,C):R):(A.flags|=67108866,C)):(A.flags|=1048576,C)}function v(A){return i&&A.alternate===null&&(A.flags|=67108866),A}function E(A,C,R,q){return C===null||C.tag!==6?(C=Tc(R,A.mode,q),C.return=A,C):(C=h(C,R),C.return=A,C)}function M(A,C,R,q){var Q=R.type;return Q===S?H(A,C,R.props.children,q,R.key):C!==null&&(C.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Y&&ag(Q)===C.type)?(C=h(C,R.props),hs(C,R),C.return=A,C):(C=Ha(R.type,R.key,R.props,null,A.mode,q),hs(C,R),C.return=A,C)}function D(A,C,R,q){return C===null||C.tag!==4||C.stateNode.containerInfo!==R.containerInfo||C.stateNode.implementation!==R.implementation?(C=Mc(R,A.mode,q),C.return=A,C):(C=h(C,R.children||[]),C.return=A,C)}function H(A,C,R,q,Q){return C===null||C.tag!==7?(C=Qr(R,A.mode,q,Q),C.return=A,C):(C=h(C,R),C.return=A,C)}function P(A,C,R){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Tc(""+C,A.mode,R),C.return=A,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case b:return R=Ha(C.type,C.key,C.props,null,A.mode,R),hs(R,C),R.return=A,R;case x:return C=Mc(C,A.mode,R),C.return=A,C;case Y:var q=C._init;return C=q(C._payload),P(A,C,R)}if(Rn(C)||Yt(C))return C=Qr(C,A.mode,R,null),C.return=A,C;if(typeof C.then=="function")return P(A,no(C),R);if(C.$$typeof===U)return P(A,Fa(A,C),R);ro(A,C)}return null}function z(A,C,R,q){var Q=C!==null?C.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return Q!==null?null:E(A,C,""+R,q);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return R.key===Q?M(A,C,R,q):null;case x:return R.key===Q?D(A,C,R,q):null;case Y:return Q=R._init,R=Q(R._payload),z(A,C,R,q)}if(Rn(R)||Yt(R))return Q!==null?null:H(A,C,R,q,null);if(typeof R.then=="function")return z(A,C,no(R),q);if(R.$$typeof===U)return z(A,C,Fa(A,R),q);ro(A,R)}return null}function B(A,C,R,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return A=A.get(R)||null,E(C,A,""+q,Q);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return A=A.get(q.key===null?R:q.key)||null,M(C,A,q,Q);case x:return A=A.get(q.key===null?R:q.key)||null,D(C,A,q,Q);case Y:var ce=q._init;return q=ce(q._payload),B(A,C,R,q,Q)}if(Rn(q)||Yt(q))return A=A.get(R)||null,H(C,A,q,Q,null);if(typeof q.then=="function")return B(A,C,R,no(q),Q);if(q.$$typeof===U)return B(A,C,R,Fa(C,q),Q);ro(C,q)}return null}function re(A,C,R,q){for(var Q=null,ce=null,Z=C,ne=C=0,Je=null;Z!==null&&ne<R.length;ne++){Z.index>ne?(Je=Z,Z=null):Je=Z.sibling;var me=z(A,Z,R[ne],q);if(me===null){Z===null&&(Z=Je);break}i&&Z&&me.alternate===null&&l(A,Z),C=m(me,C,ne),ce===null?Q=me:ce.sibling=me,ce=me,Z=Je}if(ne===R.length)return o(A,Z),ge&&Zr(A,ne),Q;if(Z===null){for(;ne<R.length;ne++)Z=P(A,R[ne],q),Z!==null&&(C=m(Z,C,ne),ce===null?Q=Z:ce.sibling=Z,ce=Z);return ge&&Zr(A,ne),Q}for(Z=c(Z);ne<R.length;ne++)Je=B(Z,A,ne,R[ne],q),Je!==null&&(i&&Je.alternate!==null&&Z.delete(Je.key===null?ne:Je.key),C=m(Je,C,ne),ce===null?Q=Je:ce.sibling=Je,ce=Je);return i&&Z.forEach(function(Mr){return l(A,Mr)}),ge&&Zr(A,ne),Q}function te(A,C,R,q){if(R==null)throw Error(r(151));for(var Q=null,ce=null,Z=C,ne=C=0,Je=null,me=R.next();Z!==null&&!me.done;ne++,me=R.next()){Z.index>ne?(Je=Z,Z=null):Je=Z.sibling;var Mr=z(A,Z,me.value,q);if(Mr===null){Z===null&&(Z=Je);break}i&&Z&&Mr.alternate===null&&l(A,Z),C=m(Mr,C,ne),ce===null?Q=Mr:ce.sibling=Mr,ce=Mr,Z=Je}if(me.done)return o(A,Z),ge&&Zr(A,ne),Q;if(Z===null){for(;!me.done;ne++,me=R.next())me=P(A,me.value,q),me!==null&&(C=m(me,C,ne),ce===null?Q=me:ce.sibling=me,ce=me);return ge&&Zr(A,ne),Q}for(Z=c(Z);!me.done;ne++,me=R.next())me=B(Z,A,ne,me.value,q),me!==null&&(i&&me.alternate!==null&&Z.delete(me.key===null?ne:me.key),C=m(me,C,ne),ce===null?Q=me:ce.sibling=me,ce=me);return i&&Z.forEach(function(iE){return l(A,iE)}),ge&&Zr(A,ne),Q}function Te(A,C,R,q){if(typeof R=="object"&&R!==null&&R.type===S&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case b:e:{for(var Q=R.key;C!==null;){if(C.key===Q){if(Q=R.type,Q===S){if(C.tag===7){o(A,C.sibling),q=h(C,R.props.children),q.return=A,A=q;break e}}else if(C.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Y&&ag(Q)===C.type){o(A,C.sibling),q=h(C,R.props),hs(q,R),q.return=A,A=q;break e}o(A,C);break}else l(A,C);C=C.sibling}R.type===S?(q=Qr(R.props.children,A.mode,q,R.key),q.return=A,A=q):(q=Ha(R.type,R.key,R.props,null,A.mode,q),hs(q,R),q.return=A,A=q)}return v(A);case x:e:{for(Q=R.key;C!==null;){if(C.key===Q)if(C.tag===4&&C.stateNode.containerInfo===R.containerInfo&&C.stateNode.implementation===R.implementation){o(A,C.sibling),q=h(C,R.children||[]),q.return=A,A=q;break e}else{o(A,C);break}else l(A,C);C=C.sibling}q=Mc(R,A.mode,q),q.return=A,A=q}return v(A);case Y:return Q=R._init,R=Q(R._payload),Te(A,C,R,q)}if(Rn(R))return re(A,C,R,q);if(Yt(R)){if(Q=Yt(R),typeof Q!="function")throw Error(r(150));return R=Q.call(R),te(A,C,R,q)}if(typeof R.then=="function")return Te(A,C,no(R),q);if(R.$$typeof===U)return Te(A,C,Fa(A,R),q);ro(A,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,C!==null&&C.tag===6?(o(A,C.sibling),q=h(C,R),q.return=A,A=q):(o(A,C),q=Tc(R,A.mode,q),q.return=A,A=q),v(A)):o(A,C)}return function(A,C,R,q){try{ds=0;var Q=Te(A,C,R,q);return el=null,Q}catch(Z){if(Z===ns||Z===Ya)throw Z;var ce=_t(29,Z,null,A.mode);return ce.lanes=q,ce.return=A,ce}finally{}}}var tl=og(!0),ug=og(!1),Wt=mt(null),bn=null;function cr(i){var l=i.alternate;ve(Ie,Ie.current&1),ve(Wt,i),bn===null&&(l===null||Ji.current!==null||l.memoizedState!==null)&&(bn=i)}function cg(i){if(i.tag===22){if(ve(Ie,Ie.current),ve(Wt,i),bn===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(bn=i)}}else fr()}function fr(){ve(Ie,Ie.current),ve(Wt,Wt.current)}function qn(i){Re(Wt),bn===i&&(bn=null),Re(Ie)}var Ie=mt(0);function io(i){for(var l=i;l!==null;){if(l.tag===13){var o=l.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Kf(o)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function lf(i,l,o,c){l=i.memoizedState,o=o(c,l),o=o==null?l:g({},l,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var sf={enqueueSetState:function(i,l,o){i=i._reactInternals;var c=Vt(),h=ar(c);h.payload=l,o!=null&&(h.callback=o),l=or(i,h,c),l!==null&&(Pt(l,i,c),is(l,i,c))},enqueueReplaceState:function(i,l,o){i=i._reactInternals;var c=Vt(),h=ar(c);h.tag=1,h.payload=l,o!=null&&(h.callback=o),l=or(i,h,c),l!==null&&(Pt(l,i,c),is(l,i,c))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var o=Vt(),c=ar(o);c.tag=2,l!=null&&(c.callback=l),l=or(i,c,o),l!==null&&(Pt(l,i,o),is(l,i,o))}};function fg(i,l,o,c,h,m,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,m,v):l.prototype&&l.prototype.isPureReactComponent?!Kl(o,c)||!Kl(h,m):!0}function dg(i,l,o,c){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(o,c),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(o,c),l.state!==i&&sf.enqueueReplaceState(l,l.state,null)}function si(i,l){var o=l;if("ref"in l){o={};for(var c in l)c!=="ref"&&(o[c]=l[c])}if(i=i.defaultProps){o===l&&(o=g({},o));for(var h in i)o[h]===void 0&&(o[h]=i[h])}return o}var lo=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function hg(i){lo(i)}function pg(i){console.error(i)}function mg(i){lo(i)}function so(i,l){try{var o=i.onUncaughtError;o(l.value,{componentStack:l.stack})}catch(c){setTimeout(function(){throw c})}}function gg(i,l,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function af(i,l,o){return o=ar(o),o.tag=3,o.payload={element:null},o.callback=function(){so(i,l)},o}function yg(i){return i=ar(i),i.tag=3,i}function bg(i,l,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=c.value;i.payload=function(){return h(m)},i.callback=function(){gg(l,o,c)}}var v=o.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){gg(l,o,c),typeof h!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function iw(i,l,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(l=o.alternate,l!==null&&Zl(l,o,h,!0),o=Wt.current,o!==null){switch(o.tag){case 13:return bn===null?Rf():o.alternate===null&&Le===0&&(Le=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===Lc?o.flags|=16384:(l=o.updateQueue,l===null?o.updateQueue=new Set([c]):l.add(c),zf(i,c,h)),!1;case 22:return o.flags|=65536,c===Lc?o.flags|=16384:(l=o.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=l):(o=l.retryQueue,o===null?l.retryQueue=new Set([c]):o.add(c)),zf(i,c,h)),!1}throw Error(r(435,o.tag))}return zf(i,c,h),Rf(),!1}if(ge)return l=Wt.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=h,c!==kc&&(i=Error(r(422),{cause:c}),Wl(Kt(i,o)))):(c!==kc&&(l=Error(r(423),{cause:c}),Wl(Kt(l,o))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,c=Kt(c,o),h=af(i.stateNode,c,h),Uc(i,h),Le!==4&&(Le=2)),!1;var m=Error(r(520),{cause:c});if(m=Kt(m,o),xs===null?xs=[m]:xs.push(m),Le!==4&&(Le=2),l===null)return!0;c=Kt(c,o),o=l;do{switch(o.tag){case 3:return o.flags|=65536,i=h&-h,o.lanes|=i,i=af(o.stateNode,c,i),Uc(o,i),!1;case 1:if(l=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(yr===null||!yr.has(m))))return o.flags|=65536,h&=-h,o.lanes|=h,h=yg(h),bg(h,i,o,c),Uc(o,h),!1}o=o.return}while(o!==null);return!1}var Sg=Error(r(461)),Ke=!1;function tt(i,l,o,c){l.child=i===null?ug(l,null,o,c):tl(l,i.child,o,c)}function xg(i,l,o,c,h){o=o.render;var m=l.ref;if("ref"in c){var v={};for(var E in c)E!=="ref"&&(v[E]=c[E])}else v=c;return ri(l),c=Fc(i,l,o,v,m,h),E=Ic(),i!==null&&!Ke?(Yc(i,l,h),Vn(i,l,h)):(ge&&E&&Oc(l),l.flags|=1,tt(i,l,c,h),l.child)}function vg(i,l,o,c,h){if(i===null){var m=o.type;return typeof m=="function"&&!Ec(m)&&m.defaultProps===void 0&&o.compare===null?(l.tag=15,l.type=m,wg(i,l,m,c,h)):(i=Ha(o.type,null,c,l,l.mode,h),i.ref=l.ref,i.return=l,l.child=i)}if(m=i.child,!mf(i,h)){var v=m.memoizedProps;if(o=o.compare,o=o!==null?o:Kl,o(v,c)&&i.ref===l.ref)return Vn(i,l,h)}return l.flags|=1,i=Bn(m,c),i.ref=l.ref,i.return=l,l.child=i}function wg(i,l,o,c,h){if(i!==null){var m=i.memoizedProps;if(Kl(m,c)&&i.ref===l.ref)if(Ke=!1,l.pendingProps=c=m,mf(i,h))(i.flags&131072)!==0&&(Ke=!0);else return l.lanes=i.lanes,Vn(i,l,h)}return of(i,l,o,c,h)}function Eg(i,l,o){var c=l.pendingProps,h=c.children,m=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((l.flags&128)!==0){if(c=m!==null?m.baseLanes|o:o,i!==null){for(h=l.child=i.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;l.childLanes=m&~c}else l.childLanes=0,l.child=null;return Tg(i,l,c,o)}if((o&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ia(l,m!==null?m.cachePool:null),m!==null?wm(l,m):qc(),cg(l);else return l.lanes=l.childLanes=536870912,Tg(i,l,m!==null?m.baseLanes|o:o,o)}else m!==null?(Ia(l,m.cachePool),wm(l,m),fr(),l.memoizedState=null):(i!==null&&Ia(l,null),qc(),fr());return tt(i,l,h,o),l.child}function Tg(i,l,o,c){var h=Bc();return h=h===null?null:{parent:Fe._currentValue,pool:h},l.memoizedState={baseLanes:o,cachePool:h},i!==null&&Ia(l,null),qc(),cg(l),i!==null&&Zl(i,l,c,!0),null}function ao(i,l){var o=l.ref;if(o===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(l.flags|=4194816)}}function of(i,l,o,c,h){return ri(l),o=Fc(i,l,o,c,void 0,h),c=Ic(),i!==null&&!Ke?(Yc(i,l,h),Vn(i,l,h)):(ge&&c&&Oc(l),l.flags|=1,tt(i,l,o,h),l.child)}function Mg(i,l,o,c,h,m){return ri(l),l.updateQueue=null,o=Tm(l,c,o,h),Em(i),c=Ic(),i!==null&&!Ke?(Yc(i,l,m),Vn(i,l,m)):(ge&&c&&Oc(l),l.flags|=1,tt(i,l,o,m),l.child)}function Og(i,l,o,c,h){if(ri(l),l.stateNode===null){var m=Yi,v=o.contextType;typeof v=="object"&&v!==null&&(m=ut(v)),m=new o(c,m),l.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=sf,l.stateNode=m,m._reactInternals=l,m=l.stateNode,m.props=c,m.state=l.memoizedState,m.refs={},jc(l),v=o.contextType,m.context=typeof v=="object"&&v!==null?ut(v):Yi,m.state=l.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(lf(l,o,v,c),m.state=l.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&sf.enqueueReplaceState(m,m.state,null),ss(l,c,m,h),ls(),m.state=l.memoizedState),typeof m.componentDidMount=="function"&&(l.flags|=4194308),c=!0}else if(i===null){m=l.stateNode;var E=l.memoizedProps,M=si(o,E);m.props=M;var D=m.context,H=o.contextType;v=Yi,typeof H=="object"&&H!==null&&(v=ut(H));var P=o.getDerivedStateFromProps;H=typeof P=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=l.pendingProps!==E,H||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||D!==v)&&dg(l,m,c,v),sr=!1;var z=l.memoizedState;m.state=z,ss(l,c,m,h),ls(),D=l.memoizedState,E||z!==D||sr?(typeof P=="function"&&(lf(l,o,P,c),D=l.memoizedState),(M=sr||fg(l,o,M,c,z,D,v))?(H||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(l.flags|=4194308)):(typeof m.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=c,l.memoizedState=D),m.props=c,m.state=D,m.context=v,c=M):(typeof m.componentDidMount=="function"&&(l.flags|=4194308),c=!1)}else{m=l.stateNode,_c(i,l),v=l.memoizedProps,H=si(o,v),m.props=H,P=l.pendingProps,z=m.context,D=o.contextType,M=Yi,typeof D=="object"&&D!==null&&(M=ut(D)),E=o.getDerivedStateFromProps,(D=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==P||z!==M)&&dg(l,m,c,M),sr=!1,z=l.memoizedState,m.state=z,ss(l,c,m,h),ls();var B=l.memoizedState;v!==P||z!==B||sr||i!==null&&i.dependencies!==null&&Pa(i.dependencies)?(typeof E=="function"&&(lf(l,o,E,c),B=l.memoizedState),(H=sr||fg(l,o,H,c,z,B,M)||i!==null&&i.dependencies!==null&&Pa(i.dependencies))?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,B,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,B,M)),typeof m.componentDidUpdate=="function"&&(l.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===i.memoizedProps&&z===i.memoizedState||(l.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&z===i.memoizedState||(l.flags|=1024),l.memoizedProps=c,l.memoizedState=B),m.props=c,m.state=B,m.context=M,c=H):(typeof m.componentDidUpdate!="function"||v===i.memoizedProps&&z===i.memoizedState||(l.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&z===i.memoizedState||(l.flags|=1024),c=!1)}return m=c,ao(i,l),c=(l.flags&128)!==0,m||c?(m=l.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:m.render(),l.flags|=1,i!==null&&c?(l.child=tl(l,i.child,null,h),l.child=tl(l,null,o,h)):tt(i,l,o,h),l.memoizedState=m.state,i=l.child):i=Vn(i,l,h),i}function Cg(i,l,o,c){return Ql(),l.flags|=256,tt(i,l,o,c),l.child}var uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cf(i){return{baseLanes:i,cachePool:pm()}}function ff(i,l,o){return i=i!==null?i.childLanes&~o:0,l&&(i|=Zt),i}function kg(i,l,o){var c=l.pendingProps,h=!1,m=(l.flags&128)!==0,v;if((v=m)||(v=i!==null&&i.memoizedState===null?!1:(Ie.current&2)!==0),v&&(h=!0,l.flags&=-129),v=(l.flags&32)!==0,l.flags&=-33,i===null){if(ge){if(h?cr(l):fr(),ge){var E=Be,M;if(M=E){e:{for(M=E,E=yn;M.nodeType!==8;){if(!E){E=null;break e}if(M=on(M.nextSibling),M===null){E=null;break e}}E=M}E!==null?(l.memoizedState={dehydrated:E,treeContext:Wr!==null?{id:Ln,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},M=_t(18,null,null,0),M.stateNode=E,M.return=l,l.child=M,gt=l,Be=null,M=!0):M=!1}M||ti(l)}if(E=l.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Kf(E)?l.lanes=32:l.lanes=536870912,null;qn(l)}return E=c.children,c=c.fallback,h?(fr(),h=l.mode,E=oo({mode:"hidden",children:E},h),c=Qr(c,h,o,null),E.return=l,c.return=l,E.sibling=c,l.child=E,h=l.child,h.memoizedState=cf(o),h.childLanes=ff(i,v,o),l.memoizedState=uf,c):(cr(l),df(l,E))}if(M=i.memoizedState,M!==null&&(E=M.dehydrated,E!==null)){if(m)l.flags&256?(cr(l),l.flags&=-257,l=hf(i,l,o)):l.memoizedState!==null?(fr(),l.child=i.child,l.flags|=128,l=null):(fr(),h=c.fallback,E=l.mode,c=oo({mode:"visible",children:c.children},E),h=Qr(h,E,o,null),h.flags|=2,c.return=l,h.return=l,c.sibling=h,l.child=c,tl(l,i.child,null,o),c=l.child,c.memoizedState=cf(o),c.childLanes=ff(i,v,o),l.memoizedState=uf,l=h);else if(cr(l),Kf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var D=v.dgst;v=D,c=Error(r(419)),c.stack="",c.digest=v,Wl({value:c,source:null,stack:null}),l=hf(i,l,o)}else if(Ke||Zl(i,l,o,!1),v=(o&i.childLanes)!==0,Ke||v){if(v=Ce,v!==null&&(c=o&-o,c=(c&42)!==0?1:Ku(c),c=(c&(v.suspendedLanes|o))!==0?0:c,c!==0&&c!==M.retryLane))throw M.retryLane=c,Ii(i,c),Pt(v,i,c),Sg;E.data==="$?"||Rf(),l=hf(i,l,o)}else E.data==="$?"?(l.flags|=192,l.child=i.child,l=null):(i=M.treeContext,Be=on(E.nextSibling),gt=l,ge=!0,ei=null,yn=!1,i!==null&&(Jt[Qt++]=Ln,Jt[Qt++]=jn,Jt[Qt++]=Wr,Ln=i.id,jn=i.overflow,Wr=l),l=df(l,c.children),l.flags|=4096);return l}return h?(fr(),h=c.fallback,E=l.mode,M=i.child,D=M.sibling,c=Bn(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,D!==null?h=Bn(D,h):(h=Qr(h,E,o,null),h.flags|=2),h.return=l,c.return=l,c.sibling=h,l.child=c,c=h,h=l.child,E=i.child.memoizedState,E===null?E=cf(o):(M=E.cachePool,M!==null?(D=Fe._currentValue,M=M.parent!==D?{parent:D,pool:D}:M):M=pm(),E={baseLanes:E.baseLanes|o,cachePool:M}),h.memoizedState=E,h.childLanes=ff(i,v,o),l.memoizedState=uf,c):(cr(l),o=i.child,i=o.sibling,o=Bn(o,{mode:"visible",children:c.children}),o.return=l,o.sibling=null,i!==null&&(v=l.deletions,v===null?(l.deletions=[i],l.flags|=16):v.push(i)),l.child=o,l.memoizedState=null,o)}function df(i,l){return l=oo({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function oo(i,l){return i=_t(22,i,null,l),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function hf(i,l,o){return tl(l,i.child,null,o),i=df(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function Ag(i,l,o){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l),Nc(i.return,l,o)}function pf(i,l,o,c,h){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(m.isBackwards=l,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=o,m.tailMode=h)}function Ng(i,l,o){var c=l.pendingProps,h=c.revealOrder,m=c.tail;if(tt(i,l,c.children,o),c=Ie.current,(c&2)!==0)c=c&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ag(i,o,l);else if(i.tag===19)Ag(i,o,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(ve(Ie,c),h){case"forwards":for(o=l.child,h=null;o!==null;)i=o.alternate,i!==null&&io(i)===null&&(h=o),o=o.sibling;o=h,o===null?(h=l.child,l.child=null):(h=o.sibling,o.sibling=null),pf(l,!1,h,o,m);break;case"backwards":for(o=null,h=l.child,l.child=null;h!==null;){if(i=h.alternate,i!==null&&io(i)===null){l.child=h;break}i=h.sibling,h.sibling=o,o=h,h=i}pf(l,!0,o,null,m);break;case"together":pf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Vn(i,l,o){if(i!==null&&(l.dependencies=i.dependencies),gr|=l.lanes,(o&l.childLanes)===0)if(i!==null){if(Zl(i,l,o,!1),(o&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,o=Bn(i,i.pendingProps),l.child=o,o.return=l;i.sibling!==null;)i=i.sibling,o=o.sibling=Bn(i,i.pendingProps),o.return=l;o.sibling=null}return l.child}function mf(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&Pa(i)))}function lw(i,l,o){switch(l.tag){case 3:Sa(l,l.stateNode.containerInfo),lr(l,Fe,i.memoizedState.cache),Ql();break;case 27:case 5:Fu(l);break;case 4:Sa(l,l.stateNode.containerInfo);break;case 10:lr(l,l.type,l.memoizedProps.value);break;case 13:var c=l.memoizedState;if(c!==null)return c.dehydrated!==null?(cr(l),l.flags|=128,null):(o&l.child.childLanes)!==0?kg(i,l,o):(cr(l),i=Vn(i,l,o),i!==null?i.sibling:null);cr(l);break;case 19:var h=(i.flags&128)!==0;if(c=(o&l.childLanes)!==0,c||(Zl(i,l,o,!1),c=(o&l.childLanes)!==0),h){if(c)return Ng(i,l,o);l.flags|=128}if(h=l.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ve(Ie,Ie.current),c)break;return null;case 22:case 23:return l.lanes=0,Eg(i,l,o);case 24:lr(l,Fe,i.memoizedState.cache)}return Vn(i,l,o)}function Rg(i,l,o){if(i!==null)if(i.memoizedProps!==l.pendingProps)Ke=!0;else{if(!mf(i,o)&&(l.flags&128)===0)return Ke=!1,lw(i,l,o);Ke=(i.flags&131072)!==0}else Ke=!1,ge&&(l.flags&1048576)!==0&&am(l,Va,l.index);switch(l.lanes=0,l.tag){case 16:e:{i=l.pendingProps;var c=l.elementType,h=c._init;if(c=h(c._payload),l.type=c,typeof c=="function")Ec(c)?(i=si(c,i),l.tag=1,l=Og(null,l,c,i,o)):(l.tag=0,l=of(null,l,c,i,o));else{if(c!=null){if(h=c.$$typeof,h===I){l.tag=11,l=xg(null,l,c,i,o);break e}else if(h===J){l.tag=14,l=vg(null,l,c,i,o);break e}}throw l=Ll(c)||c,Error(r(306,l,""))}}return l;case 0:return of(i,l,l.type,l.pendingProps,o);case 1:return c=l.type,h=si(c,l.pendingProps),Og(i,l,c,h,o);case 3:e:{if(Sa(l,l.stateNode.containerInfo),i===null)throw Error(r(387));c=l.pendingProps;var m=l.memoizedState;h=m.element,_c(i,l),ss(l,c,null,o);var v=l.memoizedState;if(c=v.cache,lr(l,Fe,c),c!==m.cache&&Rc(l,[Fe],o,!0),ls(),c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache},l.updateQueue.baseState=m,l.memoizedState=m,l.flags&256){l=Cg(i,l,c,o);break e}else if(c!==h){h=Kt(Error(r(424)),l),Wl(h),l=Cg(i,l,c,o);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Be=on(i.firstChild),gt=l,ge=!0,ei=null,yn=!0,o=ug(l,null,c,o),l.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ql(),c===h){l=Vn(i,l,o);break e}tt(i,l,c,o)}l=l.child}return l;case 26:return ao(i,l),i===null?(o=Ly(l.type,null,l.pendingProps,null))?l.memoizedState=o:ge||(o=l.type,i=l.pendingProps,c=Eo(tr.current).createElement(o),c[ot]=l,c[Tt]=i,rt(c,o,i),Ge(c),l.stateNode=c):l.memoizedState=Ly(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Fu(l),i===null&&ge&&(c=l.stateNode=Dy(l.type,l.pendingProps,tr.current),gt=l,yn=!0,h=Be,xr(l.type)?(Xf=h,Be=on(c.firstChild)):Be=h),tt(i,l,l.pendingProps.children,o),ao(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&ge&&((h=c=Be)&&(c=zw(c,l.type,l.pendingProps,yn),c!==null?(l.stateNode=c,gt=l,Be=on(c.firstChild),yn=!1,h=!0):h=!1),h||ti(l)),Fu(l),h=l.type,m=l.pendingProps,v=i!==null?i.memoizedProps:null,c=m.children,Yf(h,m)?c=null:v!==null&&Yf(h,v)&&(l.flags|=32),l.memoizedState!==null&&(h=Fc(i,l,Qv,null,null,o),As._currentValue=h),ao(i,l),tt(i,l,c,o),l.child;case 6:return i===null&&ge&&((i=o=Be)&&(o=Bw(o,l.pendingProps,yn),o!==null?(l.stateNode=o,gt=l,Be=null,i=!0):i=!1),i||ti(l)),null;case 13:return kg(i,l,o);case 4:return Sa(l,l.stateNode.containerInfo),c=l.pendingProps,i===null?l.child=tl(l,null,c,o):tt(i,l,c,o),l.child;case 11:return xg(i,l,l.type,l.pendingProps,o);case 7:return tt(i,l,l.pendingProps,o),l.child;case 8:return tt(i,l,l.pendingProps.children,o),l.child;case 12:return tt(i,l,l.pendingProps.children,o),l.child;case 10:return c=l.pendingProps,lr(l,l.type,c.value),tt(i,l,c.children,o),l.child;case 9:return h=l.type._context,c=l.pendingProps.children,ri(l),h=ut(h),c=c(h),l.flags|=1,tt(i,l,c,o),l.child;case 14:return vg(i,l,l.type,l.pendingProps,o);case 15:return wg(i,l,l.type,l.pendingProps,o);case 19:return Ng(i,l,o);case 31:return c=l.pendingProps,o=l.mode,c={mode:c.mode,children:c.children},i===null?(o=oo(c,o),o.ref=l.ref,l.child=o,o.return=l,l=o):(o=Bn(i.child,c),o.ref=l.ref,l.child=o,o.return=l,l=o),l;case 22:return Eg(i,l,o);case 24:return ri(l),c=ut(Fe),i===null?(h=Bc(),h===null&&(h=Ce,m=Dc(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=o),h=m),l.memoizedState={parent:c,cache:h},jc(l),lr(l,Fe,h)):((i.lanes&o)!==0&&(_c(i,l),ss(l,null,null,o),ls()),h=i.memoizedState,m=l.memoizedState,h.parent!==c?(h={parent:c,cache:c},l.memoizedState=h,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=h),lr(l,Fe,c)):(c=m.cache,lr(l,Fe,c),c!==h.cache&&Rc(l,[Fe],o,!0))),tt(i,l,l.pendingProps.children,o),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Pn(i){i.flags|=4}function Dg(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!qy(l)){if(l=Wt.current,l!==null&&((pe&4194048)===pe?bn!==null:(pe&62914560)!==pe&&(pe&536870912)===0||l!==bn))throw rs=Lc,mm;i.flags|=8192}}function uo(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?cp():536870912,i.lanes|=l,ll|=l)}function ps(i,l){if(!ge)switch(i.tailMode){case"hidden":l=i.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function De(i){var l=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(l)for(var h=i.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=c,i.childLanes=o,l}function sw(i,l,o){var c=l.pendingProps;switch(Cc(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(l),null;case 1:return De(l),null;case 3:return o=l.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),Un(Fe),Ai(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Jl(l)?Pn(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,cm())),De(l),null;case 26:return o=l.memoizedState,i===null?(Pn(l),o!==null?(De(l),Dg(l,o)):(De(l),l.flags&=-16777217)):o?o!==i.memoizedState?(Pn(l),De(l),Dg(l,o)):(De(l),l.flags&=-16777217):(i.memoizedProps!==c&&Pn(l),De(l),l.flags&=-16777217),null;case 27:xa(l),o=tr.current;var h=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==c&&Pn(l);else{if(!c){if(l.stateNode===null)throw Error(r(166));return De(l),null}i=$e.current,Jl(l)?om(l):(i=Dy(h,c,o),l.stateNode=i,Pn(l))}return De(l),null;case 5:if(xa(l),o=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==c&&Pn(l);else{if(!c){if(l.stateNode===null)throw Error(r(166));return De(l),null}if(i=$e.current,Jl(l))om(l);else{switch(h=Eo(tr.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?h.createElement(o,{is:c.is}):h.createElement(o)}}i[ot]=l,i[Tt]=c;e:for(h=l.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break e;for(;h.sibling===null;){if(h.return===null||h.return===l)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}l.stateNode=i;e:switch(rt(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Pn(l)}}return De(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==c&&Pn(l);else{if(typeof c!="string"&&l.stateNode===null)throw Error(r(166));if(i=tr.current,Jl(l)){if(i=l.stateNode,o=l.memoizedProps,c=null,h=gt,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}i[ot]=l,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||My(i.nodeValue,o)),i||ti(l)}else i=Eo(i).createTextNode(c),i[ot]=l,l.stateNode=i}return De(l),null;case 13:if(c=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Jl(l),c!==null&&c.dehydrated!==null){if(i===null){if(!h)throw Error(r(318));if(h=l.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ot]=l}else Ql(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;De(l),h=!1}else h=cm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),h=!0;if(!h)return l.flags&256?(qn(l),l):(qn(l),null)}if(qn(l),(l.flags&128)!==0)return l.lanes=o,l;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=l.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var m=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048)}return o!==i&&o&&(l.child.flags|=8192),uo(l,l.updateQueue),De(l),null;case 4:return Ai(),i===null&&qf(l.stateNode.containerInfo),De(l),null;case 10:return Un(l.type),De(l),null;case 19:if(Re(Ie),h=l.memoizedState,h===null)return De(l),null;if(c=(l.flags&128)!==0,m=h.rendering,m===null)if(c)ps(h,!1);else{if(Le!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(m=io(i),m!==null){for(l.flags|=128,ps(h,!1),i=m.updateQueue,l.updateQueue=i,uo(l,i),l.subtreeFlags=0,i=o,o=l.child;o!==null;)sm(o,i),o=o.sibling;return ve(Ie,Ie.current&1|2),l.child}i=i.sibling}h.tail!==null&&gn()>ho&&(l.flags|=128,c=!0,ps(h,!1),l.lanes=4194304)}else{if(!c)if(i=io(m),i!==null){if(l.flags|=128,c=!0,i=i.updateQueue,l.updateQueue=i,uo(l,i),ps(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!ge)return De(l),null}else 2*gn()-h.renderingStartTime>ho&&o!==536870912&&(l.flags|=128,c=!0,ps(h,!1),l.lanes=4194304);h.isBackwards?(m.sibling=l.child,l.child=m):(i=h.last,i!==null?i.sibling=m:l.child=m,h.last=m)}return h.tail!==null?(l=h.tail,h.rendering=l,h.tail=l.sibling,h.renderingStartTime=gn(),l.sibling=null,i=Ie.current,ve(Ie,c?i&1|2:i&1),l):(De(l),null);case 22:case 23:return qn(l),Vc(),c=l.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(l.flags|=8192):c&&(l.flags|=8192),c?(o&536870912)!==0&&(l.flags&128)===0&&(De(l),l.subtreeFlags&6&&(l.flags|=8192)):De(l),o=l.updateQueue,o!==null&&uo(l,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==o&&(l.flags|=2048),i!==null&&Re(ii),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),l.memoizedState.cache!==o&&(l.flags|=2048),Un(Fe),De(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function aw(i,l){switch(Cc(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Un(Fe),Ai(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return xa(l),null;case 13:if(qn(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ql()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Re(Ie),null;case 4:return Ai(),null;case 10:return Un(l.type),null;case 22:case 23:return qn(l),Vc(),i!==null&&Re(ii),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Un(Fe),null;case 25:return null;default:return null}}function zg(i,l){switch(Cc(l),l.tag){case 3:Un(Fe),Ai();break;case 26:case 27:case 5:xa(l);break;case 4:Ai();break;case 13:qn(l);break;case 19:Re(Ie);break;case 10:Un(l.type);break;case 22:case 23:qn(l),Vc(),i!==null&&Re(ii);break;case 24:Un(Fe)}}function ms(i,l){try{var o=l.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&i)===i){c=void 0;var m=o.create,v=o.inst;c=m(),v.destroy=c}o=o.next}while(o!==h)}}catch(E){Me(l,l.return,E)}}function dr(i,l,o){try{var c=l.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&i)===i){var v=c.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=l;var M=o,D=E;try{D()}catch(H){Me(h,M,H)}}}c=c.next}while(c!==m)}}catch(H){Me(l,l.return,H)}}function Bg(i){var l=i.updateQueue;if(l!==null){var o=i.stateNode;try{vm(l,o)}catch(c){Me(i,i.return,c)}}}function Lg(i,l,o){o.props=si(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Me(i,l,c)}}function gs(i,l){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(h){Me(i,l,h)}}function Sn(i,l){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){Me(i,l,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){Me(i,l,h)}else o.current=null}function jg(i){var l=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){Me(i,i.return,h)}}function gf(i,l,o){try{var c=i.stateNode;kw(c,i.type,o,l),c[Tt]=l}catch(h){Me(i,i.return,h)}}function _g(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&xr(i.type)||i.tag===4}function yf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_g(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&xr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function bf(i,l,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,l?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,l):(l=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.appendChild(i),o=o._reactRootContainer,o!=null||l.onclick!==null||(l.onclick=wo));else if(c!==4&&(c===27&&xr(i.type)&&(o=i.stateNode,l=null),i=i.child,i!==null))for(bf(i,l,o),i=i.sibling;i!==null;)bf(i,l,o),i=i.sibling}function co(i,l,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,l?o.insertBefore(i,l):o.appendChild(i);else if(c!==4&&(c===27&&xr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(co(i,l,o),i=i.sibling;i!==null;)co(i,l,o),i=i.sibling}function Ug(i){var l=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,h=l.attributes;h.length;)l.removeAttributeNode(h[0]);rt(l,c,o),l[ot]=i,l[Tt]=o}catch(m){Me(i,i.return,m)}}var Fn=!1,Ue=!1,Sf=!1,Hg=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function ow(i,l){if(i=i.containerInfo,Ff=Ao,i=Jp(i),gc(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var v=0,E=-1,M=-1,D=0,H=0,P=i,z=null;t:for(;;){for(var B;P!==o||h!==0&&P.nodeType!==3||(E=v+h),P!==m||c!==0&&P.nodeType!==3||(M=v+c),P.nodeType===3&&(v+=P.nodeValue.length),(B=P.firstChild)!==null;)z=P,P=B;for(;;){if(P===i)break t;if(z===o&&++D===h&&(E=v),z===m&&++H===c&&(M=v),(B=P.nextSibling)!==null)break;P=z,z=P.parentNode}P=B}o=E===-1||M===-1?null:{start:E,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(If={focusedElem:i,selectionRange:o},Ao=!1,Xe=l;Xe!==null;)if(l=Xe,i=l.child,(l.subtreeFlags&1024)!==0&&i!==null)i.return=l,Xe=i;else for(;Xe!==null;){switch(l=Xe,m=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,o=l,h=m.memoizedProps,m=m.memoizedState,c=o.stateNode;try{var re=si(o.type,h,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(re,m),c.__reactInternalSnapshotBeforeUpdate=i}catch(te){Me(o,o.return,te)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,o=i.nodeType,o===9)Gf(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Gf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,Xe=i;break}Xe=l.return}}function qg(i,l,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:hr(i,o),c&4&&ms(5,o);break;case 1:if(hr(i,o),c&4)if(i=o.stateNode,l===null)try{i.componentDidMount()}catch(v){Me(o,o.return,v)}else{var h=si(o.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(h,l,i.__reactInternalSnapshotBeforeUpdate)}catch(v){Me(o,o.return,v)}}c&64&&Bg(o),c&512&&gs(o,o.return);break;case 3:if(hr(i,o),c&64&&(i=o.updateQueue,i!==null)){if(l=null,o.child!==null)switch(o.child.tag){case 27:case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}try{vm(i,l)}catch(v){Me(o,o.return,v)}}break;case 27:l===null&&c&4&&Ug(o);case 26:case 5:hr(i,o),l===null&&c&4&&jg(o),c&512&&gs(o,o.return);break;case 12:hr(i,o);break;case 13:hr(i,o),c&4&&Fg(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=yw.bind(null,o),Lw(i,o))));break;case 22:if(c=o.memoizedState!==null||Fn,!c){l=l!==null&&l.memoizedState!==null||Ue,h=Fn;var m=Ue;Fn=c,(Ue=l)&&!m?pr(i,o,(o.subtreeFlags&8772)!==0):hr(i,o),Fn=h,Ue=m}break;case 30:break;default:hr(i,o)}}function Vg(i){var l=i.alternate;l!==null&&(i.alternate=null,Vg(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Qu(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ne=null,Ct=!1;function In(i,l,o){for(o=o.child;o!==null;)Pg(i,l,o),o=o.sibling}function Pg(i,l,o){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(jl,o)}catch{}switch(o.tag){case 26:Ue||Sn(o,l),In(i,l,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ue||Sn(o,l);var c=Ne,h=Ct;xr(o.type)&&(Ne=o.stateNode,Ct=!1),In(i,l,o),Ms(o.stateNode),Ne=c,Ct=h;break;case 5:Ue||Sn(o,l);case 6:if(c=Ne,h=Ct,Ne=null,In(i,l,o),Ne=c,Ct=h,Ne!==null)if(Ct)try{(Ne.nodeType===9?Ne.body:Ne.nodeName==="HTML"?Ne.ownerDocument.body:Ne).removeChild(o.stateNode)}catch(m){Me(o,l,m)}else try{Ne.removeChild(o.stateNode)}catch(m){Me(o,l,m)}break;case 18:Ne!==null&&(Ct?(i=Ne,Ny(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),zs(i)):Ny(Ne,o.stateNode));break;case 4:c=Ne,h=Ct,Ne=o.stateNode.containerInfo,Ct=!0,In(i,l,o),Ne=c,Ct=h;break;case 0:case 11:case 14:case 15:Ue||dr(2,o,l),Ue||dr(4,o,l),In(i,l,o);break;case 1:Ue||(Sn(o,l),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Lg(o,l,c)),In(i,l,o);break;case 21:In(i,l,o);break;case 22:Ue=(c=Ue)||o.memoizedState!==null,In(i,l,o),Ue=c;break;default:In(i,l,o)}}function Fg(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{zs(i)}catch(o){Me(l,l.return,o)}}function uw(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new Hg),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new Hg),l;default:throw Error(r(435,i.tag))}}function xf(i,l){var o=uw(i);l.forEach(function(c){var h=bw.bind(null,i,c);o.has(c)||(o.add(c),c.then(h,h))})}function Ut(i,l){var o=l.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],m=i,v=l,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(xr(E.type)){Ne=E.stateNode,Ct=!1;break e}break;case 5:Ne=E.stateNode,Ct=!1;break e;case 3:case 4:Ne=E.stateNode.containerInfo,Ct=!0;break e}E=E.return}if(Ne===null)throw Error(r(160));Pg(m,v,h),Ne=null,Ct=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Ig(l,i),l=l.sibling}var an=null;function Ig(i,l){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ut(l,i),Ht(i),c&4&&(dr(3,i,i.return),ms(3,i),dr(5,i,i.return));break;case 1:Ut(l,i),Ht(i),c&512&&(Ue||o===null||Sn(o,o.return)),c&64&&Fn&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=an;if(Ut(l,i),Ht(i),c&512&&(Ue||o===null||Sn(o,o.return)),c&4){var m=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Hl]||m[ot]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(c),h.head.insertBefore(m,h.querySelector("head > title"))),rt(m,c,o),m[ot]=i,Ge(m),c=m;break e;case"link":var v=Uy("link","href",h).get(c+(o.href||""));if(v){for(var E=0;E<v.length;E++)if(m=v[E],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){v.splice(E,1);break t}}m=h.createElement(c),rt(m,c,o),h.head.appendChild(m);break;case"meta":if(v=Uy("meta","content",h).get(c+(o.content||""))){for(E=0;E<v.length;E++)if(m=v[E],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){v.splice(E,1);break t}}m=h.createElement(c),rt(m,c,o),h.head.appendChild(m);break;default:throw Error(r(468,c))}m[ot]=i,Ge(m),c=m}i.stateNode=c}else Hy(h,i.type,i.stateNode);else i.stateNode=_y(h,c,i.memoizedProps);else m!==c?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,c===null?Hy(h,i.type,i.stateNode):_y(h,c,i.memoizedProps)):c===null&&i.stateNode!==null&&gf(i,i.memoizedProps,o.memoizedProps)}break;case 27:Ut(l,i),Ht(i),c&512&&(Ue||o===null||Sn(o,o.return)),o!==null&&c&4&&gf(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Ut(l,i),Ht(i),c&512&&(Ue||o===null||Sn(o,o.return)),i.flags&32){h=i.stateNode;try{_i(h,"")}catch(B){Me(i,i.return,B)}}c&4&&i.stateNode!=null&&(h=i.memoizedProps,gf(i,h,o!==null?o.memoizedProps:h)),c&1024&&(Sf=!0);break;case 6:if(Ut(l,i),Ht(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(B){Me(i,i.return,B)}}break;case 3:if(Oo=null,h=an,an=To(l.containerInfo),Ut(l,i),an=h,Ht(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{zs(l.containerInfo)}catch(B){Me(i,i.return,B)}Sf&&(Sf=!1,Yg(i));break;case 4:c=an,an=To(i.stateNode.containerInfo),Ut(l,i),Ht(i),an=c;break;case 12:Ut(l,i),Ht(i);break;case 13:Ut(l,i),Ht(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Of=gn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,xf(i,c)));break;case 22:h=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,D=Fn,H=Ue;if(Fn=D||h,Ue=H||M,Ut(l,i),Ue=H,Fn=D,Ht(i),c&8192)e:for(l=i.stateNode,l._visibility=h?l._visibility&-2:l._visibility|1,h&&(o===null||M||Fn||Ue||ai(i)),o=null,l=i;;){if(l.tag===5||l.tag===26){if(o===null){M=o=l;try{if(m=M.stateNode,h)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=M.stateNode;var P=M.memoizedProps.style,z=P!=null&&P.hasOwnProperty("display")?P.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Me(M,M.return,B)}}}else if(l.tag===6){if(o===null){M=l;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(B){Me(M,M.return,B)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;o===l&&(o=null),l=l.return}o===l&&(o=null),l.sibling.return=l.return,l=l.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,xf(i,o))));break;case 19:Ut(l,i),Ht(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,xf(i,c)));break;case 30:break;case 21:break;default:Ut(l,i),Ht(i)}}function Ht(i){var l=i.flags;if(l&2){try{for(var o,c=i.return;c!==null;){if(_g(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var h=o.stateNode,m=yf(i);co(i,m,h);break;case 5:var v=o.stateNode;o.flags&32&&(_i(v,""),o.flags&=-33);var E=yf(i);co(i,E,v);break;case 3:case 4:var M=o.stateNode.containerInfo,D=yf(i);bf(i,D,M);break;default:throw Error(r(161))}}catch(H){Me(i,i.return,H)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function Yg(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;Yg(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function hr(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)qg(i,l.alternate,l),l=l.sibling}function ai(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:dr(4,l,l.return),ai(l);break;case 1:Sn(l,l.return);var o=l.stateNode;typeof o.componentWillUnmount=="function"&&Lg(l,l.return,o),ai(l);break;case 27:Ms(l.stateNode);case 26:case 5:Sn(l,l.return),ai(l);break;case 22:l.memoizedState===null&&ai(l);break;case 30:ai(l);break;default:ai(l)}i=i.sibling}}function pr(i,l,o){for(o=o&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var c=l.alternate,h=i,m=l,v=m.flags;switch(m.tag){case 0:case 11:case 15:pr(h,m,o),ms(4,m);break;case 1:if(pr(h,m,o),c=m,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(D){Me(c,c.return,D)}if(c=m,h=c.updateQueue,h!==null){var E=c.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)xm(M[h],E)}catch(D){Me(c,c.return,D)}}o&&v&64&&Bg(m),gs(m,m.return);break;case 27:Ug(m);case 26:case 5:pr(h,m,o),o&&c===null&&v&4&&jg(m),gs(m,m.return);break;case 12:pr(h,m,o);break;case 13:pr(h,m,o),o&&v&4&&Fg(h,m);break;case 22:m.memoizedState===null&&pr(h,m,o),gs(m,m.return);break;case 30:break;default:pr(h,m,o)}l=l.sibling}}function vf(i,l){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&es(o))}function wf(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&es(i))}function xn(i,l,o,c){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)$g(i,l,o,c),l=l.sibling}function $g(i,l,o,c){var h=l.flags;switch(l.tag){case 0:case 11:case 15:xn(i,l,o,c),h&2048&&ms(9,l);break;case 1:xn(i,l,o,c);break;case 3:xn(i,l,o,c),h&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&es(i)));break;case 12:if(h&2048){xn(i,l,o,c),i=l.stateNode;try{var m=l.memoizedProps,v=m.id,E=m.onPostCommit;typeof E=="function"&&E(v,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){Me(l,l.return,M)}}else xn(i,l,o,c);break;case 13:xn(i,l,o,c);break;case 23:break;case 22:m=l.stateNode,v=l.alternate,l.memoizedState!==null?m._visibility&2?xn(i,l,o,c):ys(i,l):m._visibility&2?xn(i,l,o,c):(m._visibility|=2,nl(i,l,o,c,(l.subtreeFlags&10256)!==0)),h&2048&&vf(v,l);break;case 24:xn(i,l,o,c),h&2048&&wf(l.alternate,l);break;default:xn(i,l,o,c)}}function nl(i,l,o,c,h){for(h=h&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var m=i,v=l,E=o,M=c,D=v.flags;switch(v.tag){case 0:case 11:case 15:nl(m,v,E,M,h),ms(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&2?nl(m,v,E,M,h):ys(m,v):(H._visibility|=2,nl(m,v,E,M,h)),h&&D&2048&&vf(v.alternate,v);break;case 24:nl(m,v,E,M,h),h&&D&2048&&wf(v.alternate,v);break;default:nl(m,v,E,M,h)}l=l.sibling}}function ys(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var o=i,c=l,h=c.flags;switch(c.tag){case 22:ys(o,c),h&2048&&vf(c.alternate,c);break;case 24:ys(o,c),h&2048&&wf(c.alternate,c);break;default:ys(o,c)}l=l.sibling}}var bs=8192;function rl(i){if(i.subtreeFlags&bs)for(i=i.child;i!==null;)Gg(i),i=i.sibling}function Gg(i){switch(i.tag){case 26:rl(i),i.flags&bs&&i.memoizedState!==null&&Kw(an,i.memoizedState,i.memoizedProps);break;case 5:rl(i);break;case 3:case 4:var l=an;an=To(i.stateNode.containerInfo),rl(i),an=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=bs,bs=16777216,rl(i),bs=l):rl(i));break;default:rl(i)}}function Kg(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function Ss(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var o=0;o<l.length;o++){var c=l[o];Xe=c,Jg(c,i)}Kg(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xg(i),i=i.sibling}function Xg(i){switch(i.tag){case 0:case 11:case 15:Ss(i),i.flags&2048&&dr(9,i,i.return);break;case 3:Ss(i);break;case 12:Ss(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,fo(i)):Ss(i);break;default:Ss(i)}}function fo(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var o=0;o<l.length;o++){var c=l[o];Xe=c,Jg(c,i)}Kg(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:dr(8,l,l.return),fo(l);break;case 22:o=l.stateNode,o._visibility&2&&(o._visibility&=-3,fo(l));break;default:fo(l)}i=i.sibling}}function Jg(i,l){for(;Xe!==null;){var o=Xe;switch(o.tag){case 0:case 11:case 15:dr(8,o,l);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:es(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Xe=c;else e:for(o=i;Xe!==null;){c=Xe;var h=c.sibling,m=c.return;if(Vg(c),c===o){Xe=null;break e}if(h!==null){h.return=m,Xe=h;break e}Xe=m}}}var cw={getCacheForType:function(i){var l=ut(Fe),o=l.data.get(i);return o===void 0&&(o=i(),l.data.set(i,o)),o}},fw=typeof WeakMap=="function"?WeakMap:Map,be=0,Ce=null,fe=null,pe=0,Se=0,qt=null,mr=!1,il=!1,Ef=!1,Yn=0,Le=0,gr=0,oi=0,Tf=0,Zt=0,ll=0,xs=null,kt=null,Mf=!1,Of=0,ho=1/0,po=null,yr=null,nt=0,br=null,sl=null,al=0,Cf=0,kf=null,Qg=null,vs=0,Af=null;function Vt(){if((be&2)!==0&&pe!==0)return pe&-pe;if(V.T!==null){var i=Ki;return i!==0?i:jf()}return hp()}function Wg(){Zt===0&&(Zt=(pe&536870912)===0||ge?up():536870912);var i=Wt.current;return i!==null&&(i.flags|=32),Zt}function Pt(i,l,o){(i===Ce&&(Se===2||Se===9)||i.cancelPendingCommit!==null)&&(ol(i,0),Sr(i,pe,Zt,!1)),Ul(i,o),((be&2)===0||i!==Ce)&&(i===Ce&&((be&2)===0&&(oi|=o),Le===4&&Sr(i,pe,Zt,!1)),vn(i))}function Zg(i,l,o){if((be&6)!==0)throw Error(r(327));var c=!o&&(l&124)===0&&(l&i.expiredLanes)===0||_l(i,l),h=c?pw(i,l):Df(i,l,!0),m=c;do{if(h===0){il&&!c&&Sr(i,l,0,!1);break}else{if(o=i.current.alternate,m&&!dw(o)){h=Df(i,l,!1),m=!1;continue}if(h===2){if(m=l,i.errorRecoveryDisabledLanes&m)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){l=v;e:{var E=i;h=xs;var M=E.current.memoizedState.isDehydrated;if(M&&(ol(E,v).flags|=256),v=Df(E,v,!1),v!==2){if(Ef&&!M){E.errorRecoveryDisabledLanes|=m,oi|=m,h=4;break e}m=kt,kt=h,m!==null&&(kt===null?kt=m:kt.push.apply(kt,m))}h=v}if(m=!1,h!==2)continue}}if(h===1){ol(i,0),Sr(i,l,0,!0);break}e:{switch(c=i,m=h,m){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Sr(c,l,Zt,!mr);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(h=Of+300-gn(),10<h)){if(Sr(c,l,Zt,!mr),Ta(c,0,!0)!==0)break e;c.timeoutHandle=ky(ey.bind(null,c,o,kt,po,Mf,l,Zt,oi,ll,mr,m,2,-0,0),h);break e}ey(c,o,kt,po,Mf,l,Zt,oi,ll,mr,m,0,-0,0)}}break}while(!0);vn(i)}function ey(i,l,o,c,h,m,v,E,M,D,H,P,z,B){if(i.timeoutHandle=-1,P=l.subtreeFlags,(P&8192||(P&16785408)===16785408)&&(ks={stylesheets:null,count:0,unsuspend:Gw},Gg(l),P=Xw(),P!==null)){i.cancelPendingCommit=P(ay.bind(null,i,l,m,o,c,h,v,E,M,H,1,z,B)),Sr(i,m,v,!D);return}ay(i,l,m,o,c,h,v,E,M)}function dw(i){for(var l=i;;){var o=l.tag;if((o===0||o===11||o===15)&&l.flags&16384&&(o=l.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],m=h.getSnapshot;h=h.value;try{if(!jt(m(),h))return!1}catch{return!1}}if(o=l.child,l.subtreeFlags&16384&&o!==null)o.return=l,l=o;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Sr(i,l,o,c){l&=~Tf,l&=~oi,i.suspendedLanes|=l,i.pingedLanes&=~l,c&&(i.warmLanes|=l),c=i.expirationTimes;for(var h=l;0<h;){var m=31-Lt(h),v=1<<m;c[m]=-1,h&=~v}o!==0&&fp(i,o,l)}function mo(){return(be&6)===0?(ws(0),!1):!0}function Nf(){if(fe!==null){if(Se===0)var i=fe.return;else i=fe,_n=ni=null,$c(i),el=null,ds=0,i=fe;for(;i!==null;)zg(i.alternate,i),i=i.return;fe=null}}function ol(i,l){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,Nw(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Nf(),Ce=i,fe=o=Bn(i.current,null),pe=l,Se=0,qt=null,mr=!1,il=_l(i,l),Ef=!1,ll=Zt=Tf=oi=gr=Le=0,kt=xs=null,Mf=!1,(l&8)!==0&&(l|=l&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=l;0<c;){var h=31-Lt(c),m=1<<h;l|=i[h],c&=~m}return Yn=l,ja(),o}function ty(i,l){oe=null,V.H=to,l===ns||l===Ya?(l=bm(),Se=3):l===mm?(l=bm(),Se=4):Se=l===Sg?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,qt=l,fe===null&&(Le=1,so(i,Kt(l,i.current)))}function ny(){var i=V.H;return V.H=to,i===null?to:i}function ry(){var i=V.A;return V.A=cw,i}function Rf(){Le=4,mr||(pe&4194048)!==pe&&Wt.current!==null||(il=!0),(gr&134217727)===0&&(oi&134217727)===0||Ce===null||Sr(Ce,pe,Zt,!1)}function Df(i,l,o){var c=be;be|=2;var h=ny(),m=ry();(Ce!==i||pe!==l)&&(po=null,ol(i,l)),l=!1;var v=Le;e:do try{if(Se!==0&&fe!==null){var E=fe,M=qt;switch(Se){case 8:Nf(),v=6;break e;case 3:case 2:case 9:case 6:Wt.current===null&&(l=!0);var D=Se;if(Se=0,qt=null,ul(i,E,M,D),o&&il){v=0;break e}break;default:D=Se,Se=0,qt=null,ul(i,E,M,D)}}hw(),v=Le;break}catch(H){ty(i,H)}while(!0);return l&&i.shellSuspendCounter++,_n=ni=null,be=c,V.H=h,V.A=m,fe===null&&(Ce=null,pe=0,ja()),v}function hw(){for(;fe!==null;)iy(fe)}function pw(i,l){var o=be;be|=2;var c=ny(),h=ry();Ce!==i||pe!==l?(po=null,ho=gn()+500,ol(i,l)):il=_l(i,l);e:do try{if(Se!==0&&fe!==null){l=fe;var m=qt;t:switch(Se){case 1:Se=0,qt=null,ul(i,l,m,1);break;case 2:case 9:if(gm(m)){Se=0,qt=null,ly(l);break}l=function(){Se!==2&&Se!==9||Ce!==i||(Se=7),vn(i)},m.then(l,l);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:gm(m)?(Se=0,qt=null,ly(l)):(Se=0,qt=null,ul(i,l,m,7));break;case 5:var v=null;switch(fe.tag){case 26:v=fe.memoizedState;case 5:case 27:var E=fe;if(!v||qy(v)){Se=0,qt=null;var M=E.sibling;if(M!==null)fe=M;else{var D=E.return;D!==null?(fe=D,go(D)):fe=null}break t}}Se=0,qt=null,ul(i,l,m,5);break;case 6:Se=0,qt=null,ul(i,l,m,6);break;case 8:Nf(),Le=6;break e;default:throw Error(r(462))}}mw();break}catch(H){ty(i,H)}while(!0);return _n=ni=null,V.H=c,V.A=h,be=o,fe!==null?0:(Ce=null,pe=0,ja(),Le)}function mw(){for(;fe!==null&&!_x();)iy(fe)}function iy(i){var l=Rg(i.alternate,i,Yn);i.memoizedProps=i.pendingProps,l===null?go(i):fe=l}function ly(i){var l=i,o=l.alternate;switch(l.tag){case 15:case 0:l=Mg(o,l,l.pendingProps,l.type,void 0,pe);break;case 11:l=Mg(o,l,l.pendingProps,l.type.render,l.ref,pe);break;case 5:$c(l);default:zg(o,l),l=fe=sm(l,Yn),l=Rg(o,l,Yn)}i.memoizedProps=i.pendingProps,l===null?go(i):fe=l}function ul(i,l,o,c){_n=ni=null,$c(l),el=null,ds=0;var h=l.return;try{if(iw(i,h,l,o,pe)){Le=1,so(i,Kt(o,i.current)),fe=null;return}}catch(m){if(h!==null)throw fe=h,m;Le=1,so(i,Kt(o,i.current)),fe=null;return}l.flags&32768?(ge||c===1?i=!0:il||(pe&536870912)!==0?i=!1:(mr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Wt.current,c!==null&&c.tag===13&&(c.flags|=16384))),sy(l,i)):go(l)}function go(i){var l=i;do{if((l.flags&32768)!==0){sy(l,mr);return}i=l.return;var o=sw(l.alternate,l,Yn);if(o!==null){fe=o;return}if(l=l.sibling,l!==null){fe=l;return}fe=l=i}while(l!==null);Le===0&&(Le=5)}function sy(i,l){do{var o=aw(i.alternate,i);if(o!==null){o.flags&=32767,fe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!l&&(i=i.sibling,i!==null)){fe=i;return}fe=i=o}while(i!==null);Le=6,fe=null}function ay(i,l,o,c,h,m,v,E,M){i.cancelPendingCommit=null;do yo();while(nt!==0);if((be&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(m=l.lanes|l.childLanes,m|=vc,Gx(i,o,m,v,E,M),i===Ce&&(fe=Ce=null,pe=0),sl=l,br=i,al=o,Cf=m,kf=h,Qg=c,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Sw(va,function(){return dy(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||c){c=V.T,V.T=null,h=X.p,X.p=2,v=be,be|=4;try{ow(i,l,o)}finally{be=v,X.p=h,V.T=c}}nt=1,oy(),uy(),cy()}}function oy(){if(nt===1){nt=0;var i=br,l=sl,o=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||o){o=V.T,V.T=null;var c=X.p;X.p=2;var h=be;be|=4;try{Ig(l,i);var m=If,v=Jp(i.containerInfo),E=m.focusedElem,M=m.selectionRange;if(v!==E&&E&&E.ownerDocument&&Xp(E.ownerDocument.documentElement,E)){if(M!==null&&gc(E)){var D=M.start,H=M.end;if(H===void 0&&(H=D),"selectionStart"in E)E.selectionStart=D,E.selectionEnd=Math.min(H,E.value.length);else{var P=E.ownerDocument||document,z=P&&P.defaultView||window;if(z.getSelection){var B=z.getSelection(),re=E.textContent.length,te=Math.min(M.start,re),Te=M.end===void 0?te:Math.min(M.end,re);!B.extend&&te>Te&&(v=Te,Te=te,te=v);var A=Kp(E,te),C=Kp(E,Te);if(A&&C&&(B.rangeCount!==1||B.anchorNode!==A.node||B.anchorOffset!==A.offset||B.focusNode!==C.node||B.focusOffset!==C.offset)){var R=P.createRange();R.setStart(A.node,A.offset),B.removeAllRanges(),te>Te?(B.addRange(R),B.extend(C.node,C.offset)):(R.setEnd(C.node,C.offset),B.addRange(R))}}}}for(P=[],B=E;B=B.parentNode;)B.nodeType===1&&P.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<P.length;E++){var q=P[E];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Ao=!!Ff,If=Ff=null}finally{be=h,X.p=c,V.T=o}}i.current=l,nt=2}}function uy(){if(nt===2){nt=0;var i=br,l=sl,o=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||o){o=V.T,V.T=null;var c=X.p;X.p=2;var h=be;be|=4;try{qg(i,l.alternate,l)}finally{be=h,X.p=c,V.T=o}}nt=3}}function cy(){if(nt===4||nt===3){nt=0,Ux();var i=br,l=sl,o=al,c=Qg;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?nt=5:(nt=0,sl=br=null,fy(i,i.pendingLanes));var h=i.pendingLanes;if(h===0&&(yr=null),Xu(o),l=l.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(jl,l,void 0,(l.current.flags&128)===128)}catch{}if(c!==null){l=V.T,h=X.p,X.p=2,V.T=null;try{for(var m=i.onRecoverableError,v=0;v<c.length;v++){var E=c[v];m(E.value,{componentStack:E.stack})}}finally{V.T=l,X.p=h}}(al&3)!==0&&yo(),vn(i),h=i.pendingLanes,(o&4194090)!==0&&(h&42)!==0?i===Af?vs++:(vs=0,Af=i):vs=0,ws(0)}}function fy(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,es(l)))}function yo(i){return oy(),uy(),cy(),dy()}function dy(){if(nt!==5)return!1;var i=br,l=Cf;Cf=0;var o=Xu(al),c=V.T,h=X.p;try{X.p=32>o?32:o,V.T=null,o=kf,kf=null;var m=br,v=al;if(nt=0,sl=br=null,al=0,(be&6)!==0)throw Error(r(331));var E=be;if(be|=4,Xg(m.current),$g(m,m.current,v,o),be=E,ws(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(jl,m)}catch{}return!0}finally{X.p=h,V.T=c,fy(i,l)}}function hy(i,l,o){l=Kt(o,l),l=af(i.stateNode,l,2),i=or(i,l,2),i!==null&&(Ul(i,2),vn(i))}function Me(i,l,o){if(i.tag===3)hy(i,i,o);else for(;l!==null;){if(l.tag===3){hy(l,i,o);break}else if(l.tag===1){var c=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(yr===null||!yr.has(c))){i=Kt(o,i),o=yg(2),c=or(l,o,2),c!==null&&(bg(o,c,l,i),Ul(c,2),vn(c));break}}l=l.return}}function zf(i,l,o){var c=i.pingCache;if(c===null){c=i.pingCache=new fw;var h=new Set;c.set(l,h)}else h=c.get(l),h===void 0&&(h=new Set,c.set(l,h));h.has(o)||(Ef=!0,h.add(o),i=gw.bind(null,i,l,o),l.then(i,i))}function gw(i,l,o){var c=i.pingCache;c!==null&&c.delete(l),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Ce===i&&(pe&o)===o&&(Le===4||Le===3&&(pe&62914560)===pe&&300>gn()-Of?(be&2)===0&&ol(i,0):Tf|=o,ll===pe&&(ll=0)),vn(i)}function py(i,l){l===0&&(l=cp()),i=Ii(i,l),i!==null&&(Ul(i,l),vn(i))}function yw(i){var l=i.memoizedState,o=0;l!==null&&(o=l.retryLane),py(i,o)}function bw(i,l){var o=0;switch(i.tag){case 13:var c=i.stateNode,h=i.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(l),py(i,o)}function Sw(i,l){return Yu(i,l)}var bo=null,cl=null,Bf=!1,So=!1,Lf=!1,ui=0;function vn(i){i!==cl&&i.next===null&&(cl===null?bo=cl=i:cl=cl.next=i),So=!0,Bf||(Bf=!0,vw())}function ws(i,l){if(!Lf&&So){Lf=!0;do for(var o=!1,c=bo;c!==null;){if(i!==0){var h=c.pendingLanes;if(h===0)var m=0;else{var v=c.suspendedLanes,E=c.pingedLanes;m=(1<<31-Lt(42|i)+1)-1,m&=h&~(v&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,by(c,m))}else m=pe,m=Ta(c,c===Ce?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||_l(c,m)||(o=!0,by(c,m));c=c.next}while(o);Lf=!1}}function xw(){my()}function my(){So=Bf=!1;var i=0;ui!==0&&(Aw()&&(i=ui),ui=0);for(var l=gn(),o=null,c=bo;c!==null;){var h=c.next,m=gy(c,l);m===0?(c.next=null,o===null?bo=h:o.next=h,h===null&&(cl=o)):(o=c,(i!==0||(m&3)!==0)&&(So=!0)),c=h}ws(i)}function gy(i,l){for(var o=i.suspendedLanes,c=i.pingedLanes,h=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var v=31-Lt(m),E=1<<v,M=h[v];M===-1?((E&o)===0||(E&c)!==0)&&(h[v]=$x(E,l)):M<=l&&(i.expiredLanes|=E),m&=~E}if(l=Ce,o=pe,o=Ta(i,i===l?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===l&&(Se===2||Se===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&$u(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||_l(i,o)){if(l=o&-o,l===i.callbackPriority)return l;switch(c!==null&&$u(c),Xu(o)){case 2:case 8:o=ap;break;case 32:o=va;break;case 268435456:o=op;break;default:o=va}return c=yy.bind(null,i),o=Yu(o,c),i.callbackPriority=l,i.callbackNode=o,l}return c!==null&&c!==null&&$u(c),i.callbackPriority=2,i.callbackNode=null,2}function yy(i,l){if(nt!==0&&nt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(yo()&&i.callbackNode!==o)return null;var c=pe;return c=Ta(i,i===Ce?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Zg(i,c,l),gy(i,gn()),i.callbackNode!=null&&i.callbackNode===o?yy.bind(null,i):null)}function by(i,l){if(yo())return null;Zg(i,l,!0)}function vw(){Rw(function(){(be&6)!==0?Yu(sp,xw):my()})}function jf(){return ui===0&&(ui=up()),ui}function Sy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Aa(""+i)}function xy(i,l){var o=l.ownerDocument.createElement("input");return o.name=l.name,o.value=l.value,i.id&&o.setAttribute("form",i.id),l.parentNode.insertBefore(o,l),i=new FormData(i),o.parentNode.removeChild(o),i}function ww(i,l,o,c,h){if(l==="submit"&&o&&o.stateNode===h){var m=Sy((h[Tt]||null).action),v=c.submitter;v&&(l=(l=v[Tt]||null)?Sy(l.formAction):v.getAttribute("formAction"),l!==null&&(m=l,v=null));var E=new za("action","action",null,c,h);i.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ui!==0){var M=v?xy(h,v):new FormData(h);tf(o,{pending:!0,data:M,method:h.method,action:m},null,M)}}else typeof m=="function"&&(E.preventDefault(),M=v?xy(h,v):new FormData(h),tf(o,{pending:!0,data:M,method:h.method,action:m},m,M))},currentTarget:h}]})}}for(var _f=0;_f<xc.length;_f++){var Uf=xc[_f],Ew=Uf.toLowerCase(),Tw=Uf[0].toUpperCase()+Uf.slice(1);sn(Ew,"on"+Tw)}sn(Zp,"onAnimationEnd"),sn(em,"onAnimationIteration"),sn(tm,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(Vv,"onTransitionRun"),sn(Pv,"onTransitionStart"),sn(Fv,"onTransitionCancel"),sn(nm,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Es));function vy(i,l){l=(l&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],h=c.event;c=c.listeners;e:{var m=void 0;if(l)for(var v=c.length-1;0<=v;v--){var E=c[v],M=E.instance,D=E.currentTarget;if(E=E.listener,M!==m&&h.isPropagationStopped())break e;m=E,h.currentTarget=D;try{m(h)}catch(H){lo(H)}h.currentTarget=null,m=M}else for(v=0;v<c.length;v++){if(E=c[v],M=E.instance,D=E.currentTarget,E=E.listener,M!==m&&h.isPropagationStopped())break e;m=E,h.currentTarget=D;try{m(h)}catch(H){lo(H)}h.currentTarget=null,m=M}}}}function de(i,l){var o=l[Ju];o===void 0&&(o=l[Ju]=new Set);var c=i+"__bubble";o.has(c)||(wy(l,i,2,!1),o.add(c))}function Hf(i,l,o){var c=0;l&&(c|=4),wy(o,i,c,l)}var xo="_reactListening"+Math.random().toString(36).slice(2);function qf(i){if(!i[xo]){i[xo]=!0,mp.forEach(function(o){o!=="selectionchange"&&(Mw.has(o)||Hf(o,!1,i),Hf(o,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[xo]||(l[xo]=!0,Hf("selectionchange",!1,l))}}function wy(i,l,o,c){switch($y(l)){case 2:var h=Ww;break;case 8:h=Zw;break;default:h=ed}o=h.bind(null,l,o,i),h=void 0,!ac||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(h=!0),c?h!==void 0?i.addEventListener(l,o,{capture:!0,passive:h}):i.addEventListener(l,o,!0):h!==void 0?i.addEventListener(l,o,{passive:h}):i.addEventListener(l,o,!1)}function Vf(i,l,o,c,h){var m=c;if((l&1)===0&&(l&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var E=c.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=c.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Ri(E),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){c=m=v;continue e}E=E.parentNode}}c=c.return}Ap(function(){var D=m,H=lc(o),P=[];e:{var z=rm.get(i);if(z!==void 0){var B=za,re=i;switch(i){case"keypress":if(Ra(o)===0)break e;case"keydown":case"keyup":B=Sv;break;case"focusin":re="focus",B=fc;break;case"focusout":re="blur",B=fc;break;case"beforeblur":case"afterblur":B=fc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=av;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=wv;break;case Zp:case em:case tm:B=cv;break;case nm:B=Tv;break;case"scroll":case"scrollend":B=lv;break;case"wheel":B=Ov;break;case"copy":case"cut":case"paste":B=dv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Bp;break;case"toggle":case"beforetoggle":B=kv}var te=(l&4)!==0,Te=!te&&(i==="scroll"||i==="scrollend"),A=te?z!==null?z+"Capture":null:z;te=[];for(var C=D,R;C!==null;){var q=C;if(R=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||R===null||A===null||(q=Vl(C,A),q!=null&&te.push(Ts(C,q,R))),Te)break;C=C.return}0<te.length&&(z=new B(z,re,null,o,H),P.push({event:z,listeners:te}))}}if((l&7)===0){e:{if(z=i==="mouseover"||i==="pointerover",B=i==="mouseout"||i==="pointerout",z&&o!==ic&&(re=o.relatedTarget||o.fromElement)&&(Ri(re)||re[Ni]))break e;if((B||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,B?(re=o.relatedTarget||o.toElement,B=D,re=re?Ri(re):null,re!==null&&(Te=a(re),te=re.tag,re!==Te||te!==5&&te!==27&&te!==6)&&(re=null)):(B=null,re=D),B!==re)){if(te=Dp,q="onMouseLeave",A="onMouseEnter",C="mouse",(i==="pointerout"||i==="pointerover")&&(te=Bp,q="onPointerLeave",A="onPointerEnter",C="pointer"),Te=B==null?z:ql(B),R=re==null?z:ql(re),z=new te(q,C+"leave",B,o,H),z.target=Te,z.relatedTarget=R,q=null,Ri(H)===D&&(te=new te(A,C+"enter",re,o,H),te.target=R,te.relatedTarget=Te,q=te),Te=q,B&&re)t:{for(te=B,A=re,C=0,R=te;R;R=fl(R))C++;for(R=0,q=A;q;q=fl(q))R++;for(;0<C-R;)te=fl(te),C--;for(;0<R-C;)A=fl(A),R--;for(;C--;){if(te===A||A!==null&&te===A.alternate)break t;te=fl(te),A=fl(A)}te=null}else te=null;B!==null&&Ey(P,z,B,te,!1),re!==null&&Te!==null&&Ey(P,Te,re,te,!0)}}e:{if(z=D?ql(D):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var Q=Pp;else if(qp(z))if(Fp)Q=Uv;else{Q=jv;var ce=Lv}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?D&&rc(D.elementType)&&(Q=Pp):Q=_v;if(Q&&(Q=Q(i,D))){Vp(P,Q,o,H);break e}ce&&ce(i,z,D),i==="focusout"&&D&&z.type==="number"&&D.memoizedProps.value!=null&&nc(z,"number",z.value)}switch(ce=D?ql(D):window,i){case"focusin":(qp(ce)||ce.contentEditable==="true")&&(Vi=ce,yc=D,Xl=null);break;case"focusout":Xl=yc=Vi=null;break;case"mousedown":bc=!0;break;case"contextmenu":case"mouseup":case"dragend":bc=!1,Qp(P,o,H);break;case"selectionchange":if(qv)break;case"keydown":case"keyup":Qp(P,o,H)}var Z;if(hc)e:{switch(i){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else qi?Up(i,o)&&(ne="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ne="onCompositionStart");ne&&(Lp&&o.locale!=="ko"&&(qi||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&qi&&(Z=Np()):(ir=H,oc="value"in ir?ir.value:ir.textContent,qi=!0)),ce=vo(D,ne),0<ce.length&&(ne=new zp(ne,i,null,o,H),P.push({event:ne,listeners:ce}),Z?ne.data=Z:(Z=Hp(o),Z!==null&&(ne.data=Z)))),(Z=Nv?Rv(i,o):Dv(i,o))&&(ne=vo(D,"onBeforeInput"),0<ne.length&&(ce=new zp("onBeforeInput","beforeinput",null,o,H),P.push({event:ce,listeners:ne}),ce.data=Z)),ww(P,i,D,o,H)}vy(P,l)})}function Ts(i,l,o){return{instance:i,listener:l,currentTarget:o}}function vo(i,l){for(var o=l+"Capture",c=[];i!==null;){var h=i,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Vl(i,o),h!=null&&c.unshift(Ts(i,h,m)),h=Vl(i,l),h!=null&&c.push(Ts(i,h,m))),i.tag===3)return c;i=i.return}return[]}function fl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ey(i,l,o,c,h){for(var m=l._reactName,v=[];o!==null&&o!==c;){var E=o,M=E.alternate,D=E.stateNode;if(E=E.tag,M!==null&&M===c)break;E!==5&&E!==26&&E!==27||D===null||(M=D,h?(D=Vl(o,m),D!=null&&v.unshift(Ts(o,D,M))):h||(D=Vl(o,m),D!=null&&v.push(Ts(o,D,M)))),o=o.return}v.length!==0&&i.push({event:l,listeners:v})}var Ow=/\r\n?/g,Cw=/\u0000|\uFFFD/g;function Ty(i){return(typeof i=="string"?i:""+i).replace(Ow,`
`).replace(Cw,"")}function My(i,l){return l=Ty(l),Ty(i)===l}function wo(){}function Ee(i,l,o,c,h,m){switch(o){case"children":typeof c=="string"?l==="body"||l==="textarea"&&c===""||_i(i,c):(typeof c=="number"||typeof c=="bigint")&&l!=="body"&&_i(i,""+c);break;case"className":Oa(i,"class",c);break;case"tabIndex":Oa(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Oa(i,o,c);break;case"style":Cp(i,c,m);break;case"data":if(l!=="object"){Oa(i,"data",c);break}case"src":case"href":if(c===""&&(l!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Aa(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(l!=="input"&&Ee(i,l,"name",h.name,h,null),Ee(i,l,"formEncType",h.formEncType,h,null),Ee(i,l,"formMethod",h.formMethod,h,null),Ee(i,l,"formTarget",h.formTarget,h,null)):(Ee(i,l,"encType",h.encType,h,null),Ee(i,l,"method",h.method,h,null),Ee(i,l,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Aa(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=wo);break;case"onScroll":c!=null&&de("scroll",i);break;case"onScrollEnd":c!=null&&de("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Aa(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":de("beforetoggle",i),de("toggle",i),Ma(i,"popover",c);break;case"xlinkActuate":Dn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Dn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Dn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Dn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Dn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Dn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Dn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Dn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Dn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ma(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=rv.get(o)||o,Ma(i,o,c))}}function Pf(i,l,o,c,h,m){switch(o){case"style":Cp(i,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?_i(i,c):(typeof c=="number"||typeof c=="bigint")&&_i(i,""+c);break;case"onScroll":c!=null&&de("scroll",i);break;case"onScrollEnd":c!=null&&de("scrollend",i);break;case"onClick":c!=null&&(i.onclick=wo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gp.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),l=o.slice(2,h?o.length-7:void 0),m=i[Tt]||null,m=m!=null?m[o]:null,typeof m=="function"&&i.removeEventListener(l,m,h),typeof c=="function")){typeof m!="function"&&m!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(l,c,h);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Ma(i,o,c)}}}function rt(i,l,o){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",i),de("load",i);var c=!1,h=!1,m;for(m in o)if(o.hasOwnProperty(m)){var v=o[m];if(v!=null)switch(m){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ee(i,l,m,v,o,null)}}h&&Ee(i,l,"srcSet",o.srcSet,o,null),c&&Ee(i,l,"src",o.src,o,null);return;case"input":de("invalid",i);var E=m=v=h=null,M=null,D=null;for(c in o)if(o.hasOwnProperty(c)){var H=o[c];if(H!=null)switch(c){case"name":h=H;break;case"type":v=H;break;case"checked":M=H;break;case"defaultChecked":D=H;break;case"value":m=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,l));break;default:Ee(i,l,c,H,o,null)}}Ep(i,m,E,M,D,v,h,!1),Ca(i);return;case"select":de("invalid",i),c=v=m=null;for(h in o)if(o.hasOwnProperty(h)&&(E=o[h],E!=null))switch(h){case"value":m=E;break;case"defaultValue":v=E;break;case"multiple":c=E;default:Ee(i,l,h,E,o,null)}l=m,o=v,i.multiple=!!c,l!=null?ji(i,!!c,l,!1):o!=null&&ji(i,!!c,o,!0);return;case"textarea":de("invalid",i),m=h=c=null;for(v in o)if(o.hasOwnProperty(v)&&(E=o[v],E!=null))switch(v){case"value":c=E;break;case"defaultValue":h=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Ee(i,l,v,E,o,null)}Mp(i,c,h,m),Ca(i);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(c=o[M],c!=null))switch(M){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ee(i,l,M,c,o,null)}return;case"dialog":de("beforetoggle",i),de("toggle",i),de("cancel",i),de("close",i);break;case"iframe":case"object":de("load",i);break;case"video":case"audio":for(c=0;c<Es.length;c++)de(Es[c],i);break;case"image":de("error",i),de("load",i);break;case"details":de("toggle",i);break;case"embed":case"source":case"link":de("error",i),de("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in o)if(o.hasOwnProperty(D)&&(c=o[D],c!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ee(i,l,D,c,o,null)}return;default:if(rc(l)){for(H in o)o.hasOwnProperty(H)&&(c=o[H],c!==void 0&&Pf(i,l,H,c,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(c=o[E],c!=null&&Ee(i,l,E,c,o,null))}function kw(i,l,o,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,v=null,E=null,M=null,D=null,H=null;for(B in o){var P=o[B];if(o.hasOwnProperty(B)&&P!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":M=P;default:c.hasOwnProperty(B)||Ee(i,l,B,null,c,P)}}for(var z in c){var B=c[z];if(P=o[z],c.hasOwnProperty(z)&&(B!=null||P!=null))switch(z){case"type":m=B;break;case"name":h=B;break;case"checked":D=B;break;case"defaultChecked":H=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,l));break;default:B!==P&&Ee(i,l,z,B,c,P)}}tc(i,v,E,M,D,H,m,h);return;case"select":B=v=E=z=null;for(m in o)if(M=o[m],o.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":B=M;default:c.hasOwnProperty(m)||Ee(i,l,m,null,c,M)}for(h in c)if(m=c[h],M=o[h],c.hasOwnProperty(h)&&(m!=null||M!=null))switch(h){case"value":z=m;break;case"defaultValue":E=m;break;case"multiple":v=m;default:m!==M&&Ee(i,l,h,m,c,M)}l=E,o=v,c=B,z!=null?ji(i,!!o,z,!1):!!c!=!!o&&(l!=null?ji(i,!!o,l,!0):ji(i,!!o,o?[]:"",!1));return;case"textarea":B=z=null;for(E in o)if(h=o[E],o.hasOwnProperty(E)&&h!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ee(i,l,E,null,c,h)}for(v in c)if(h=c[v],m=o[v],c.hasOwnProperty(v)&&(h!=null||m!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==m&&Ee(i,l,v,h,c,m)}Tp(i,z,B);return;case"option":for(var re in o)if(z=o[re],o.hasOwnProperty(re)&&z!=null&&!c.hasOwnProperty(re))switch(re){case"selected":i.selected=!1;break;default:Ee(i,l,re,null,c,z)}for(M in c)if(z=c[M],B=o[M],c.hasOwnProperty(M)&&z!==B&&(z!=null||B!=null))switch(M){case"selected":i.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Ee(i,l,M,z,c,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var te in o)z=o[te],o.hasOwnProperty(te)&&z!=null&&!c.hasOwnProperty(te)&&Ee(i,l,te,null,c,z);for(D in c)if(z=c[D],B=o[D],c.hasOwnProperty(D)&&z!==B&&(z!=null||B!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,l));break;default:Ee(i,l,D,z,c,B)}return;default:if(rc(l)){for(var Te in o)z=o[Te],o.hasOwnProperty(Te)&&z!==void 0&&!c.hasOwnProperty(Te)&&Pf(i,l,Te,void 0,c,z);for(H in c)z=c[H],B=o[H],!c.hasOwnProperty(H)||z===B||z===void 0&&B===void 0||Pf(i,l,H,z,c,B);return}}for(var A in o)z=o[A],o.hasOwnProperty(A)&&z!=null&&!c.hasOwnProperty(A)&&Ee(i,l,A,null,c,z);for(P in c)z=c[P],B=o[P],!c.hasOwnProperty(P)||z===B||z==null&&B==null||Ee(i,l,P,z,c,B)}var Ff=null,If=null;function Eo(i){return i.nodeType===9?i:i.ownerDocument}function Oy(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Yf(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var $f=null;function Aw(){var i=window.event;return i&&i.type==="popstate"?i===$f?!1:($f=i,!0):($f=null,!1)}var ky=typeof setTimeout=="function"?setTimeout:void 0,Nw=typeof clearTimeout=="function"?clearTimeout:void 0,Ay=typeof Promise=="function"?Promise:void 0,Rw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ay<"u"?function(i){return Ay.resolve(null).then(i).catch(Dw)}:ky;function Dw(i){setTimeout(function(){throw i})}function xr(i){return i==="head"}function Ny(i,l){var o=l,c=0,h=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<c&&8>c){o=c;var v=i.ownerDocument;if(o&1&&Ms(v.documentElement),o&2&&Ms(v.body),o&4)for(o=v.head,Ms(o),v=o.firstChild;v;){var E=v.nextSibling,M=v.nodeName;v[Hl]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=E}}if(h===0){i.removeChild(m),zs(l);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:c=o.charCodeAt(0)-48;else c=0;o=m}while(o);zs(l)}function Gf(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var o=l;switch(l=l.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Gf(o),Qu(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function zw(i,l,o,c){for(;i.nodeType===1;){var h=o;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Hl])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==h.rel||i.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=on(i.nextSibling),i===null)break}return null}function Bw(i,l,o){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=on(i.nextSibling),i===null))return null;return i}function Kf(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Lw(i,l){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")l();else{var c=function(){l(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function on(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}var Xf=null;function Ry(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(l===0)return i;l--}else o==="/$"&&l++}i=i.previousSibling}return null}function Dy(i,l,o){switch(l=Eo(o),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ms(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Qu(i)}var en=new Map,zy=new Set;function To(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var $n=X.d;X.d={f:jw,r:_w,D:Uw,C:Hw,L:qw,m:Vw,X:Fw,S:Pw,M:Iw};function jw(){var i=$n.f(),l=mo();return i||l}function _w(i){var l=Di(i);l!==null&&l.tag===5&&l.type==="form"?Zm(l):$n.r(i)}var dl=typeof document>"u"?null:document;function By(i,l,o){var c=dl;if(c&&typeof l=="string"&&l){var h=Gt(l);h='link[rel="'+i+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),zy.has(h)||(zy.add(h),i={rel:i,crossOrigin:o,href:l},c.querySelector(h)===null&&(l=c.createElement("link"),rt(l,"link",i),Ge(l),c.head.appendChild(l)))}}function Uw(i){$n.D(i),By("dns-prefetch",i,null)}function Hw(i,l){$n.C(i,l),By("preconnect",i,l)}function qw(i,l,o){$n.L(i,l,o);var c=dl;if(c&&i&&l){var h='link[rel="preload"][as="'+Gt(l)+'"]';l==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Gt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Gt(o.imageSizes)+'"]')):h+='[href="'+Gt(i)+'"]';var m=h;switch(l){case"style":m=hl(i);break;case"script":m=pl(i)}en.has(m)||(i=g({rel:"preload",href:l==="image"&&o&&o.imageSrcSet?void 0:i,as:l},o),en.set(m,i),c.querySelector(h)!==null||l==="style"&&c.querySelector(Os(m))||l==="script"&&c.querySelector(Cs(m))||(l=c.createElement("link"),rt(l,"link",i),Ge(l),c.head.appendChild(l)))}}function Vw(i,l){$n.m(i,l);var o=dl;if(o&&i){var c=l&&typeof l.as=="string"?l.as:"script",h='link[rel="modulepreload"][as="'+Gt(c)+'"][href="'+Gt(i)+'"]',m=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=pl(i)}if(!en.has(m)&&(i=g({rel:"modulepreload",href:i},l),en.set(m,i),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Cs(m)))return}c=o.createElement("link"),rt(c,"link",i),Ge(c),o.head.appendChild(c)}}}function Pw(i,l,o){$n.S(i,l,o);var c=dl;if(c&&i){var h=zi(c).hoistableStyles,m=hl(i);l=l||"default";var v=h.get(m);if(!v){var E={loading:0,preload:null};if(v=c.querySelector(Os(m)))E.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":l},o),(o=en.get(m))&&Jf(i,o);var M=v=c.createElement("link");Ge(M),rt(M,"link",i),M._p=new Promise(function(D,H){M.onload=D,M.onerror=H}),M.addEventListener("load",function(){E.loading|=1}),M.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Mo(v,l,c)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(m,v)}}}function Fw(i,l){$n.X(i,l);var o=dl;if(o&&i){var c=zi(o).hoistableScripts,h=pl(i),m=c.get(h);m||(m=o.querySelector(Cs(h)),m||(i=g({src:i,async:!0},l),(l=en.get(h))&&Qf(i,l),m=o.createElement("script"),Ge(m),rt(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function Iw(i,l){$n.M(i,l);var o=dl;if(o&&i){var c=zi(o).hoistableScripts,h=pl(i),m=c.get(h);m||(m=o.querySelector(Cs(h)),m||(i=g({src:i,async:!0,type:"module"},l),(l=en.get(h))&&Qf(i,l),m=o.createElement("script"),Ge(m),rt(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function Ly(i,l,o,c){var h=(h=tr.current)?To(h):null;if(!h)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(l=hl(o.href),o=zi(h).hoistableStyles,c=o.get(l),c||(c={type:"style",instance:null,count:0,state:null},o.set(l,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=hl(o.href);var m=zi(h).hoistableStyles,v=m.get(i);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,v),(m=h.querySelector(Os(i)))&&!m._p&&(v.instance=m,v.state.loading=5),en.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},en.set(i,o),m||Yw(h,i,o,v.state))),l&&c===null)throw Error(r(528,""));return v}if(l&&c!==null)throw Error(r(529,""));return null;case"script":return l=o.async,o=o.src,typeof o=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=pl(o),o=zi(h).hoistableScripts,c=o.get(l),c||(c={type:"script",instance:null,count:0,state:null},o.set(l,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function hl(i){return'href="'+Gt(i)+'"'}function Os(i){return'link[rel="stylesheet"]['+i+"]"}function jy(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function Yw(i,l,o,c){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?c.loading=1:(l=i.createElement("link"),c.preload=l,l.addEventListener("load",function(){return c.loading|=1}),l.addEventListener("error",function(){return c.loading|=2}),rt(l,"link",o),Ge(l),i.head.appendChild(l))}function pl(i){return'[src="'+Gt(i)+'"]'}function Cs(i){return"script[async]"+i}function _y(i,l,o){if(l.count++,l.instance===null)switch(l.type){case"style":var c=i.querySelector('style[data-href~="'+Gt(o.href)+'"]');if(c)return l.instance=c,Ge(c),c;var h=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ge(c),rt(c,"style",h),Mo(c,o.precedence,i),l.instance=c;case"stylesheet":h=hl(o.href);var m=i.querySelector(Os(h));if(m)return l.state.loading|=4,l.instance=m,Ge(m),m;c=jy(o),(h=en.get(h))&&Jf(c,h),m=(i.ownerDocument||i).createElement("link"),Ge(m);var v=m;return v._p=new Promise(function(E,M){v.onload=E,v.onerror=M}),rt(m,"link",c),l.state.loading|=4,Mo(m,o.precedence,i),l.instance=m;case"script":return m=pl(o.src),(h=i.querySelector(Cs(m)))?(l.instance=h,Ge(h),h):(c=o,(h=en.get(m))&&(c=g({},o),Qf(c,h)),i=i.ownerDocument||i,h=i.createElement("script"),Ge(h),rt(h,"link",c),i.head.appendChild(h),l.instance=h);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(c=l.instance,l.state.loading|=4,Mo(c,o.precedence,i));return l.instance}function Mo(i,l,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,m=h,v=0;v<c.length;v++){var E=c[v];if(E.dataset.precedence===l)m=E;else if(m!==h)break}m?m.parentNode.insertBefore(i,m.nextSibling):(l=o.nodeType===9?o.head:o,l.insertBefore(i,l.firstChild))}function Jf(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Qf(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Oo=null;function Uy(i,l,o){if(Oo===null){var c=new Map,h=Oo=new Map;h.set(o,c)}else h=Oo,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),h=0;h<o.length;h++){var m=o[h];if(!(m[Hl]||m[ot]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(l)||"";v=i+v;var E=c.get(v);E?E.push(m):c.set(v,[m])}}return c}function Hy(i,l,o){i=i.ownerDocument||i,i.head.insertBefore(o,l==="title"?i.querySelector("head > title"):null)}function $w(i,l,o){if(o===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function qy(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ks=null;function Gw(){}function Kw(i,l,o){if(ks===null)throw Error(r(475));var c=ks;if(l.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var h=hl(o.href),m=i.querySelector(Os(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Co.bind(c),i.then(c,c)),l.state.loading|=4,l.instance=m,Ge(m);return}m=i.ownerDocument||i,o=jy(o),(h=en.get(h))&&Jf(o,h),m=m.createElement("link"),Ge(m);var v=m;v._p=new Promise(function(E,M){v.onload=E,v.onerror=M}),rt(m,"link",o),l.instance=m}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(c.count++,l=Co.bind(c),i.addEventListener("load",l),i.addEventListener("error",l))}}function Xw(){if(ks===null)throw Error(r(475));var i=ks;return i.stylesheets&&i.count===0&&Wf(i,i.stylesheets),0<i.count?function(l){var o=setTimeout(function(){if(i.stylesheets&&Wf(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Co(){if(this.count--,this.count===0){if(this.stylesheets)Wf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ko=null;function Wf(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ko=new Map,l.forEach(Jw,i),ko=null,Co.call(i))}function Jw(i,l){if(!(l.state.loading&4)){var o=ko.get(i);if(o)var c=o.get(null);else{o=new Map,ko.set(i,o);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var v=h[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(o.set(v.dataset.precedence,v),c=v)}c&&o.set(null,c)}h=l.instance,v=h.getAttribute("data-precedence"),m=o.get(v)||c,m===c&&o.set(null,h),o.set(v,h),this.count++,c=Co.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),m?m.parentNode.insertBefore(h,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),l.state.loading|=4}}var As={$$typeof:U,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Qw(i,l,o,c,h,m,v,E){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gu(0),this.hiddenUpdates=Gu(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Vy(i,l,o,c,h,m,v,E,M,D,H,P){return i=new Qw(i,l,o,v,E,M,D,P),l=1,m===!0&&(l|=24),m=_t(3,null,null,l),i.current=m,m.stateNode=i,l=Dc(),l.refCount++,i.pooledCache=l,l.refCount++,m.memoizedState={element:c,isDehydrated:o,cache:l},jc(m),i}function Py(i){return i?(i=Yi,i):Yi}function Fy(i,l,o,c,h,m){h=Py(h),c.context===null?c.context=h:c.pendingContext=h,c=ar(l),c.payload={element:o},m=m===void 0?null:m,m!==null&&(c.callback=m),o=or(i,c,l),o!==null&&(Pt(o,i,l),is(o,i,l))}function Iy(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<l?o:l}}function Zf(i,l){Iy(i,l),(i=i.alternate)&&Iy(i,l)}function Yy(i){if(i.tag===13){var l=Ii(i,67108864);l!==null&&Pt(l,i,67108864),Zf(i,67108864)}}var Ao=!0;function Ww(i,l,o,c){var h=V.T;V.T=null;var m=X.p;try{X.p=2,ed(i,l,o,c)}finally{X.p=m,V.T=h}}function Zw(i,l,o,c){var h=V.T;V.T=null;var m=X.p;try{X.p=8,ed(i,l,o,c)}finally{X.p=m,V.T=h}}function ed(i,l,o,c){if(Ao){var h=td(c);if(h===null)Vf(i,l,c,No,o),Gy(i,c);else if(tE(h,i,l,o,c))c.stopPropagation();else if(Gy(i,c),l&4&&-1<eE.indexOf(i)){for(;h!==null;){var m=Di(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=$r(m.pendingLanes);if(v!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var M=1<<31-Lt(v);E.entanglements[1]|=M,v&=~M}vn(m),(be&6)===0&&(ho=gn()+500,ws(0))}}break;case 13:E=Ii(m,2),E!==null&&Pt(E,m,2),mo(),Zf(m,2)}if(m=td(c),m===null&&Vf(i,l,c,No,o),m===h)break;h=m}h!==null&&c.stopPropagation()}else Vf(i,l,c,null,o)}}function td(i){return i=lc(i),nd(i)}var No=null;function nd(i){if(No=null,i=Ri(i),i!==null){var l=a(i);if(l===null)i=null;else{var o=l.tag;if(o===13){if(i=u(l),i!==null)return i;i=null}else if(o===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return No=i,null}function $y(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hx()){case sp:return 2;case ap:return 8;case va:case qx:return 32;case op:return 268435456;default:return 32}default:return 32}}var rd=!1,vr=null,wr=null,Er=null,Ns=new Map,Rs=new Map,Tr=[],eE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gy(i,l){switch(i){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Ns.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(l.pointerId)}}function Ds(i,l,o,c,h,m){return i===null||i.nativeEvent!==m?(i={blockedOn:l,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},l!==null&&(l=Di(l),l!==null&&Yy(l)),i):(i.eventSystemFlags|=c,l=i.targetContainers,h!==null&&l.indexOf(h)===-1&&l.push(h),i)}function tE(i,l,o,c,h){switch(l){case"focusin":return vr=Ds(vr,i,l,o,c,h),!0;case"dragenter":return wr=Ds(wr,i,l,o,c,h),!0;case"mouseover":return Er=Ds(Er,i,l,o,c,h),!0;case"pointerover":var m=h.pointerId;return Ns.set(m,Ds(Ns.get(m)||null,i,l,o,c,h)),!0;case"gotpointercapture":return m=h.pointerId,Rs.set(m,Ds(Rs.get(m)||null,i,l,o,c,h)),!0}return!1}function Ky(i){var l=Ri(i.target);if(l!==null){var o=a(l);if(o!==null){if(l=o.tag,l===13){if(l=u(o),l!==null){i.blockedOn=l,Kx(i.priority,function(){if(o.tag===13){var c=Vt();c=Ku(c);var h=Ii(o,c);h!==null&&Pt(h,o,c),Zf(o,c)}});return}}else if(l===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ro(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var o=td(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);ic=c,o.target.dispatchEvent(c),ic=null}else return l=Di(o),l!==null&&Yy(l),i.blockedOn=o,!1;l.shift()}return!0}function Xy(i,l,o){Ro(i)&&o.delete(l)}function nE(){rd=!1,vr!==null&&Ro(vr)&&(vr=null),wr!==null&&Ro(wr)&&(wr=null),Er!==null&&Ro(Er)&&(Er=null),Ns.forEach(Xy),Rs.forEach(Xy)}function Do(i,l){i.blockedOn===l&&(i.blockedOn=null,rd||(rd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,nE)))}var zo=null;function Jy(i){zo!==i&&(zo=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zo===i&&(zo=null);for(var l=0;l<i.length;l+=3){var o=i[l],c=i[l+1],h=i[l+2];if(typeof c!="function"){if(nd(c||o)===null)continue;break}var m=Di(o);m!==null&&(i.splice(l,3),l-=3,tf(m,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function zs(i){function l(M){return Do(M,i)}vr!==null&&Do(vr,i),wr!==null&&Do(wr,i),Er!==null&&Do(Er,i),Ns.forEach(l),Rs.forEach(l);for(var o=0;o<Tr.length;o++){var c=Tr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Tr.length&&(o=Tr[0],o.blockedOn===null);)Ky(o),o.blockedOn===null&&Tr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],m=o[c+1],v=h[Tt]||null;if(typeof m=="function")v||Jy(o);else if(v){var E=null;if(m&&m.hasAttribute("formAction")){if(h=m,v=m[Tt]||null)E=v.formAction;else if(nd(h)!==null)continue}else E=v.action;typeof E=="function"?o[c+1]=E:(o.splice(c,3),c-=3),Jy(o)}}}function id(i){this._internalRoot=i}Bo.prototype.render=id.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var o=l.current,c=Vt();Fy(o,c,i,l,null,null)},Bo.prototype.unmount=id.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Fy(i.current,2,null,i,null,null),mo(),l[Ni]=null}};function Bo(i){this._internalRoot=i}Bo.prototype.unstable_scheduleHydration=function(i){if(i){var l=hp();i={blockedOn:null,target:i,priority:l};for(var o=0;o<Tr.length&&l!==0&&l<Tr[o].priority;o++);Tr.splice(o,0,i),o===0&&Ky(i)}};var Qy=e.version;if(Qy!=="19.1.0")throw Error(r(527,Qy,"19.1.0"));X.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(l),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var rE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{jl=Lo.inject(rE),Bt=Lo}catch{}}return Ls.createRoot=function(i,l){if(!s(i))throw Error(r(299));var o=!1,c="",h=hg,m=pg,v=mg,E=null;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(c=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(m=l.onCaughtError),l.onRecoverableError!==void 0&&(v=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(E=l.unstable_transitionCallbacks)),l=Vy(i,1,!1,null,null,o,c,h,m,v,E,null),i[Ni]=l.current,qf(i),new id(l)},Ls.hydrateRoot=function(i,l,o){if(!s(i))throw Error(r(299));var c=!1,h="",m=hg,v=pg,E=mg,M=null,D=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks),o.formState!==void 0&&(D=o.formState)),l=Vy(i,1,!0,l,o??null,c,h,m,v,E,M,D),l.context=Py(null),o=l.current,c=Vt(),c=Ku(c),h=ar(c),h.callback=null,or(o,h,c),o=c,l.current.lanes=o,Ul(l,o),vn(l),i[Ni]=l.current,qf(i),new Bo(l)},Ls.version="19.1.0",Ls}var r0;function cE(){if(r0)return sd.exports;r0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sd.exports=uE(),sd.exports}var fE=cE(),js={},i0;function dE(){if(i0)return js;i0=1,Object.defineProperty(js,"__esModule",{value:!0}),js.parse=u,js.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,x){const S=new a,w=b.length;if(w<2)return S;const T=(x==null?void 0:x.decode)||g;let O=0;do{const L=b.indexOf("=",O);if(L===-1)break;const U=b.indexOf(";",O),I=U===-1?w:U;if(L>I){O=b.lastIndexOf(";",L-1)+1;continue}const j=f(b,O,L),G=d(b,L,j),J=b.slice(j,G);if(S[J]===void 0){let Y=f(b,L+1,I),$=d(b,I,Y);const he=T(b.slice(Y,$));S[J]=he}O=I+1}while(O<w);return S}function f(b,x,S){do{const w=b.charCodeAt(x);if(w!==32&&w!==9)return x}while(++x<S);return S}function d(b,x,S){for(;x>S;){const w=b.charCodeAt(--x);if(w!==32&&w!==9)return x+1}return S}function p(b,x,S){const w=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const T=w(x);if(!e.test(T))throw new TypeError(`argument val is invalid: ${x}`);let O=b+"="+T;if(!S)return O;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);O+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);O+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);O+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);O+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(O+="; HttpOnly"),S.secure&&(O+="; Secure"),S.partitioned&&(O+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return O}function g(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return s.call(b)==="[object Date]"}return js}dE();var l0="popstate";function hE(n={}){function e(r,s){let{pathname:a,search:u,hash:f}=r.location;return Fd("",{pathname:a,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Xs(s)}return mE(e,t,null,n)}function ze(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pE(){return Math.random().toString(36).substring(2,10)}function s0(n,e){return{usr:n.state,key:n.key,idx:e}}function Fd(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Nl(e):e,state:t,key:e&&e.key||r||pE()}}function Xs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Nl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function mE(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,f="POP",d=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function y(){f="POP";let T=g(),O=T==null?null:T-p;p=T,d&&d({action:f,location:w.location,delta:O})}function b(T,O){f="PUSH";let L=Fd(w.location,T,O);p=g()+1;let U=s0(L,p),I=w.createHref(L);try{u.pushState(U,"",I)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(I)}a&&d&&d({action:f,location:w.location,delta:1})}function x(T,O){f="REPLACE";let L=Fd(w.location,T,O);p=g();let U=s0(L,p),I=w.createHref(L);u.replaceState(U,"",I),a&&d&&d({action:f,location:w.location,delta:0})}function S(T){return gE(T)}let w={get action(){return f},get location(){return n(s,u)},listen(T){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(l0,y),d=T,()=>{s.removeEventListener(l0,y),d=null}},createHref(T){return e(s,T)},createURL:S,encodeLocation(T){let O=S(T);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:x,go(T){return u.go(T)}};return w}function gE(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ze(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Xs(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Zb(n,e,t="/"){return yE(n,e,t,!1)}function yE(n,e,t,r){let s=typeof e=="string"?Nl(e):e,a=Zn(s.pathname||"/",t);if(a==null)return null;let u=e1(n);bE(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let p=AE(a);f=CE(u[d],p,r)}return f}function e1(n,e=[],t=[],r=""){let s=(a,u,f)=>{let d={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&(ze(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=Jn([r,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(ze(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),e1(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:ME(p,a.index),routesMeta:g})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))s(a,u);else for(let d of t1(a.path))s(a,u,d)}),e}function t1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=t1(r.join("/")),f=[];return f.push(...u.map(d=>d===""?a:[a,d].join("/"))),s&&f.push(...u),f.map(d=>n.startsWith("/")&&d===""?"/":d)}function bE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:OE(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var SE=/^:[\w-]+$/,xE=3,vE=2,wE=1,EE=10,TE=-2,a0=n=>n==="*";function ME(n,e){let t=n.split("/"),r=t.length;return t.some(a0)&&(r+=TE),e&&(r+=vE),t.filter(s=>!a0(s)).reduce((s,a)=>s+(SE.test(a)?xE:a===""?wE:EE),r)}function OE(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function CE(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let f=0;f<r.length;++f){let d=r[f],p=f===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=tu({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),b=d.route;if(!y&&p&&t&&!r[r.length-1].route.index&&(y=tu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),u.push({params:s,pathname:Jn([a,y.pathname]),pathnameBase:zE(Jn([a,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(a=Jn([a,y.pathnameBase]))}return u}function tu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=kE(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:y},b)=>{if(g==="*"){let S=f[b]||"";u=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const x=f[b];return y&&!x?p[g]=void 0:p[g]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function kE(n,e=!1,t=!0){fn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function AE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Zn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function NE(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Nl(n):n;return{pathname:t?t.startsWith("/")?t:RE(t,e):e,search:BE(r),hash:LE(s)}}function RE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function ud(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function n1(n){let e=DE(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function r1(n,e,t,r=!1){let s;typeof n=="string"?s=Nl(n):(s={...n},ze(!s.pathname||!s.pathname.includes("?"),ud("?","pathname","search",s)),ze(!s.pathname||!s.pathname.includes("#"),ud("#","pathname","hash",s)),ze(!s.search||!s.search.includes("#"),ud("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,f;if(u==null)f=t;else{let y=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}f=y>=0?e[y]:"/"}let d=NE(s,f),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var Jn=n=>n.join("/").replace(/\/\/+/g,"/"),zE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),BE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,LE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function jE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var i1=["POST","PUT","PATCH","DELETE"];new Set(i1);var _E=["GET",...i1];new Set(_E);var Rl=N.createContext(null);Rl.displayName="DataRouter";var Su=N.createContext(null);Su.displayName="DataRouterState";var l1=N.createContext({isTransitioning:!1});l1.displayName="ViewTransition";var UE=N.createContext(new Map);UE.displayName="Fetchers";var HE=N.createContext(null);HE.displayName="Await";var kn=N.createContext(null);kn.displayName="Navigation";var oa=N.createContext(null);oa.displayName="Location";var An=N.createContext({outlet:null,matches:[],isDataRoute:!1});An.displayName="Route";var Mh=N.createContext(null);Mh.displayName="RouteError";function qE(n,{relative:e}={}){ze(ua(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=N.useContext(kn),{hash:s,pathname:a,search:u}=fa(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:Jn([t,a])),r.createHref({pathname:f,search:u,hash:s})}function ua(){return N.useContext(oa)!=null}function Pr(){return ze(ua(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(oa).location}var s1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a1(n){N.useContext(kn).static||N.useLayoutEffect(n)}function ca(){let{isDataRoute:n}=N.useContext(An);return n?eT():VE()}function VE(){ze(ua(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(Rl),{basename:e,navigator:t}=N.useContext(kn),{matches:r}=N.useContext(An),{pathname:s}=Pr(),a=JSON.stringify(n1(r)),u=N.useRef(!1);return a1(()=>{u.current=!0}),N.useCallback((d,p={})=>{if(fn(u.current,s1),!u.current)return;if(typeof d=="number"){t.go(d);return}let g=r1(d,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Jn([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,s,n])}N.createContext(null);function PE(){let{matches:n}=N.useContext(An),e=n[n.length-1];return e?e.params:{}}function fa(n,{relative:e}={}){let{matches:t}=N.useContext(An),{pathname:r}=Pr(),s=JSON.stringify(n1(t));return N.useMemo(()=>r1(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function FE(n,e){return o1(n,e)}function o1(n,e,t,r){var O;ze(ua(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext(kn),{matches:a}=N.useContext(An),u=a[a.length-1],f=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let L=g&&g.path||"";u1(d,!g||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let y=Pr(),b;if(e){let L=typeof e=="string"?Nl(e):e;ze(p==="/"||((O=L.pathname)==null?void 0:O.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${L.pathname}" was given in the \`location\` prop.`),b=L}else b=y;let x=b.pathname||"/",S=x;if(p!=="/"){let L=p.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(L.length).join("/")}let w=Zb(n,{pathname:S});fn(g||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),fn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=KE(w&&w.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:Jn([p,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:Jn([p,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),a,t,r);return e&&T?N.createElement(oa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function IE(){let n=ZE(),e=jE(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:s},t):null,u)}var YE=N.createElement(IE,null),$E=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?N.createElement(An.Provider,{value:this.props.routeContext},N.createElement(Mh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GE({routeContext:n,match:e,children:t}){let r=N.useContext(Rl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(An.Provider,{value:n},t)}function KE(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let d=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);ze(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,f=-1;if(t)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=d),p.route.id){let{loaderData:g,errors:y}=t,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((d,p,g)=>{let y,b=!1,x=null,S=null;t&&(y=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||YE,u&&(f<0&&g===0?(u1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):f===g&&(b=!0,S=p.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,g+1)),T=()=>{let O;return y?O=x:b?O=S:p.route.Component?O=N.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=d,N.createElement(GE,{match:p,routeContext:{outlet:d,matches:w,isDataRoute:t!=null},children:O})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?N.createElement($E,{location:t.location,revalidation:t.revalidation,component:x,error:y,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):T()},null)}function Oh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XE(n){let e=N.useContext(Rl);return ze(e,Oh(n)),e}function JE(n){let e=N.useContext(Su);return ze(e,Oh(n)),e}function QE(n){let e=N.useContext(An);return ze(e,Oh(n)),e}function Ch(n){let e=QE(n),t=e.matches[e.matches.length-1];return ze(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function WE(){return Ch("useRouteId")}function ZE(){var r;let n=N.useContext(Mh),e=JE("useRouteError"),t=Ch("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function eT(){let{router:n}=XE("useNavigate"),e=Ch("useNavigate"),t=N.useRef(!1);return a1(()=>{t.current=!0}),N.useCallback(async(s,a={})=>{fn(t.current,s1),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var o0={};function u1(n,e,t){!e&&!o0[n]&&(o0[n]=!0,fn(!1,t))}N.memo(tT);function tT({routes:n,future:e,state:t}){return o1(n,void 0,t,e)}function Cr(n){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nT({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){ze(!ua(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=Nl(t));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:b="default"}=t,x=N.useMemo(()=>{let S=Zn(d,u);return S==null?null:{location:{pathname:S,search:p,hash:g,state:y,key:b},navigationType:r}},[u,d,p,g,y,b,r]);return fn(x!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:N.createElement(kn.Provider,{value:f},N.createElement(oa.Provider,{children:e,value:x}))}function rT({children:n,location:e}){return FE(Id(n),e)}function Id(n,e=[]){let t=[];return N.Children.forEach(n,(r,s)=>{if(!N.isValidElement(r))return;let a=[...e,s];if(r.type===N.Fragment){t.push.apply(t,Id(r.props.children,a));return}ze(r.type===Cr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Id(r.props.children,a)),t.push(u)}),t}var $o="get",Go="application/x-www-form-urlencoded";function xu(n){return n!=null&&typeof n.tagName=="string"}function iT(n){return xu(n)&&n.tagName.toLowerCase()==="button"}function lT(n){return xu(n)&&n.tagName.toLowerCase()==="form"}function sT(n){return xu(n)&&n.tagName.toLowerCase()==="input"}function aT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oT(n,e){return n.button===0&&(!e||e==="_self")&&!aT(n)}function Yd(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(s=>[t,s]):[[t,r]])},[]))}function uT(n,e){let t=Yd(n);return e&&e.forEach((r,s)=>{t.has(s)||e.getAll(s).forEach(a=>{t.append(s,a)})}),t}var jo=null;function cT(){if(jo===null)try{new FormData(document.createElement("form"),0),jo=!1}catch{jo=!0}return jo}var fT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cd(n){return n!=null&&!fT.has(n)?(fn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Go}"`),null):n}function dT(n,e){let t,r,s,a,u;if(lT(n)){let f=n.getAttribute("action");r=f?Zn(f,e):null,t=n.getAttribute("method")||$o,s=cd(n.getAttribute("enctype"))||Go,a=new FormData(n)}else if(iT(n)||sT(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||f.getAttribute("action");if(r=d?Zn(d,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||$o,s=cd(n.getAttribute("formenctype"))||cd(f.getAttribute("enctype"))||Go,a=new FormData(f,n),!cT()){let{name:p,type:g,value:y}=n;if(g==="image"){let b=p?`${p}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else p&&a.append(p,y)}}else{if(xu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=$o,r=null,s=Go,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function kh(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function hT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function mT(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await hT(a,t);return u.links?u.links():[]}return[]}));return ST(r.flat(1).filter(pT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function u0(n,e,t,r,s,a){let u=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,f=(d,p)=>{var g;return t[p].pathname!==d.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>u(d,p)||f(d,p)):a==="data"?e.filter((d,p)=>{var y;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,p)||f(d,p))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function gT(n,e,{includeHydrateFallback:t}={}){return yT(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function yT(n){return[...new Set(n)]}function bT(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function ST(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(bT(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xT=new Set([100,101,204,205]);function vT(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Zn(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function c1(){let n=N.useContext(Rl);return kh(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function wT(){let n=N.useContext(Su);return kh(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ah=N.createContext(void 0);Ah.displayName="FrameworkContext";function f1(){let n=N.useContext(Ah);return kh(n,"You must render this element inside a <HydratedRouter> element"),n}function ET(n,e){let t=N.useContext(Ah),[r,s]=N.useState(!1),[a,u]=N.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,b=N.useRef(null);N.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let w=O=>{O.forEach(L=>{u(L.isIntersecting)})},T=new IntersectionObserver(w,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[n]),N.useEffect(()=>{if(r){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[r]);let x=()=>{s(!0)},S=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,b,{}]:[a,b,{onFocus:_s(f,x),onBlur:_s(d,S),onMouseEnter:_s(p,x),onMouseLeave:_s(g,S),onTouchStart:_s(y,x)}]:[!1,b,{}]}function _s(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function TT({page:n,...e}){let{router:t}=c1(),r=N.useMemo(()=>Zb(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?N.createElement(OT,{page:n,matches:r,...e}):null}function MT(n){let{manifest:e,routeModules:t}=f1(),[r,s]=N.useState([]);return N.useEffect(()=>{let a=!1;return mT(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function OT({page:n,matches:e,...t}){let r=Pr(),{manifest:s,routeModules:a}=f1(),{basename:u}=c1(),{loaderData:f,matches:d}=wT(),p=N.useMemo(()=>u0(n,e,d,s,r,"data"),[n,e,d,s,r]),g=N.useMemo(()=>u0(n,e,d,s,r,"assets"),[n,e,d,s,r]),y=N.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,w=!1;if(e.forEach(O=>{var U;let L=s.routes[O.route.id];!L||!L.hasLoader||(!p.some(I=>I.route.id===O.route.id)&&O.route.id in f&&((U=a[O.route.id])!=null&&U.shouldRevalidate)||L.hasClientLoader?w=!0:S.add(O.route.id))}),S.size===0)return[];let T=vT(n,u);return w&&S.size>0&&T.searchParams.set("_routes",e.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[T.pathname+T.search]},[u,f,r,s,p,e,n,a]),b=N.useMemo(()=>gT(g,s),[g,s]),x=MT(g);return N.createElement(N.Fragment,null,y.map(S=>N.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),b.map(S=>N.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),x.map(({key:S,link:w})=>N.createElement("link",{key:S,...w})))}function CT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var d1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d1&&(window.__reactRouterVersion="7.6.2")}catch{}function kT({basename:n,children:e,window:t}){let r=N.useRef();r.current==null&&(r.current=hE({window:t,v5Compat:!0}));let s=r.current,[a,u]=N.useState({action:s.action,location:s.location}),f=N.useCallback(d=>{N.startTransition(()=>u(d))},[u]);return N.useLayoutEffect(()=>s.listen(f),[s,f]),N.createElement(nT,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var h1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tn=N.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:f,target:d,to:p,preventScrollReset:g,viewTransition:y,...b},x){let{basename:S}=N.useContext(kn),w=typeof p=="string"&&h1.test(p),T,O=!1;if(typeof p=="string"&&w&&(T=p,d1))try{let $=new URL(window.location.href),he=p.startsWith("//")?new URL($.protocol+p):new URL(p),Et=Zn(he.pathname,S);he.origin===$.origin&&Et!=null?p=Et+he.search+he.hash:O=!0}catch{fn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=qE(p,{relative:s}),[U,I,j]=ET(r,b),G=DT(p,{replace:u,state:f,target:d,preventScrollReset:g,relative:s,viewTransition:y});function J($){e&&e($),$.defaultPrevented||G($)}let Y=N.createElement("a",{...b,...j,href:T||L,onClick:O||a?e:J,ref:CT(x,I),target:d,"data-discover":!w&&t==="render"?"true":void 0});return U&&!w?N.createElement(N.Fragment,null,Y,N.createElement(TT,{page:L})):Y});Tn.displayName="Link";var AT=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:f,children:d,...p},g){let y=fa(u,{relative:p.relative}),b=Pr(),x=N.useContext(Su),{navigator:S,basename:w}=N.useContext(kn),T=x!=null&&UT(y)&&f===!0,O=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,L=b.pathname,U=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(L=L.toLowerCase(),U=U?U.toLowerCase():null,O=O.toLowerCase()),U&&w&&(U=Zn(U,w)||U);const I=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let j=L===O||!s&&L.startsWith(O)&&L.charAt(I)==="/",G=U!=null&&(U===O||!s&&U.startsWith(O)&&U.charAt(O.length)==="/"),J={isActive:j,isPending:G,isTransitioning:T},Y=j?e:void 0,$;typeof r=="function"?$=r(J):$=[r,j?"active":null,G?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let he=typeof a=="function"?a(J):a;return N.createElement(Tn,{...p,"aria-current":Y,className:$,ref:g,style:he,to:u,viewTransition:f},typeof d=="function"?d(J):d)});AT.displayName="NavLink";var NT=N.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=$o,action:f,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,...b},x)=>{let S=jT(),w=_T(f,{relative:p}),T=u.toLowerCase()==="get"?"get":"post",O=typeof f=="string"&&h1.test(f),L=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let I=U.nativeEvent.submitter,j=(I==null?void 0:I.getAttribute("formmethod"))||u;S(I||U.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:y})};return N.createElement("form",{ref:x,method:T,action:w,onSubmit:r?d:L,...b,"data-discover":!O&&n==="render"?"true":void 0})});NT.displayName="Form";function RT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p1(n){let e=N.useContext(Rl);return ze(e,RT(n)),e}function DT(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let f=ca(),d=Pr(),p=fa(n,{relative:a});return N.useCallback(g=>{if(oT(g,e)){g.preventDefault();let y=t!==void 0?t:Xs(d)===Xs(p);f(n,{replace:y,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[d,f,p,t,r,e,n,s,a,u])}function zT(n){fn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=N.useRef(Yd(n)),t=N.useRef(!1),r=Pr(),s=N.useMemo(()=>uT(r.search,t.current?null:e.current),[r.search]),a=ca(),u=N.useCallback((f,d)=>{const p=Yd(typeof f=="function"?f(s):f);t.current=!0,a("?"+p,d)},[a,s]);return[s,u]}var BT=0,LT=()=>`__${String(++BT)}__`;function jT(){let{router:n}=p1("useSubmit"),{basename:e}=N.useContext(kn),t=WE();return N.useCallback(async(r,s={})=>{let{action:a,method:u,encType:f,formData:d,body:p}=dT(r,e);if(s.navigate===!1){let g=s.fetcherKey||LT();await n.fetch(g,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function _T(n,{relative:e}={}){let{basename:t}=N.useContext(kn),r=N.useContext(An);ze(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...fa(n||".",{relative:e})},u=Pr();if(n==null){a.search=u.search;let f=new URLSearchParams(a.search),d=f.getAll("index");if(d.some(g=>g==="")){f.delete("index"),d.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Jn([t,a.pathname])),Xs(a)}function UT(n,e={}){let t=N.useContext(l1);ze(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=p1("useViewTransitionState"),s=fa(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Zn(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Zn(t.nextLocation.pathname,r)||t.nextLocation.pathname;return tu(s.pathname,u)!=null||tu(s.pathname,a)!=null}[...xT];var HT=Wb();const qT=bu(HT),VT=()=>k.jsx(k.Fragment,{children:k.jsxs("div",{className:"homepage prose-lg dark:prose-invert max-w-screen-md mx-auto px-4 py-4",children:[k.jsx("style",{children:".homepage p::first-letter { margin-left: 2rem; } p{text-align: left;}"}),k.jsx("p",{children:'Hello 歡迎光臨~ 很開心你來到這裡！這裡是我寫寫心得、分享近況的地方。 以往我都仰賴Instagram分享有的沒的，但總想要做個"自己的東西"，其實已經想寫個blog想了n年了，礙於自己的堅持 - 不想使用任何模板或綁定自己的資料帳號於某公司，所以拖到現在... 或許這個blog是給自己25歲的禮物！終於決定好好梳理20歲以來的點滴，並且把一直在腦海中計畫的blog建設出來~ 我希望這裡是好朋友、頻率相近的人可以互動交流的地方，所以歡迎在留言區寫下任何想法。可以選擇匿名公開的留言、或是不公開地只傳訊息給我 😊'}),k.jsx("p",{children:"我很喜歡一句話："}),k.jsx("blockquote",{children:"如果每天都有所成長，「年紀」就變得有意義了 ✨"}),k.jsx("p",{children:"期許自己可以把每天都過得滿滿的，用這個blog把我的體驗與感想記錄下來。小提示：可以依照右上角的tags找到相關的文章。分類有點廣義，生活tag的文章中可能會出現食譜；閱讀tag的文章可能會跟影集或電影相關。"}),k.jsxs("div",{className:"text-left [&>p::first-letter]:ml-8",children:[k.jsx("p",{children:"給大家一個簡單的自我介紹："}),k.jsxs("ul",{children:[k.jsx("li",{children:"❀ 我是Tako🐙，不務正業的軟體工程師。曾經認真實習一年並在傳統大公司上班幾個月，期間時常旅遊、實踐work-life balance。目前在法國體驗不一樣的生活、過著退休日子（開玩笑的，但這是夢想）"}),k.jsx("li",{children:"✿ 喜歡只和一個朋友深度地聊天；不喜歡人多、很吵的地方"}),k.jsx("li",{children:"❀ 閒暇時喜歡閱讀、寫字、畫畫、到鄉下走走、聽音樂（認真地聽音樂）、聽podcast、煮飯做甜點，喜歡嘗試新東西、看不一樣的風景"}),k.jsx("li",{children:"✿ 喜歡貓咪和有長耳朵的狗狗"})]})]}),k.jsx("hr",{className:"border-t border-lightText dark:border-darkText"}),k.jsx("p",{children:"這些是近期我喜歡的🤩，還不確定放在哪個tag好，或是未來開個新功能專門分享好聽 / 好看 / 好玩的？ 如果你們正想找個消磨閒暇時間的書、動漫、影集，我推薦下面這些"}),k.jsxs("ul",{className:"text-left",children:[k.jsx("li",{children:"❀ 書籍：哥本哈根三部曲（The Copenhagen Trilogy）、沼澤女孩（Where the Crawdads Sing）"}),k.jsx("li",{children:"✿ 動漫：奧術（Arcane）、海盜戰記（Vinland Saga）、神秘小鎮大冒險（Gravity Falls）"}),k.jsx("li",{children:"❀ 電影：納瓦尼事件簿（Navalny）、日本人的養成（The Making of a Japanese）"}),k.jsx("li",{children:"✿ 影集：初戀（First Love）"})]}),k.jsx("hr",{className:"border-t border-lightText dark:border-darkText"}),k.jsx("p",{children:"原本好想用這個作為blog主要字體，但發現字體漂亮但不太好讀，有點可惜..."}),k.jsx("p",{className:"font-kouzan",children:"漂亮字體推薦收藏 衡山毛筆フォント"})]})});function m1(n,e){return function(){return n.apply(e,arguments)}}const{toString:PT}=Object.prototype,{getPrototypeOf:Nh}=Object,{iterator:vu,toStringTag:g1}=Symbol,wu=(n=>e=>{const t=PT.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),hn=n=>(n=n.toLowerCase(),e=>wu(e)===n),Eu=n=>e=>typeof e===n,{isArray:Dl}=Array,Js=Eu("undefined");function FT(n){return n!==null&&!Js(n)&&n.constructor!==null&&!Js(n.constructor)&&Nt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const y1=hn("ArrayBuffer");function IT(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&y1(n.buffer),e}const YT=Eu("string"),Nt=Eu("function"),b1=Eu("number"),Tu=n=>n!==null&&typeof n=="object",$T=n=>n===!0||n===!1,Ko=n=>{if(wu(n)!=="object")return!1;const e=Nh(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(g1 in n)&&!(vu in n)},GT=hn("Date"),KT=hn("File"),XT=hn("Blob"),JT=hn("FileList"),QT=n=>Tu(n)&&Nt(n.pipe),WT=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Nt(n.append)&&((e=wu(n))==="formdata"||e==="object"&&Nt(n.toString)&&n.toString()==="[object FormData]"))},ZT=hn("URLSearchParams"),[eM,tM,nM,rM]=["ReadableStream","Request","Response","Headers"].map(hn),iM=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function da(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),Dl(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{const a=t?Object.getOwnPropertyNames(n):Object.keys(n),u=a.length;let f;for(r=0;r<u;r++)f=a[r],e.call(null,n[f],f,n)}}function S1(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const hi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,x1=n=>!Js(n)&&n!==hi;function $d(){const{caseless:n}=x1(this)&&this||{},e={},t=(r,s)=>{const a=n&&S1(e,s)||s;Ko(e[a])&&Ko(r)?e[a]=$d(e[a],r):Ko(r)?e[a]=$d({},r):Dl(r)?e[a]=r.slice():e[a]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&da(arguments[r],t);return e}const lM=(n,e,t,{allOwnKeys:r}={})=>(da(e,(s,a)=>{t&&Nt(s)?n[a]=m1(s,t):n[a]=s},{allOwnKeys:r}),n),sM=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),aM=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},oM=(n,e,t,r)=>{let s,a,u;const f={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),a=s.length;a-- >0;)u=s[a],(!r||r(u,n,e))&&!f[u]&&(e[u]=n[u],f[u]=!0);n=t!==!1&&Nh(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},uM=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},cM=n=>{if(!n)return null;if(Dl(n))return n;let e=n.length;if(!b1(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},fM=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Nh(Uint8Array)),dM=(n,e)=>{const r=(n&&n[vu]).call(n);let s;for(;(s=r.next())&&!s.done;){const a=s.value;e.call(n,a[0],a[1])}},hM=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},pM=hn("HTMLFormElement"),mM=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),c0=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),gM=hn("RegExp"),v1=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};da(t,(s,a)=>{let u;(u=e(s,a,n))!==!1&&(r[a]=u||s)}),Object.defineProperties(n,r)},yM=n=>{v1(n,(e,t)=>{if(Nt(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Nt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},bM=(n,e)=>{const t={},r=s=>{s.forEach(a=>{t[a]=!0})};return Dl(n)?r(n):r(String(n).split(e)),t},SM=()=>{},xM=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function vM(n){return!!(n&&Nt(n.append)&&n[g1]==="FormData"&&n[vu])}const wM=n=>{const e=new Array(10),t=(r,s)=>{if(Tu(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const a=Dl(r)?[]:{};return da(r,(u,f)=>{const d=t(u,s+1);!Js(d)&&(a[f]=d)}),e[s]=void 0,a}}return r};return t(n,0)},EM=hn("AsyncFunction"),TM=n=>n&&(Tu(n)||Nt(n))&&Nt(n.then)&&Nt(n.catch),w1=((n,e)=>n?setImmediate:e?((t,r)=>(hi.addEventListener("message",({source:s,data:a})=>{s===hi&&a===t&&r.length&&r.shift()()},!1),s=>{r.push(s),hi.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Nt(hi.postMessage)),MM=typeof queueMicrotask<"u"?queueMicrotask.bind(hi):typeof process<"u"&&process.nextTick||w1,OM=n=>n!=null&&Nt(n[vu]),_={isArray:Dl,isArrayBuffer:y1,isBuffer:FT,isFormData:WT,isArrayBufferView:IT,isString:YT,isNumber:b1,isBoolean:$T,isObject:Tu,isPlainObject:Ko,isReadableStream:eM,isRequest:tM,isResponse:nM,isHeaders:rM,isUndefined:Js,isDate:GT,isFile:KT,isBlob:XT,isRegExp:gM,isFunction:Nt,isStream:QT,isURLSearchParams:ZT,isTypedArray:fM,isFileList:JT,forEach:da,merge:$d,extend:lM,trim:iM,stripBOM:sM,inherits:aM,toFlatObject:oM,kindOf:wu,kindOfTest:hn,endsWith:uM,toArray:cM,forEachEntry:dM,matchAll:hM,isHTMLForm:pM,hasOwnProperty:c0,hasOwnProp:c0,reduceDescriptors:v1,freezeMethods:yM,toObjectSet:bM,toCamelCase:mM,noop:SM,toFiniteNumber:xM,findKey:S1,global:hi,isContextDefined:x1,isSpecCompliantForm:vM,toJSONObject:wM,isAsyncFn:EM,isThenable:TM,setImmediate:w1,asap:MM,isIterable:OM};function se(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}_.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.status}}});const E1=se.prototype,T1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{T1[n]={value:n}});Object.defineProperties(se,T1);Object.defineProperty(E1,"isAxiosError",{value:!0});se.from=(n,e,t,r,s,a)=>{const u=Object.create(E1);return _.toFlatObject(n,u,function(d){return d!==Error.prototype},f=>f!=="isAxiosError"),se.call(u,n.message,e,t,r,s),u.cause=n,u.name=n.name,a&&Object.assign(u,a),u};const CM=null;function Gd(n){return _.isPlainObject(n)||_.isArray(n)}function M1(n){return _.endsWith(n,"[]")?n.slice(0,-2):n}function f0(n,e,t){return n?n.concat(e).map(function(s,a){return s=M1(s),!t&&a?"["+s+"]":s}).join(t?".":""):e}function kM(n){return _.isArray(n)&&!n.some(Gd)}const AM=_.toFlatObject(_,{},null,function(e){return/^is[A-Z]/.test(e)});function Mu(n,e,t){if(!_.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=_.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,T){return!_.isUndefined(T[w])});const r=t.metaTokens,s=t.visitor||g,a=t.dots,u=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(e);if(!_.isFunction(s))throw new TypeError("visitor must be a function");function p(S){if(S===null)return"";if(_.isDate(S))return S.toISOString();if(_.isBoolean(S))return S.toString();if(!d&&_.isBlob(S))throw new se("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(S)||_.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function g(S,w,T){let O=S;if(S&&!T&&typeof S=="object"){if(_.endsWith(w,"{}"))w=r?w:w.slice(0,-2),S=JSON.stringify(S);else if(_.isArray(S)&&kM(S)||(_.isFileList(S)||_.endsWith(w,"[]"))&&(O=_.toArray(S)))return w=M1(w),O.forEach(function(U,I){!(_.isUndefined(U)||U===null)&&e.append(u===!0?f0([w],I,a):u===null?w:w+"[]",p(U))}),!1}return Gd(S)?!0:(e.append(f0(T,w,a),p(S)),!1)}const y=[],b=Object.assign(AM,{defaultVisitor:g,convertValue:p,isVisitable:Gd});function x(S,w){if(!_.isUndefined(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+w.join("."));y.push(S),_.forEach(S,function(O,L){(!(_.isUndefined(O)||O===null)&&s.call(e,O,_.isString(L)?L.trim():L,w,b))===!0&&x(O,w?w.concat(L):[L])}),y.pop()}}if(!_.isObject(n))throw new TypeError("data must be an object");return x(n),e}function d0(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Rh(n,e){this._pairs=[],n&&Mu(n,this,e)}const O1=Rh.prototype;O1.append=function(e,t){this._pairs.push([e,t])};O1.toString=function(e){const t=e?function(r){return e.call(this,r,d0)}:d0;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function NM(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function C1(n,e,t){if(!e)return n;const r=t&&t.encode||NM;_.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let a;if(s?a=s(e,t):a=_.isURLSearchParams(e)?e.toString():new Rh(e,t).toString(r),a){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class h0{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_.forEach(this.handlers,function(r){r!==null&&e(r)})}}const k1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},RM=typeof URLSearchParams<"u"?URLSearchParams:Rh,DM=typeof FormData<"u"?FormData:null,zM=typeof Blob<"u"?Blob:null,BM={isBrowser:!0,classes:{URLSearchParams:RM,FormData:DM,Blob:zM},protocols:["http","https","file","blob","url","data"]},Dh=typeof window<"u"&&typeof document<"u",Kd=typeof navigator=="object"&&navigator||void 0,LM=Dh&&(!Kd||["ReactNative","NativeScript","NS"].indexOf(Kd.product)<0),jM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_M=Dh&&window.location.href||"http://localhost",UM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Dh,hasStandardBrowserEnv:LM,hasStandardBrowserWebWorkerEnv:jM,navigator:Kd,origin:_M},Symbol.toStringTag,{value:"Module"})),ft={...UM,...BM};function HM(n,e){return Mu(n,new ft.classes.URLSearchParams,Object.assign({visitor:function(t,r,s,a){return ft.isNode&&_.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function qM(n){return _.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function VM(n){const e={},t=Object.keys(n);let r;const s=t.length;let a;for(r=0;r<s;r++)a=t[r],e[a]=n[a];return e}function A1(n){function e(t,r,s,a){let u=t[a++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),d=a>=t.length;return u=!u&&_.isArray(s)?s.length:u,d?(_.hasOwnProp(s,u)?s[u]=[s[u],r]:s[u]=r,!f):((!s[u]||!_.isObject(s[u]))&&(s[u]=[]),e(t,r,s[u],a)&&_.isArray(s[u])&&(s[u]=VM(s[u])),!f)}if(_.isFormData(n)&&_.isFunction(n.entries)){const t={};return _.forEachEntry(n,(r,s)=>{e(qM(r),s,t,0)}),t}return null}function PM(n,e,t){if(_.isString(n))try{return(e||JSON.parse)(n),_.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const ha={transitional:k1,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,a=_.isObject(e);if(a&&_.isHTMLForm(e)&&(e=new FormData(e)),_.isFormData(e))return s?JSON.stringify(A1(e)):e;if(_.isArrayBuffer(e)||_.isBuffer(e)||_.isStream(e)||_.isFile(e)||_.isBlob(e)||_.isReadableStream(e))return e;if(_.isArrayBufferView(e))return e.buffer;if(_.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return HM(e,this.formSerializer).toString();if((f=_.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Mu(f?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||s?(t.setContentType("application/json",!1),PM(e)):e}],transformResponse:[function(e){const t=this.transitional||ha.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(_.isResponse(e)||_.isReadableStream(e))return e;if(e&&_.isString(e)&&(r&&!this.responseType||s)){const u=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(f){if(u)throw f.name==="SyntaxError"?se.from(f,se.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ft.classes.FormData,Blob:ft.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],n=>{ha.headers[n]={}});const FM=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),IM=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(u){s=u.indexOf(":"),t=u.substring(0,s).trim().toLowerCase(),r=u.substring(s+1).trim(),!(!t||e[t]&&FM[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},p0=Symbol("internals");function Us(n){return n&&String(n).trim().toLowerCase()}function Xo(n){return n===!1||n==null?n:_.isArray(n)?n.map(Xo):String(n)}function YM(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const $M=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function fd(n,e,t,r,s){if(_.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!_.isString(e)){if(_.isString(r))return e.indexOf(r)!==-1;if(_.isRegExp(r))return r.test(e)}}function GM(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function KM(n,e){const t=_.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,a,u){return this[r].call(this,e,s,a,u)},configurable:!0})})}let Rt=class{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function a(f,d,p){const g=Us(d);if(!g)throw new Error("header name must be a non-empty string");const y=_.findKey(s,g);(!y||s[y]===void 0||p===!0||p===void 0&&s[y]!==!1)&&(s[y||d]=Xo(f))}const u=(f,d)=>_.forEach(f,(p,g)=>a(p,g,d));if(_.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(_.isString(e)&&(e=e.trim())&&!$M(e))u(IM(e),t);else if(_.isObject(e)&&_.isIterable(e)){let f={},d,p;for(const g of e){if(!_.isArray(g))throw TypeError("Object iterator must return a key-value pair");f[p=g[0]]=(d=f[p])?_.isArray(d)?[...d,g[1]]:[d,g[1]]:g[1]}u(f,t)}else e!=null&&a(t,e,r);return this}get(e,t){if(e=Us(e),e){const r=_.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return YM(s);if(_.isFunction(t))return t.call(this,s,r);if(_.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Us(e),e){const r=_.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||fd(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function a(u){if(u=Us(u),u){const f=_.findKey(r,u);f&&(!t||fd(r,r[f],f,t))&&(delete r[f],s=!0)}}return _.isArray(e)?e.forEach(a):a(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const a=t[r];(!e||fd(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const t=this,r={};return _.forEach(this,(s,a)=>{const u=_.findKey(r,a);if(u){t[u]=Xo(s),delete t[a];return}const f=e?GM(a):String(a).trim();f!==a&&delete t[a],t[f]=Xo(s),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return _.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&_.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[p0]=this[p0]={accessors:{}}).accessors,s=this.prototype;function a(u){const f=Us(u);r[f]||(KM(s,u),r[f]=!0)}return _.isArray(e)?e.forEach(a):a(e),this}};Rt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(Rt.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});_.freezeMethods(Rt);function dd(n,e){const t=this||ha,r=e||t,s=Rt.from(r.headers);let a=r.data;return _.forEach(n,function(f){a=f.call(t,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function N1(n){return!!(n&&n.__CANCEL__)}function zl(n,e,t){se.call(this,n??"canceled",se.ERR_CANCELED,e,t),this.name="CanceledError"}_.inherits(zl,se,{__CANCEL__:!0});function R1(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new se("Request failed with status code "+t.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function XM(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function JM(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,a=0,u;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),g=r[a];u||(u=p),t[s]=d,r[s]=p;let y=a,b=0;for(;y!==s;)b+=t[y++],y=y%n;if(s=(s+1)%n,s===a&&(a=(a+1)%n),p-u<e)return;const x=g&&p-g;return x?Math.round(b*1e3/x):void 0}}function QM(n,e){let t=0,r=1e3/e,s,a;const u=(p,g=Date.now())=>{t=g,s=null,a&&(clearTimeout(a),a=null),n.apply(null,p)};return[(...p)=>{const g=Date.now(),y=g-t;y>=r?u(p,g):(s=p,a||(a=setTimeout(()=>{a=null,u(s)},r-y)))},()=>s&&u(s)]}const nu=(n,e,t=3)=>{let r=0;const s=JM(50,250);return QM(a=>{const u=a.loaded,f=a.lengthComputable?a.total:void 0,d=u-r,p=s(d),g=u<=f;r=u;const y={loaded:u,total:f,progress:f?u/f:void 0,bytes:d,rate:p||void 0,estimated:p&&f&&g?(f-u)/p:void 0,event:a,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(y)},t)},m0=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},g0=n=>(...e)=>_.asap(()=>n(...e)),WM=ft.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ft.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ft.origin),ft.navigator&&/(msie|trident)/i.test(ft.navigator.userAgent)):()=>!0,ZM=ft.hasStandardBrowserEnv?{write(n,e,t,r,s,a){const u=[n+"="+encodeURIComponent(e)];_.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),_.isString(r)&&u.push("path="+r),_.isString(s)&&u.push("domain="+s),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function eO(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function tO(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function D1(n,e,t){let r=!eO(e);return n&&(r||t==!1)?tO(n,e):e}const y0=n=>n instanceof Rt?{...n}:n;function Ei(n,e){e=e||{};const t={};function r(p,g,y,b){return _.isPlainObject(p)&&_.isPlainObject(g)?_.merge.call({caseless:b},p,g):_.isPlainObject(g)?_.merge({},g):_.isArray(g)?g.slice():g}function s(p,g,y,b){if(_.isUndefined(g)){if(!_.isUndefined(p))return r(void 0,p,y,b)}else return r(p,g,y,b)}function a(p,g){if(!_.isUndefined(g))return r(void 0,g)}function u(p,g){if(_.isUndefined(g)){if(!_.isUndefined(p))return r(void 0,p)}else return r(void 0,g)}function f(p,g,y){if(y in e)return r(p,g);if(y in n)return r(void 0,p)}const d={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(p,g,y)=>s(y0(p),y0(g),y,!0)};return _.forEach(Object.keys(Object.assign({},n,e)),function(g){const y=d[g]||s,b=y(n[g],e[g],g);_.isUndefined(b)&&y!==f||(t[g]=b)}),t}const z1=n=>{const e=Ei({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:u,auth:f}=e;e.headers=u=Rt.from(u),e.url=C1(D1(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let d;if(_.isFormData(t)){if(ft.hasStandardBrowserEnv||ft.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[p,...g]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];u.setContentType([p||"multipart/form-data",...g].join("; "))}}if(ft.hasStandardBrowserEnv&&(r&&_.isFunction(r)&&(r=r(e)),r||r!==!1&&WM(e.url))){const p=s&&a&&ZM.read(a);p&&u.set(s,p)}return e},nO=typeof XMLHttpRequest<"u",rO=nO&&function(n){return new Promise(function(t,r){const s=z1(n);let a=s.data;const u=Rt.from(s.headers).normalize();let{responseType:f,onUploadProgress:d,onDownloadProgress:p}=s,g,y,b,x,S;function w(){x&&x(),S&&S(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let T=new XMLHttpRequest;T.open(s.method.toUpperCase(),s.url,!0),T.timeout=s.timeout;function O(){if(!T)return;const U=Rt.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),j={data:!f||f==="text"||f==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:U,config:n,request:T};R1(function(J){t(J),w()},function(J){r(J),w()},j),T=null}"onloadend"in T?T.onloadend=O:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(O)},T.onabort=function(){T&&(r(new se("Request aborted",se.ECONNABORTED,n,T)),T=null)},T.onerror=function(){r(new se("Network Error",se.ERR_NETWORK,n,T)),T=null},T.ontimeout=function(){let I=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||k1;s.timeoutErrorMessage&&(I=s.timeoutErrorMessage),r(new se(I,j.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,n,T)),T=null},a===void 0&&u.setContentType(null),"setRequestHeader"in T&&_.forEach(u.toJSON(),function(I,j){T.setRequestHeader(j,I)}),_.isUndefined(s.withCredentials)||(T.withCredentials=!!s.withCredentials),f&&f!=="json"&&(T.responseType=s.responseType),p&&([b,S]=nu(p,!0),T.addEventListener("progress",b)),d&&T.upload&&([y,x]=nu(d),T.upload.addEventListener("progress",y),T.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(g=U=>{T&&(r(!U||U.type?new zl(null,n,T):U),T.abort(),T=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const L=XM(s.url);if(L&&ft.protocols.indexOf(L)===-1){r(new se("Unsupported protocol "+L+":",se.ERR_BAD_REQUEST,n));return}T.send(a||null)})},iO=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const a=function(p){if(!s){s=!0,f();const g=p instanceof Error?p:this.reason;r.abort(g instanceof se?g:new zl(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,a(new se(`timeout ${e} of ms exceeded`,se.ETIMEDOUT))},e);const f=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),n=null)};n.forEach(p=>p.addEventListener("abort",a));const{signal:d}=r;return d.unsubscribe=()=>_.asap(f),d}},lO=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},sO=async function*(n,e){for await(const t of aO(n))yield*lO(t,e)},aO=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},b0=(n,e,t,r)=>{const s=sO(n,e);let a=0,u,f=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:p,value:g}=await s.next();if(p){f(),d.close();return}let y=g.byteLength;if(t){let b=a+=y;t(b)}d.enqueue(new Uint8Array(g))}catch(p){throw f(p),p}},cancel(d){return f(d),s.return()}},{highWaterMark:2})},Ou=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",B1=Ou&&typeof ReadableStream=="function",oO=Ou&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),L1=(n,...e)=>{try{return!!n(...e)}catch{return!1}},uO=B1&&L1(()=>{let n=!1;const e=new Request(ft.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),S0=64*1024,Xd=B1&&L1(()=>_.isReadableStream(new Response("").body)),ru={stream:Xd&&(n=>n.body)};Ou&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ru[e]&&(ru[e]=_.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new se(`Response type '${e}' is not supported`,se.ERR_NOT_SUPPORT,r)})})})(new Response);const cO=async n=>{if(n==null)return 0;if(_.isBlob(n))return n.size;if(_.isSpecCompliantForm(n))return(await new Request(ft.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(_.isArrayBufferView(n)||_.isArrayBuffer(n))return n.byteLength;if(_.isURLSearchParams(n)&&(n=n+""),_.isString(n))return(await oO(n)).byteLength},fO=async(n,e)=>{const t=_.toFiniteNumber(n.getContentLength());return t??cO(e)},dO=Ou&&(async n=>{let{url:e,method:t,data:r,signal:s,cancelToken:a,timeout:u,onDownloadProgress:f,onUploadProgress:d,responseType:p,headers:g,withCredentials:y="same-origin",fetchOptions:b}=z1(n);p=p?(p+"").toLowerCase():"text";let x=iO([s,a&&a.toAbortSignal()],u),S;const w=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let T;try{if(d&&uO&&t!=="get"&&t!=="head"&&(T=await fO(g,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),G;if(_.isFormData(r)&&(G=j.headers.get("content-type"))&&g.setContentType(G),j.body){const[J,Y]=m0(T,nu(g0(d)));r=b0(j.body,S0,J,Y)}}_.isString(y)||(y=y?"include":"omit");const O="credentials"in Request.prototype;S=new Request(e,{...b,signal:x,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:O?y:void 0});let L=await fetch(S,b);const U=Xd&&(p==="stream"||p==="response");if(Xd&&(f||U&&w)){const j={};["status","statusText","headers"].forEach($=>{j[$]=L[$]});const G=_.toFiniteNumber(L.headers.get("content-length")),[J,Y]=f&&m0(G,nu(g0(f),!0))||[];L=new Response(b0(L.body,S0,J,()=>{Y&&Y(),w&&w()}),j)}p=p||"text";let I=await ru[_.findKey(ru,p)||"text"](L,n);return!U&&w&&w(),await new Promise((j,G)=>{R1(j,G,{data:I,headers:Rt.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:S})})}catch(O){throw w&&w(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,n,S),{cause:O.cause||O}):se.from(O,O&&O.code,n,S)}}),Jd={http:CM,xhr:rO,fetch:dO};_.forEach(Jd,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const x0=n=>`- ${n}`,hO=n=>_.isFunction(n)||n===null||n===!1,j1={getAdapter:n=>{n=_.isArray(n)?n:[n];const{length:e}=n;let t,r;const s={};for(let a=0;a<e;a++){t=n[a];let u;if(r=t,!hO(t)&&(r=Jd[(u=String(t)).toLowerCase()],r===void 0))throw new se(`Unknown adapter '${u}'`);if(r)break;s[u||"#"+a]=r}if(!r){const a=Object.entries(s).map(([f,d])=>`adapter ${f} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?a.length>1?`since :
`+a.map(x0).join(`
`):" "+x0(a[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:Jd};function hd(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new zl(null,n)}function v0(n){return hd(n),n.headers=Rt.from(n.headers),n.data=dd.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),j1.getAdapter(n.adapter||ha.adapter)(n).then(function(r){return hd(n),r.data=dd.call(n,n.transformResponse,r),r.headers=Rt.from(r.headers),r},function(r){return N1(r)||(hd(n),r&&r.response&&(r.response.data=dd.call(n,n.transformResponse,r.response),r.response.headers=Rt.from(r.response.headers))),Promise.reject(r)})}const _1="1.10.0",Cu={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Cu[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const w0={};Cu.transitional=function(e,t,r){function s(a,u){return"[Axios v"+_1+"] Transitional option '"+a+"'"+u+(r?". "+r:"")}return(a,u,f)=>{if(e===!1)throw new se(s(u," has been removed"+(t?" in "+t:"")),se.ERR_DEPRECATED);return t&&!w0[u]&&(w0[u]=!0,console.warn(s(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,u,f):!0}};Cu.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function pO(n,e,t){if(typeof n!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const a=r[s],u=e[a];if(u){const f=n[a],d=f===void 0||u(f,a,n);if(d!==!0)throw new se("option "+a+" must be "+d,se.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new se("Unknown option "+a,se.ERR_BAD_OPTION)}}const Jo={assertOptions:pO,validators:Cu},wn=Jo.validators;let yi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new h0,response:new h0}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ei(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:a}=t;r!==void 0&&Jo.assertOptions(r,{silentJSONParsing:wn.transitional(wn.boolean),forcedJSONParsing:wn.transitional(wn.boolean),clarifyTimeoutError:wn.transitional(wn.boolean)},!1),s!=null&&(_.isFunction(s)?t.paramsSerializer={serialize:s}:Jo.assertOptions(s,{encode:wn.function,serialize:wn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Jo.assertOptions(t,{baseUrl:wn.spelling("baseURL"),withXsrfToken:wn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=a&&_.merge(a.common,a[t.method]);a&&_.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),t.headers=Rt.concat(u,a);const f=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(d=d&&w.synchronous,f.unshift(w.fulfilled,w.rejected))});const p=[];this.interceptors.response.forEach(function(w){p.push(w.fulfilled,w.rejected)});let g,y=0,b;if(!d){const S=[v0.bind(this),void 0];for(S.unshift.apply(S,f),S.push.apply(S,p),b=S.length,g=Promise.resolve(t);y<b;)g=g.then(S[y++],S[y++]);return g}b=f.length;let x=t;for(y=0;y<b;){const S=f[y++],w=f[y++];try{x=S(x)}catch(T){w.call(this,T);break}}try{g=v0.call(this,x)}catch(S){return Promise.reject(S)}for(y=0,b=p.length;y<b;)g=g.then(p[y++],p[y++]);return g}getUri(e){e=Ei(this.defaults,e);const t=D1(e.baseURL,e.url,e.allowAbsoluteUrls);return C1(t,e.params,e.paramsSerializer)}};_.forEach(["delete","get","head","options"],function(e){yi.prototype[e]=function(t,r){return this.request(Ei(r||{},{method:e,url:t,data:(r||{}).data}))}});_.forEach(["post","put","patch"],function(e){function t(r){return function(a,u,f){return this.request(Ei(f||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}yi.prototype[e]=t(),yi.prototype[e+"Form"]=t(!0)});let mO=class U1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const u=new Promise(f=>{r.subscribe(f),a=f}).then(s);return u.cancel=function(){r.unsubscribe(a)},u},e(function(a,u,f){r.reason||(r.reason=new zl(a,u,f),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new U1(function(s){e=s}),cancel:e}}};function gO(n){return function(t){return n.apply(null,t)}}function yO(n){return _.isObject(n)&&n.isAxiosError===!0}const Qd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qd).forEach(([n,e])=>{Qd[e]=n});function H1(n){const e=new yi(n),t=m1(yi.prototype.request,e);return _.extend(t,yi.prototype,e,{allOwnKeys:!0}),_.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return H1(Ei(n,s))},t}const He=H1(ha);He.Axios=yi;He.CanceledError=zl;He.CancelToken=mO;He.isCancel=N1;He.VERSION=_1;He.toFormData=Mu;He.AxiosError=se;He.Cancel=He.CanceledError;He.all=function(e){return Promise.all(e)};He.spread=gO;He.isAxiosError=yO;He.mergeConfig=Ei;He.AxiosHeaders=Rt;He.formToJSON=n=>A1(_.isHTMLForm(n)?new FormData(n):n);He.getAdapter=j1.getAdapter;He.HttpStatusCode=Qd;He.default=He;const{Axios:Sz,AxiosError:xz,CanceledError:vz,isCancel:wz,CancelToken:Ez,VERSION:Tz,all:Mz,Cancel:Oz,isAxiosError:Cz,spread:kz,toFormData:Az,AxiosHeaders:Nz,HttpStatusCode:Rz,formToJSON:Dz,getAdapter:zz,mergeConfig:Bz}=He,dt=He.create({baseURL:"/api",withCredentials:!0}),bO=()=>{const[n]=zT(),e=ca(),t=n.get("tag")||"",[r,s]=N.useState([]);N.useEffect(()=>{(async()=>{const f=await dt.get("/posts",{params:t?{tag:t}:{}});s(f.data)})()},[t]);const a=u=>{const f=u==="all"?"":u;e(`/posts${f?`?tag=${f}`:""}`)};return k.jsxs("div",{className:"m-8",children:[k.jsx("div",{className:"flex gap-4 m-4",children:["all","travel","inkTrail","life"].map(u=>{const f=u==="all"?"":u;return k.jsxs("button",{onClick:()=>a(u),className:`px-3 py-1 rounded-full ${t===f?"bg-lightFooter text-white dark:bg-darkButton dark:text-darkBg":"bg-gray-200 dark:text-darkBg"}`,children:["#",u]},u)})}),k.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:!r||r.length===0?k.jsx("p",{className:"pt-10",children:"敬請期待 (๑´ㅂ`๑)"}):r.map(u=>k.jsxs("div",{className:"group bg-lightFooter/80 dark:bg-lightBg/80 flex flex-col items-center shadow-md rounded p-4 m-4 transition duration-300 hover:shadow-xl hover:scale-105",children:[k.jsx("div",{className:"w-full max-w-[300px] aspect-[4/3]  overflow-hidden rounded shadow-lg",children:k.jsx("img",{src:u.images[0],className:"w-full h-full object-cover object-center"})}),k.jsx(Tn,{to:`/posts/${u._id}`,className:"mt-2 text-xl text-lightAccent dark:text-lightText text-center group-hover:text-lightText",children:u.title})]},u._id))})]})},SO=()=>{const[n,e]=N.useState(!1),[t,r]=N.useState(()=>localStorage.getItem("theme")==="dark"),[s,a]=N.useState(!0),u=N.useRef(0);return N.useEffect(()=>{const f=window.document.documentElement;t?(f.classList.add("dark"),localStorage.setItem("theme","dark")):(f.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]),N.useEffect(()=>{const f=document.getElementById("root");if(!f)return;const d=()=>{const p=f.scrollTop;p<=50?a(!0):p>u.current?a(!1):p<u.current&&a(!0),u.current=p};return f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)},[s]),k.jsxs("div",{className:`fixed top-0 navbar-full w-full h-16 md:h-20 px-8 flex items-center justify-between font-bold bg-darkBg/80 text-lightAccent dark:bg-darkText/80 dark:text-darkBg shadow-md transform transition-transform duration-300 ${s?"translate-y-0":"-translate-y-full"}`,children:[k.jsx("div",{className:"flex justify-center items-center text-xl",children:k.jsxs(Tn,{to:"/",onClick:f=>{f.stopPropagation()},className:"flex items-center gap-3",children:[k.jsx("img",{className:"w-10 h-10 object-contain",src:"../../logo.png",alt:""}),k.jsx("span",{children:"Tako's note"})]})}),k.jsxs("div",{className:"md:hidden flex items-center gap-4 text-xl",children:[k.jsx("button",{className:"text-sm px-3 py-1 rounded-md bg-white text-black dark:bg-darkText dark:text-black border border-gray-300 dark:border-white",onClick:()=>r(f=>!f),children:t?"☀️":"🌙"}),k.jsx("div",{className:"cursor-pointer",onClick:()=>e(f=>!f),children:n?"X":"☰"})]}),n&&k.jsx("div",{className:"md:hidden fixed top-16 left-0 right-0 bottom-0 text-xl transition-opacity duration-300",onClick:()=>e(!1),children:k.jsxs("div",{className:"flex flex-col w-screen h-screen items-center justify-center space-y-8 bg-opacity-95 bg-lightAccent dark:bg-darkBg text-lightText dark:text-darkText transform transition-transform duration-300",children:[k.jsx(Tn,{to:"/posts?tag=travel",onClick:f=>{f.stopPropagation(),e(!1)},children:"旅行"}),k.jsx(Tn,{to:"/posts?tag=inkTrail",onClick:f=>{f.stopPropagation(),e(!1)},children:"閱讀"}),k.jsx(Tn,{to:"/posts?tag=life",onClick:f=>{f.stopPropagation(),e(!1)},children:"生活"})]})}),k.jsxs("div",{className:"hidden md:flex items-center gap-8 xl:gap12 font-medium",children:[k.jsx(Tn,{to:"/posts?tag=travel",onClick:f=>{f.stopPropagation(),e(!1)},children:"旅行"}),k.jsx(Tn,{to:"/posts?tag=inkTrail",onClick:f=>{f.stopPropagation(),e(!1)},children:"閱讀"}),k.jsx(Tn,{to:"/posts?tag=life",onClick:f=>{f.stopPropagation(),e(!1)},children:"生活"}),k.jsx("button",{onClick:()=>r(f=>!f),className:"text-sm px-3 py-1 rounded-md bg-white text-black dark:bg-darkText dark:text-black border border-gray-300 dark:border-white",children:t?"☀️":"🌙"})]})]})};var pd={exports:{}},md,E0;function xO(){if(E0)return md;E0=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return md=n,md}var gd,T0;function vO(){if(T0)return gd;T0=1;var n=xO();function e(){}function t(){}return t.resetWarningCache=e,gd=function(){function r(u,f,d,p,g,y){if(y!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},gd}var M0;function wO(){return M0||(M0=1,pd.exports=vO()()),pd.exports}var EO=wO();const At=bu(EO);var TO=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function Wd(){return Wd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wd.apply(this,arguments)}function MO(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function _o(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function OO(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Zd(n,e)}function Zd(n,e){return Zd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Zd(n,e)}var ku=function(n){OO(e,n);function e(){var r;return r=n.call(this)||this,r.handleExpired=r.handleExpired.bind(_o(r)),r.handleErrored=r.handleErrored.bind(_o(r)),r.handleChange=r.handleChange.bind(_o(r)),r.handleRecaptchaRef=r.handleRecaptchaRef.bind(_o(r)),r}var t=e.prototype;return t.getCaptchaFunction=function(s){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[s]:this.props.grecaptcha[s]:null},t.getValue=function(){var s=this.getCaptchaFunction("getResponse");return s&&this._widgetId!==void 0?s(this._widgetId):null},t.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},t.execute=function(){var s=this.getCaptchaFunction("execute");if(s&&this._widgetId!==void 0)return s(this._widgetId);this._executeRequested=!0},t.executeAsync=function(){var s=this;return new Promise(function(a,u){s.executionResolve=a,s.executionReject=u,s.execute()})},t.reset=function(){var s=this.getCaptchaFunction("reset");s&&this._widgetId!==void 0&&s(this._widgetId)},t.forceReset=function(){var s=this.getCaptchaFunction("reset");s&&s()},t.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},t.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},t.handleChange=function(s){this.props.onChange&&this.props.onChange(s),this.executionResolve&&(this.executionResolve(s),delete this.executionReject,delete this.executionResolve)},t.explicitRender=function(){var s=this.getCaptchaFunction("render");if(s&&this._widgetId===void 0){var a=document.createElement("div");this._widgetId=s(a,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(a)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},t.componentDidMount=function(){this.explicitRender()},t.componentDidUpdate=function(){this.explicitRender()},t.handleRecaptchaRef=function(s){this.captcha=s},t.render=function(){var s=this.props;s.sitekey,s.onChange,s.theme,s.type,s.tabindex,s.onExpired,s.onErrored,s.size,s.stoken,s.grecaptcha,s.badge,s.hl,s.isolated;var a=MO(s,TO);return N.createElement("div",Wd({},a,{ref:this.handleRecaptchaRef}))},e}(N.Component);ku.displayName="ReCAPTCHA";ku.propTypes={sitekey:At.string.isRequired,onChange:At.func,grecaptcha:At.object,theme:At.oneOf(["dark","light"]),type:At.oneOf(["image","audio"]),tabindex:At.number,onExpired:At.func,onErrored:At.func,size:At.oneOf(["compact","normal","invisible"]),stoken:At.string,hl:At.string,badge:At.oneOf(["bottomright","bottomleft","inline"]),isolated:At.bool};ku.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var yd={exports:{}},ye={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function CO(){if(O0)return ye;O0=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,f=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,g=n?Symbol.for("react.forward_ref"):60112,y=n?Symbol.for("react.suspense"):60113,b=n?Symbol.for("react.suspense_list"):60120,x=n?Symbol.for("react.memo"):60115,S=n?Symbol.for("react.lazy"):60116,w=n?Symbol.for("react.block"):60121,T=n?Symbol.for("react.fundamental"):60117,O=n?Symbol.for("react.responder"):60118,L=n?Symbol.for("react.scope"):60119;function U(j){if(typeof j=="object"&&j!==null){var G=j.$$typeof;switch(G){case e:switch(j=j.type,j){case d:case p:case r:case a:case s:case y:return j;default:switch(j=j&&j.$$typeof,j){case f:case g:case S:case x:case u:return j;default:return G}}case t:return G}}}function I(j){return U(j)===p}return ye.AsyncMode=d,ye.ConcurrentMode=p,ye.ContextConsumer=f,ye.ContextProvider=u,ye.Element=e,ye.ForwardRef=g,ye.Fragment=r,ye.Lazy=S,ye.Memo=x,ye.Portal=t,ye.Profiler=a,ye.StrictMode=s,ye.Suspense=y,ye.isAsyncMode=function(j){return I(j)||U(j)===d},ye.isConcurrentMode=I,ye.isContextConsumer=function(j){return U(j)===f},ye.isContextProvider=function(j){return U(j)===u},ye.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},ye.isForwardRef=function(j){return U(j)===g},ye.isFragment=function(j){return U(j)===r},ye.isLazy=function(j){return U(j)===S},ye.isMemo=function(j){return U(j)===x},ye.isPortal=function(j){return U(j)===t},ye.isProfiler=function(j){return U(j)===a},ye.isStrictMode=function(j){return U(j)===s},ye.isSuspense=function(j){return U(j)===y},ye.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===r||j===p||j===a||j===s||j===y||j===b||typeof j=="object"&&j!==null&&(j.$$typeof===S||j.$$typeof===x||j.$$typeof===u||j.$$typeof===f||j.$$typeof===g||j.$$typeof===T||j.$$typeof===O||j.$$typeof===L||j.$$typeof===w)},ye.typeOf=U,ye}var C0;function kO(){return C0||(C0=1,yd.exports=CO()),yd.exports}var bd,k0;function AO(){if(k0)return bd;k0=1;var n=kO(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=r,a[n.Memo]=s;function u(S){return n.isMemo(S)?s:a[S.$$typeof]||e}var f=Object.defineProperty,d=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,b=Object.prototype;function x(S,w,T){if(typeof w!="string"){if(b){var O=y(w);O&&O!==b&&x(S,O,T)}var L=d(w);p&&(L=L.concat(p(w)));for(var U=u(S),I=u(w),j=0;j<L.length;++j){var G=L[j];if(!t[G]&&!(T&&T[G])&&!(I&&I[G])&&!(U&&U[G])){var J=g(w,G);try{f(S,G,J)}catch{}}}}return S}return bd=x,bd}var NO=AO();const RO=bu(NO);function eh(){return eh=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},eh.apply(this,arguments)}function DO(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function zO(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var un={},BO=0;function LO(n,e){return e=e||{},function(r){var s=r.displayName||r.name||"Component",a=function(f){zO(d,f);function d(g,y){var b;return b=f.call(this,g,y)||this,b.state={},b.__scriptURL="",b}var p=d.prototype;return p.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+BO++),this.__scriptLoaderID},p.setupScriptURL=function(){return this.__scriptURL=typeof n=="function"?n():n,this.__scriptURL},p.asyncScriptLoaderHandleLoad=function(y){var b=this;this.setState(y,function(){return b.props.asyncScriptOnLoad&&b.props.asyncScriptOnLoad(b.state)})},p.asyncScriptLoaderTriggerOnScriptLoaded=function(){var y=un[this.__scriptURL];if(!y||!y.loaded)throw new Error("Script is not loaded.");for(var b in y.observers)y.observers[b](y);delete window[e.callbackName]},p.componentDidMount=function(){var y=this,b=this.setupScriptURL(),x=this.asyncScriptLoaderGetScriptLoaderID(),S=e,w=S.globalName,T=S.callbackName,O=S.scriptId;if(w&&typeof window[w]<"u"&&(un[b]={loaded:!0,observers:{}}),un[b]){var L=un[b];if(L&&(L.loaded||L.errored)){this.asyncScriptLoaderHandleLoad(L);return}L.observers[x]=function(J){return y.asyncScriptLoaderHandleLoad(J)};return}var U={};U[x]=function(J){return y.asyncScriptLoaderHandleLoad(J)},un[b]={loaded:!1,observers:U};var I=document.createElement("script");I.src=b,I.async=!0;for(var j in e.attributes)I.setAttribute(j,e.attributes[j]);O&&(I.id=O);var G=function(Y){if(un[b]){var $=un[b],he=$.observers;for(var Et in he)Y(he[Et])&&delete he[Et]}};T&&typeof window<"u"&&(window[T]=function(){return y.asyncScriptLoaderTriggerOnScriptLoaded()}),I.onload=function(){var J=un[b];J&&(J.loaded=!0,G(function(Y){return T?!1:(Y(J),!0)}))},I.onerror=function(){var J=un[b];J&&(J.errored=!0,G(function(Y){return Y(J),!0}))},document.body.appendChild(I)},p.componentWillUnmount=function(){var y=this.__scriptURL;if(e.removeOnUnmount===!0)for(var b=document.getElementsByTagName("script"),x=0;x<b.length;x+=1)b[x].src.indexOf(y)>-1&&b[x].parentNode&&b[x].parentNode.removeChild(b[x]);var S=un[y];S&&(delete S.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete un[y])},p.render=function(){var y=e.globalName,b=this.props;b.asyncScriptOnLoad;var x=b.forwardedRef,S=DO(b,["asyncScriptOnLoad","forwardedRef"]);return y&&typeof window<"u"&&(S[y]=typeof window[y]<"u"?window[y]:void 0),S.ref=x,N.createElement(r,S)},d}(N.Component),u=N.forwardRef(function(f,d){return N.createElement(a,eh({},f,{forwardedRef:d}))});return u.displayName="AsyncScriptLoader("+s+")",u.propTypes={asyncScriptOnLoad:At.func},RO(u,r)}}var th="onloadcallback",jO="grecaptcha";function nh(){return typeof window<"u"&&window.recaptchaOptions||{}}function _O(){var n=nh(),e=n.useRecaptchaNet?"recaptcha.net":"www.google.com";return n.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+th+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+th+"&render=explicit"}const UO=LO(_O,{callbackName:th,globalName:jO,attributes:nh().nonce?{nonce:nh().nonce}:{}})(ku),HO="6Lfhqm4rAAAAAM0ssL0luQRiXPbwctavi4CHsWgq",qO=({postId:n})=>{const[e,t]=N.useState([]),[r,s]=N.useState(""),[a,u]=N.useState("🐱"),[f,d]=N.useState(""),[p,g]=N.useState(!0),[y,b]=N.useState(!1),[x,S]=N.useState(!1),[w,T]=N.useState(!1),[O,L]=N.useState(null),U=500,I=U-f.length,j=20;N.useEffect(()=>{dt.get(`/comments/approvedComments/${n}`).then($=>{Array.isArray($.data)?t($.data):console.warn("Unexpected response format")}).catch(()=>console.error("Fail to read comments"))},[n]);const G=$=>{$.target.value.length<=j?(s($.target.value),S(!1)):S(!0)},J=$=>{$.target.value.length<=U?(d($.target.value),T(!1)):T(!0)},Y=async $=>{if($.preventDefault(),!O){alert("請完成驗證");return}r.trim()||alert("名字要填~"),f.trim()||alert("留言呢~");try{await dt.post("/comments",{name:r,avatar:a,content:f,isPublic:p,post:n,recaptchaToken:O}),alert("留言送出~ 等待審核"),s(""),d(""),g(!0),b(!1),L(null)}catch(he){alert("留言失敗 😥"),console.log(he)}};return k.jsx(k.Fragment,{children:k.jsxs("div",{className:"w-full flex flex-col md:flex-row gap-6 p-6",children:[k.jsx("div",{className:"md:w-2/3 w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 order-2 md:order-1",children:e.length>0?e.filter($=>$.isPublic).map($=>k.jsxs("div",{className:"bg-lightFooter/80 dark:bg-lightBg/80 text-lightAccent dark:text-lightText rounded-lg p-4 shadow text-sm break-words",children:[k.jsxs("div",{className:"flex flex-row items-center gap-4",children:[k.jsx("div",{className:"text-xl mb-1",children:$.avatar}),k.jsx("p",{className:"font-semibold",children:$.name})]}),k.jsx("p",{className:"text-left",children:$.content})]},$.id)):k.jsx("p",{className:"text-gray-500",children:"當第一個留言的人吧 (๑´ㅁ`)"})}),k.jsxs("form",{onSubmit:Y,className:"w-full md:w-1/3 space-y-4 order-1 md:order-2",children:[k.jsx("h2",{className:"text-lg font-bold",children:"留個言吧 ✏️"}),k.jsx("p",{className:"font-light text-sm",children:"留言都會由後台審閱後再公開，也可以選擇不公開 (๑• . •๑)"}),y&&k.jsx("input",{value:r,onChange:G,placeholder:"你的名字 / 暱稱...",className:"w-full border p-2 rounded bg-darkBg/80 dark:bg-darkText text-lightAccent dark:text-lightText",required:!0}),k.jsx("textarea",{name:"comment",value:f,onChange:J,onFocus:()=>b(!0),placeholder:"寫下你的留言...",className:"w-full border p-2 rounded bg-darkBg/80 dark:bg-darkText text-lightAccent dark:text-lightText",required:!0}),k.jsxs("div",{className:"text-sm text-gray-500",children:[I," / ",U]}),y&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"flex flex-wrap gap-3 items-center",children:["😊","🤩","😜","🥰","😭","🤓","😎","🐱","🐶","🦊","🐯","🦁","🦈","🐙","🪼","🐬","🐠","🐰","🐿️","🦔","🐥","🦆","🐢","🦦"].map($=>k.jsx("button",{type:"button",className:`text-2xl ${a===$?"ring-2 ring-lightFooter/80 dark:ring-lightBg/80 rounded-xl":""}`,onClick:()=>u($),children:$},$))}),k.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[k.jsx("input",{type:"checkbox",checked:p,onChange:$=>g($.target.checked),className:"accent-lightFooter dark:accent-lightBg"}),"跟大家分享這個留言"]}),k.jsx("div",{className:"scale-60",children:k.jsx(UO,{sitekey:HO,onChange:$=>L($),theme:"dark"})}),x&&k.jsx("div",{className:"text-red-600 font-semibold mb-2",children:"你的名字太長了"}),w&&k.jsx("div",{className:"text-red-600 font-semibold mb-2",children:"你打太多字了，可以寫新的一則留言喔~"}),k.jsx("button",{type:"submit",className:"bg-lightFooter/80 dark:bg-lightBg/80 text-lightAccent dark:text-lightText px-4 py-2 rounded",children:"送出留言"})]})]})]})})},VO=({className:n="",children:e})=>k.jsx("div",{className:`w-full px-4 box-border flex flex-col md:flex-row bg-darkBg text-lightFooter dark:bg-darkText dark:text-darkBg ${n}`,children:e}),q1=6048e5,PO=864e5,A0=Symbol.for("constructDateFrom");function qr(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&A0 in n?n[A0](e):n instanceof Date?new n.constructor(e):new Date(e)}function pn(n,e){return qr(e||n,n)}let FO={};function Au(){return FO}function Qs(n,e){var f,d,p,g;const t=Au(),r=(e==null?void 0:e.weekStartsOn)??((d=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((g=(p=t.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,s=pn(n,e==null?void 0:e.in),a=s.getDay(),u=(a<r?7:0)+a-r;return s.setDate(s.getDate()-u),s.setHours(0,0,0,0),s}function iu(n,e){return Qs(n,{...e,weekStartsOn:1})}function V1(n,e){const t=pn(n,e==null?void 0:e.in),r=t.getFullYear(),s=qr(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=iu(s),u=qr(t,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const f=iu(u);return t.getTime()>=a.getTime()?r+1:t.getTime()>=f.getTime()?r:r-1}function N0(n){const e=pn(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function IO(n,...e){const t=qr.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function R0(n,e){const t=pn(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function YO(n,e,t){const[r,s]=IO(t==null?void 0:t.in,n,e),a=R0(r),u=R0(s),f=+a-N0(a),d=+u-N0(u);return Math.round((f-d)/PO)}function $O(n,e){const t=V1(n,e),r=qr(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),iu(r)}function GO(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function KO(n){return!(!GO(n)&&typeof n!="number"||isNaN(+pn(n)))}function XO(n,e){const t=pn(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const JO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},QO=(n,e,t)=>{let r;const s=JO[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Sd(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const WO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tC={date:Sd({formats:WO,defaultWidth:"full"}),time:Sd({formats:ZO,defaultWidth:"full"}),dateTime:Sd({formats:eC,defaultWidth:"full"})},nC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rC=(n,e,t,r)=>nC[n];function Hs(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,f=t!=null&&t.width?String(t.width):u;s=n.formattingValues[f]||n.formattingValues[u]}else{const u=n.defaultWidth,f=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[f]||n.values[u]}const a=n.argumentCallback?n.argumentCallback(e):e;return s[a]}}const iC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cC=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},fC={ordinalNumber:cC,era:Hs({values:iC,defaultWidth:"wide"}),quarter:Hs({values:lC,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Hs({values:sC,defaultWidth:"wide"}),day:Hs({values:aC,defaultWidth:"wide"}),dayPeriod:Hs({values:oC,defaultWidth:"wide",formattingValues:uC,defaultFormattingWidth:"wide"})};function qs(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(s);if(!a)return null;const u=a[0],f=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(f)?hC(f,y=>y.test(u)):dC(f,y=>y.test(u));let p;p=n.valueCallback?n.valueCallback(d):d,p=t.valueCallback?t.valueCallback(p):p;const g=e.slice(u.length);return{value:p,rest:g}}}function dC(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function hC(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function pC(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],a=e.match(n.parsePattern);if(!a)return null;let u=n.valueCallback?n.valueCallback(a[0]):a[0];u=t.valueCallback?t.valueCallback(u):u;const f=e.slice(s.length);return{value:u,rest:f}}}const mC=/^(\d+)(th|st|nd|rd)?/i,gC=/\d+/i,yC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bC={any:[/^b/i,/^(a|c)/i]},SC={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xC={any:[/1/i,/2/i,/3/i,/4/i]},vC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EC={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},TC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},MC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},OC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},CC={ordinalNumber:pC({matchPattern:mC,parsePattern:gC,valueCallback:n=>parseInt(n,10)}),era:qs({matchPatterns:yC,defaultMatchWidth:"wide",parsePatterns:bC,defaultParseWidth:"any"}),quarter:qs({matchPatterns:SC,defaultMatchWidth:"wide",parsePatterns:xC,defaultParseWidth:"any",valueCallback:n=>n+1}),month:qs({matchPatterns:vC,defaultMatchWidth:"wide",parsePatterns:wC,defaultParseWidth:"any"}),day:qs({matchPatterns:EC,defaultMatchWidth:"wide",parsePatterns:TC,defaultParseWidth:"any"}),dayPeriod:qs({matchPatterns:MC,defaultMatchWidth:"any",parsePatterns:OC,defaultParseWidth:"any"})},kC={code:"en-US",formatDistance:QO,formatLong:tC,formatRelative:rC,localize:fC,match:CC,options:{weekStartsOn:0,firstWeekContainsDate:1}};function AC(n,e){const t=pn(n,e==null?void 0:e.in);return YO(t,XO(t))+1}function NC(n,e){const t=pn(n,e==null?void 0:e.in),r=+iu(t)-+$O(t);return Math.round(r/q1)+1}function P1(n,e){var g,y,b,x;const t=pn(n,e==null?void 0:e.in),r=t.getFullYear(),s=Au(),a=(e==null?void 0:e.firstWeekContainsDate)??((y=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(b=s.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??1,u=qr((e==null?void 0:e.in)||n,0);u.setFullYear(r+1,0,a),u.setHours(0,0,0,0);const f=Qs(u,e),d=qr((e==null?void 0:e.in)||n,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const p=Qs(d,e);return+t>=+f?r+1:+t>=+p?r:r-1}function RC(n,e){var f,d,p,g;const t=Au(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((g=(p=t.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,s=P1(n,e),a=qr((e==null?void 0:e.in)||n,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Qs(a,e)}function DC(n,e){const t=pn(n,e==null?void 0:e.in),r=+Qs(t,e)-+RC(t,e);return Math.round(r/q1)+1}function xe(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Or={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return xe(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):xe(t+1,2)},d(n,e){return xe(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return xe(n.getHours()%12||12,e.length)},H(n,e){return xe(n.getHours(),e.length)},m(n,e){return xe(n.getMinutes(),e.length)},s(n,e){return xe(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return xe(s,e.length)}},ml={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},D0={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return Or.y(n,e)},Y:function(n,e,t,r){const s=P1(n,r),a=s>0?s:1-s;if(e==="YY"){const u=a%100;return xe(u,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):xe(a,e.length)},R:function(n,e){const t=V1(n);return xe(t,e.length)},u:function(n,e){const t=n.getFullYear();return xe(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return xe(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return xe(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Or.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return xe(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=DC(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):xe(s,e.length)},I:function(n,e,t){const r=NC(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):xe(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Or.d(n,e)},D:function(n,e,t){const r=AC(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):xe(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return xe(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return xe(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return xe(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=ml.noon:r===0?s=ml.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=ml.evening:r>=12?s=ml.afternoon:r>=4?s=ml.morning:s=ml.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Or.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Or.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):xe(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):xe(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Or.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Or.s(n,e)},S:function(n,e){return Or.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return B0(r);case"XXXX":case"XX":return ci(r);case"XXXXX":case"XXX":default:return ci(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return B0(r);case"xxxx":case"xx":return ci(r);case"xxxxx":case"xxx":default:return ci(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+z0(r,":");case"OOOO":default:return"GMT"+ci(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+z0(r,":");case"zzzz":default:return"GMT"+ci(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return xe(r,e.length)},T:function(n,e,t){return xe(+n,e.length)}};function z0(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),a=r%60;return a===0?t+String(s):t+String(s)+e+xe(a,2)}function B0(n,e){return n%60===0?(n>0?"-":"+")+xe(Math.abs(n)/60,2):ci(n,e)}function ci(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=xe(Math.trunc(r/60),2),a=xe(r%60,2);return t+s+e+a}const L0=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},F1=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},zC=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return L0(n,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",L0(r,e)).replace("{{time}}",F1(s,e))},BC={p:F1,P:zC},LC=/^D+$/,jC=/^Y+$/,_C=["D","DD","YY","YYYY"];function UC(n){return LC.test(n)}function HC(n){return jC.test(n)}function qC(n,e,t){const r=VC(n,e,t);if(console.warn(r),_C.includes(n))throw new RangeError(r)}function VC(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const PC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,IC=/^'([^]*?)'?$/,YC=/''/g,$C=/[a-zA-Z]/;function GC(n,e,t){var g,y,b,x;const r=Au(),s=r.locale??kC,a=r.firstWeekContainsDate??((y=(g=r.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,u=r.weekStartsOn??((x=(b=r.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,f=pn(n,t==null?void 0:t.in);if(!KO(f))throw new RangeError("Invalid time value");let d=e.match(FC).map(S=>{const w=S[0];if(w==="p"||w==="P"){const T=BC[w];return T(S,s.formatLong)}return S}).join("").match(PC).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const w=S[0];if(w==="'")return{isToken:!1,value:KC(S)};if(D0[w])return{isToken:!0,value:S};if(w.match($C))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:S}});s.localize.preprocessor&&(d=s.localize.preprocessor(f,d));const p={firstWeekContainsDate:a,weekStartsOn:u,locale:s};return d.map(S=>{if(!S.isToken)return S.value;const w=S.value;(HC(w)||UC(w))&&qC(w,e,String(n));const T=D0[w[0]];return T(f,w,s.localize,p)}).join("")}function KC(n){const e=n.match(IC);return e?e[1].replace(YC,"'"):n}const XC=()=>{const{id:n}=PE(),[e,t]=N.useState(null),[r,s]=N.useState(0),a=N.useRef(0),u=N.useRef(null);N.useEffect(()=>{dt.get(`/posts/${n}`).then(y=>t(y.data))},[n]);const f=(e==null?void 0:e.images)||[],d=(r-1+f.length)%f.length,p=(r+1)%f.length,g=y=>{y==="next"?s(b=>(b+1)%f.length):y==="prev"&&s(b=>(b-1+f.length)%f.length)};return N.useEffect(()=>{const y=u.current;if(!y)return;const b=x=>{x.preventDefault();const S=Date.now();S-a.current<200||(a.current=S,x.deltaY>10?g("next"):x.deltaY<10&&g("prev"))};return y.addEventListener("wheel",b,{passive:!1}),()=>{y.removeEventListener("wheel",b)}},[f.length]),!e||f.length===0?k.jsx("div",{children:"Loading..."}):k.jsxs("div",{className:"",children:[k.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[k.jsxs("div",{ref:u,className:"w-full md:w-1/3 h-[25vh] md:h-screen md:sticky md:top-0 flex flex-row md:flex-col items-center md:justify-center gap-4 overflow-x-auto md:overflow-visible snap-x snap-mandatory px-4 py-4 md:px-0 scrollbar-hide touch-auto",children:[f.length>1?k.jsx("img",{src:f[d],alt:"prevImg",className:"w-1/4 md:w-3/5 max-w-[300px] opacity-40 cursor-pointer hover:opacity-60 transition snap-start flex-shrink-0 object-contain",onClick:()=>g("prev")}):k.jsx("div",{className:"w-1/4 md:w-3/5 max-w-[300px]"}),k.jsx("img",{src:f[r],alt:"currentImg",className:"w-1/2 md:w-4/5 max-w-[400px] rounded shadow-lg snap-center flex-shrink-0 object-contain"}),f.length>1?k.jsx("img",{src:f[p],alt:"nextImg",className:"w-1/4 md:w-3/5 max-w-[300px] opacity-40 cursor-pointer hover:opacity-60 transition snap-end flex-shrink-0 object-contain",onClick:()=>g("next")}):k.jsx("div",{className:"w-1/4 md:w-3/5 max-w-[300px]"})]}),k.jsxs("div",{className:"md:w-2/3 prose-left prose-lg dark:prose-invert max-w-screen-md mx-auto m-8 pt-2 md:pt-20",children:[k.jsx("h1",{className:"text-2xl font-bold",children:e.title}),k.jsx("h2",{className:"text-base",children:GC(new Date(e.createAt),"yyyy / MM / dd")}),k.jsx("div",{className:"m-8",dangerouslySetInnerHTML:{__html:e.content}})]})]}),k.jsx(qO,{postId:e._id})]})};function it(n){this.content=n}it.prototype={constructor:it,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,s=r.find(n),a=r.content.slice();return s==-1?a.push(t||n,e):(a[s+1]=e,t&&(a[s]=t)),new it(a)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new it(t)},addToStart:function(n,e){return new it([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new it(t)},addBefore:function(n,e,t){var r=this.remove(e),s=r.content.slice(),a=r.find(n);return s.splice(a==-1?s.length:a,0,e,t),new it(s)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=it.from(n),n.size?new it(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=it.from(n),n.size?new it(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=it.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};it.from=function(n){if(n instanceof it)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new it(e)};function I1(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let s=n.child(r),a=e.child(r);if(s==a){t+=s.nodeSize;continue}if(!s.sameMarkup(a))return t;if(s.isText&&s.text!=a.text){for(let u=0;s.text[u]==a.text[u];u++)t++;return t}if(s.content.size||a.content.size){let u=I1(s.content,a.content,t+1);if(u!=null)return u}t+=s.nodeSize}}function Y1(n,e,t,r){for(let s=n.childCount,a=e.childCount;;){if(s==0||a==0)return s==a?null:{a:t,b:r};let u=n.child(--s),f=e.child(--a),d=u.nodeSize;if(u==f){t-=d,r-=d;continue}if(!u.sameMarkup(f))return{a:t,b:r};if(u.isText&&u.text!=f.text){let p=0,g=Math.min(u.text.length,f.text.length);for(;p<g&&u.text[u.text.length-p-1]==f.text[f.text.length-p-1];)p++,t--,r--;return{a:t,b:r}}if(u.content.size||f.content.size){let p=Y1(u.content,f.content,t-1,r-1);if(p)return p}t-=d,r-=d}}class F{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,s=0,a){for(let u=0,f=0;f<t;u++){let d=this.content[u],p=f+d.nodeSize;if(p>e&&r(d,s+f,a||null,u)!==!1&&d.content.size){let g=f+1;d.nodesBetween(Math.max(0,e-g),Math.min(d.content.size,t-g),r,s+g)}f=p}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,s){let a="",u=!0;return this.nodesBetween(e,t,(f,d)=>{let p=f.isText?f.text.slice(Math.max(e,d)-d,t-d):f.isLeaf?s?typeof s=="function"?s(f):s:f.type.spec.leafText?f.type.spec.leafText(f):"":"";f.isBlock&&(f.isLeaf&&p||f.isTextblock)&&r&&(u?u=!1:a+=r),a+=p},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,s=this.content.slice(),a=0;for(t.isText&&t.sameMarkup(r)&&(s[s.length-1]=t.withText(t.text+r.text),a=1);a<e.content.length;a++)s.push(e.content[a]);return new F(s,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],s=0;if(t>e)for(let a=0,u=0;u<t;a++){let f=this.content[a],d=u+f.nodeSize;d>e&&((u<e||d>t)&&(f.isText?f=f.cut(Math.max(0,e-u),Math.min(f.text.length,t-u)):f=f.cut(Math.max(0,e-u-1),Math.min(f.content.size,t-u-1))),r.push(f),s+=f.nodeSize),u=d}return new F(r,s)}cutByIndex(e,t){return e==t?F.empty:e==0&&t==this.content.length?this:new F(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let s=this.content.slice(),a=this.size+t.nodeSize-r.nodeSize;return s[e]=t,new F(s,a)}addToStart(e){return new F([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new F(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let s=this.content[t];e(s,r,t),r+=s.nodeSize}}findDiffStart(e,t=0){return I1(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return Y1(this,e,t,r)}findIndex(e,t=-1){if(e==0)return Uo(0,e);if(e==this.size)return Uo(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let a=this.child(r),u=s+a.nodeSize;if(u>=e)return u==e||t>0?Uo(r+1,u):Uo(r,s);s=u}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return F.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new F(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return F.empty;let t,r=0;for(let s=0;s<e.length;s++){let a=e[s];r+=a.nodeSize,s&&a.isText&&e[s-1].sameMarkup(a)?(t||(t=e.slice(0,s)),t[t.length-1]=a.withText(t[t.length-1].text+a.text)):t&&t.push(a)}return new F(t||e,r)}static from(e){if(!e)return F.empty;if(e instanceof F)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new F([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}F.empty=new F([],0);const xd={index:0,offset:0};function Uo(n,e){return xd.index=n,xd.offset=e,xd}function lu(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!lu(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!lu(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Oe=class rh{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let s=0;s<e.length;s++){let a=e[s];if(this.eq(a))return e;if(this.type.excludes(a.type))t||(t=e.slice(0,s));else{if(a.type.excludes(this.type))return e;!r&&a.type.rank>this.type.rank&&(t||(t=e.slice(0,s)),t.push(this),r=!0),t&&t.push(a)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&lu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let s=r.create(t.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return rh.none;if(e instanceof rh)return[e];let t=e.slice();return t.sort((r,s)=>r.type.rank-s.type.rank),t}};Oe.none=[];class su extends Error{}class K{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=G1(this.content,e+this.openStart,t);return r&&new K(r,this.openStart,this.openEnd)}removeBetween(e,t){return new K($1(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return K.empty;let r=t.openStart||0,s=t.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new K(F.fromJSON(e,t.content),r,s)}static maxOpen(e,t=!0){let r=0,s=0;for(let a=e.firstChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.firstChild)r++;for(let a=e.lastChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.lastChild)s++;return new K(e,r,s)}}K.empty=new K(F.empty,0,0);function $1(n,e,t){let{index:r,offset:s}=n.findIndex(e),a=n.maybeChild(r),{index:u,offset:f}=n.findIndex(t);if(s==e||a.isText){if(f!=t&&!n.child(u).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=u)throw new RangeError("Removing non-flat range");return n.replaceChild(r,a.copy($1(a.content,e-s-1,t-s-1)))}function G1(n,e,t,r){let{index:s,offset:a}=n.findIndex(e),u=n.maybeChild(s);if(a==e||u.isText)return n.cut(0,e).append(t).append(n.cut(e));let f=G1(u.content,e-a-1,t);return f&&n.replaceChild(s,u.copy(f))}function JC(n,e,t){if(t.openStart>n.depth)throw new su("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new su("Inconsistent open depths");return K1(n,e,t,0)}function K1(n,e,t,r){let s=n.index(r),a=n.node(r);if(s==e.index(r)&&r<n.depth-t.openStart){let u=K1(n,e,t,r+1);return a.copy(a.content.replaceChild(s,u))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let u=n.parent,f=u.content;return Si(u,f.cut(0,n.parentOffset).append(t.content).append(f.cut(e.parentOffset)))}else{let{start:u,end:f}=QC(t,n);return Si(a,J1(n,u,f,e,r))}else return Si(a,au(n,e,r))}function X1(n,e){if(!e.type.compatibleContent(n.type))throw new su("Cannot join "+e.type.name+" onto "+n.type.name)}function ih(n,e,t){let r=n.node(t);return X1(r,e.node(t)),r}function bi(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Ys(n,e,t,r){let s=(e||n).node(t),a=0,u=e?e.index(t):s.childCount;n&&(a=n.index(t),n.depth>t?a++:n.textOffset&&(bi(n.nodeAfter,r),a++));for(let f=a;f<u;f++)bi(s.child(f),r);e&&e.depth==t&&e.textOffset&&bi(e.nodeBefore,r)}function Si(n,e){return n.type.checkContent(e),n.copy(e)}function J1(n,e,t,r,s){let a=n.depth>s&&ih(n,e,s+1),u=r.depth>s&&ih(t,r,s+1),f=[];return Ys(null,n,s,f),a&&u&&e.index(s)==t.index(s)?(X1(a,u),bi(Si(a,J1(n,e,t,r,s+1)),f)):(a&&bi(Si(a,au(n,e,s+1)),f),Ys(e,t,s,f),u&&bi(Si(u,au(t,r,s+1)),f)),Ys(r,null,s,f),new F(f)}function au(n,e,t){let r=[];if(Ys(null,n,t,r),n.depth>t){let s=ih(n,e,t+1);bi(Si(s,au(n,e,t+1)),r)}return Ys(e,null,t,r),new F(r)}function QC(n,e){let t=e.depth-n.openStart,s=e.node(t).copy(n.content);for(let a=t-1;a>=0;a--)s=e.node(a).copy(F.from(s));return{start:s.resolveNoCache(n.openStart+t),end:s.resolveNoCache(s.content.size-n.openEnd-t)}}class Ws{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(t);return r?e.child(t).cut(r):s}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],s=t==0?0:this.path[t*3-1]+1;for(let a=0;a<e;a++)s+=r.child(a).nodeSize;return s}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Oe.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),s=e.maybeChild(t);if(!r){let f=r;r=s,s=f}let a=r.marks;for(var u=0;u<a.length;u++)a[u].type.spec.inclusive===!1&&(!s||!a[u].isInSet(s.marks))&&(a=a[u--].removeFromSet(a));return a}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,s=e.parent.maybeChild(e.index());for(var a=0;a<r.length;a++)r[a].type.spec.inclusive===!1&&(!s||!r[a].isInSet(s.marks))&&(r=r[a--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new ou(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],s=0,a=t;for(let u=e;;){let{index:f,offset:d}=u.content.findIndex(a),p=a-d;if(r.push(u,f,s+d),!p||(u=u.child(f),u.isText))break;a=p-1,s+=d+1}return new Ws(t,r,a)}static resolveCached(e,t){let r=j0.get(e);if(r)for(let a=0;a<r.elts.length;a++){let u=r.elts[a];if(u.pos==t)return u}else j0.set(e,r=new WC);let s=r.elts[r.i]=Ws.resolve(e,t);return r.i=(r.i+1)%ZC,s}}class WC{constructor(){this.elts=[],this.i=0}}const ZC=12,j0=new WeakMap;class ou{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ek=Object.create(null);let Lr=class lh{constructor(e,t,r,s=Oe.none){this.type=e,this.attrs=t,this.marks=s,this.content=r||F.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,s=0){this.content.nodesBetween(e,t,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,s){return this.content.textBetween(e,t,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&lu(this.attrs,t||e.defaultAttrs||ek)&&Oe.sameSet(this.marks,r||Oe.none)}copy(e=null){return e==this.content?this:new lh(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new lh(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return K.empty;let s=this.resolve(e),a=this.resolve(t),u=r?0:s.sharedDepth(t),f=s.start(u),p=s.node(u).content.cut(s.pos-f,a.pos-f);return new K(p,s.depth-u,a.depth-u)}replace(e,t,r){return JC(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:s}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(s==e||t.isText)return t;e-=s+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let s=this.content.child(t-1);return{node:s,index:t-1,offset:r-s.nodeSize}}resolve(e){return Ws.resolveCached(this,e)}resolveNoCache(e){return Ws.resolve(this,e)}rangeHasMark(e,t,r){let s=!1;return t>e&&this.nodesBetween(e,t,a=>(r.isInSet(a.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Q1(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=F.empty,s=0,a=r.childCount){let u=this.contentMatchAt(e).matchFragment(r,s,a),f=u&&u.matchFragment(this.content,t);if(!f||!f.validEnd)return!1;for(let d=s;d<a;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,t,r,s){if(s&&!this.type.allowsMarks(s))return!1;let a=this.contentMatchAt(e).matchType(r),u=a&&a.matchFragment(this.content,t);return u?u.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Oe.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Oe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let s=F.fromJSON(e,t.content),a=e.nodeType(t.type).create(t.attrs,s,r);return a.type.checkAttrs(a.attrs),a}};Lr.prototype.text=void 0;class uu extends Lr{constructor(e,t,r,s){if(super(e,t,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Q1(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new uu(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new uu(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Q1(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Ti{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new tk(e,t);if(r.next==null)return Ti.empty;let s=W1(r);r.next&&r.err("Unexpected trailing text");let a=ok(ak(s));return uk(a,r),a}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let s=this;for(let a=t;s&&a<r;a++)s=s.matchType(e.child(a).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let s=[this];function a(u,f){let d=u.matchFragment(e,r);if(d&&(!t||d.validEnd))return F.from(f.map(p=>p.createAndFill()));for(let p=0;p<u.next.length;p++){let{type:g,next:y}=u.next[p];if(!(g.isText||g.hasRequiredAttrs())&&s.indexOf(y)==-1){s.push(y);let b=a(y,f.concat(g));if(b)return b}}return null}return a(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),a=s.match;if(a.matchType(e)){let u=[];for(let f=s;f.type;f=f.via)u.push(f.type);return u.reverse()}for(let u=0;u<a.next.length;u++){let{type:f,next:d}=a.next[u];!f.isLeaf&&!f.hasRequiredAttrs()&&!(f.name in t)&&(!s.type||d.validEnd)&&(r.push({match:f.contentMatch,type:f,via:s}),t[f.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&t(r.next[s].next)}return t(this),e.map((r,s)=>{let a=s+(r.validEnd?"*":" ")+" ";for(let u=0;u<r.next.length;u++)a+=(u?", ":"")+r.next[u].type.name+"->"+e.indexOf(r.next[u].next);return a}).join(`
`)}}Ti.empty=new Ti(!0);class tk{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function W1(n){let e=[];do e.push(nk(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function nk(n){let e=[];do e.push(rk(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function rk(n){let e=sk(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=ik(n,e);else break;return e}function _0(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function ik(n,e){let t=_0(n),r=t;return n.eat(",")&&(n.next!="}"?r=_0(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function lk(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let s=[];for(let a in t){let u=t[a];u.isInGroup(e)&&s.push(u)}return s.length==0&&n.err("No node type or group '"+e+"' found"),s}function sk(n){if(n.eat("(")){let e=W1(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=lk(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function ak(n){let e=[[]];return s(a(n,0),t()),e;function t(){return e.push([])-1}function r(u,f,d){let p={term:d,to:f};return e[u].push(p),p}function s(u,f){u.forEach(d=>d.to=f)}function a(u,f){if(u.type=="choice")return u.exprs.reduce((d,p)=>d.concat(a(p,f)),[]);if(u.type=="seq")for(let d=0;;d++){let p=a(u.exprs[d],f);if(d==u.exprs.length-1)return p;s(p,f=t())}else if(u.type=="star"){let d=t();return r(f,d),s(a(u.expr,d),d),[r(d)]}else if(u.type=="plus"){let d=t();return s(a(u.expr,f),d),s(a(u.expr,d),d),[r(d)]}else{if(u.type=="opt")return[r(f)].concat(a(u.expr,f));if(u.type=="range"){let d=f;for(let p=0;p<u.min;p++){let g=t();s(a(u.expr,d),g),d=g}if(u.max==-1)s(a(u.expr,d),d);else for(let p=u.min;p<u.max;p++){let g=t();r(d,g),s(a(u.expr,d),g),d=g}return[r(d)]}else{if(u.type=="name")return[r(f,void 0,u.value)];throw new Error("Unknown expr type")}}}}function Z1(n,e){return e-n}function U0(n,e){let t=[];return r(e),t.sort(Z1);function r(s){let a=n[s];if(a.length==1&&!a[0].term)return r(a[0].to);t.push(s);for(let u=0;u<a.length;u++){let{term:f,to:d}=a[u];!f&&t.indexOf(d)==-1&&r(d)}}}function ok(n){let e=Object.create(null);return t(U0(n,0));function t(r){let s=[];r.forEach(u=>{n[u].forEach(({term:f,to:d})=>{if(!f)return;let p;for(let g=0;g<s.length;g++)s[g][0]==f&&(p=s[g][1]);U0(n,d).forEach(g=>{p||s.push([f,p=[]]),p.indexOf(g)==-1&&p.push(g)})})});let a=e[r.join(",")]=new Ti(r.indexOf(n.length-1)>-1);for(let u=0;u<s.length;u++){let f=s[u][1].sort(Z1);a.next.push({type:s[u][0],next:e[f.join(",")]||t(f)})}return a}}function uk(n,e){for(let t=0,r=[n];t<r.length;t++){let s=r[t],a=!s.validEnd,u=[];for(let f=0;f<s.next.length;f++){let{type:d,next:p}=s.next[f];u.push(d.name),a&&!(d.isText||d.hasRequiredAttrs())&&(a=!1),r.indexOf(p)==-1&&r.push(p)}a&&e.err("Only non-generatable nodes ("+u.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function eS(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function tS(n,e){let t=Object.create(null);for(let r in n){let s=e&&e[r];if(s===void 0){let a=n[r];if(a.hasDefault)s=a.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=s}return t}function nS(n,e,t,r){for(let s in e)if(!(s in n))throw new RangeError(`Unsupported attribute ${s} for ${t} of type ${s}`);for(let s in n){let a=n[s];a.validate&&a.validate(e[s])}}function rS(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new fk(n,r,e[r]);return t}let H0=class iS{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=rS(e,r.attrs),this.defaultAttrs=eS(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ti.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:tS(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Lr(this,this.computeAttrs(e),F.from(t),Oe.setFrom(r))}createChecked(e=null,t,r){return t=F.from(t),this.checkContent(t),new Lr(this,this.computeAttrs(e),t,Oe.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=F.from(t),t.size){let u=this.contentMatch.fillBefore(t);if(!u)return null;t=u.append(t)}let s=this.contentMatch.matchFragment(t),a=s&&s.fillBefore(F.empty,!0);return a?new Lr(this,e,t.append(a),Oe.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){nS(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Oe.none:e}static compile(e,t){let r=Object.create(null);e.forEach((a,u)=>r[a]=new iS(a,t,u));let s=t.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let a in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function ck(n,e,t){let r=t.split("|");return s=>{let a=s===null?"null":typeof s;if(r.indexOf(a)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${a}`)}}class fk{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?ck(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Nu{constructor(e,t,r,s){this.name=e,this.rank=t,this.schema=r,this.spec=s,this.attrs=rS(e,s.attrs),this.excluded=null;let a=eS(this.attrs);this.instance=a?new Oe(this,a):null}create(e=null){return!e&&this.instance?this.instance:new Oe(this,tS(this.attrs,e))}static compile(e,t){let r=Object.create(null),s=0;return e.forEach((a,u)=>r[a]=new Nu(a,s++,t,u)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){nS(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class lS{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let s in e)t[s]=e[s];t.nodes=it.from(e.nodes),t.marks=it.from(e.marks||{}),this.nodes=H0.compile(this.spec.nodes,this),this.marks=Nu.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let a=this.nodes[s],u=a.spec.content||"",f=a.spec.marks;if(a.contentMatch=r[u]||(r[u]=Ti.parse(u,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=f=="_"?null:f?q0(this,f.split(" ")):f==""||!a.inlineContent?[]:null}for(let s in this.marks){let a=this.marks[s],u=a.spec.excludes;a.excluded=u==null?[a]:u==""?[]:q0(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof H0){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,s)}text(e,t){let r=this.nodes.text;return new uu(r,r.defaultAttrs,e,Oe.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Lr.fromJSON(this,e)}markFromJSON(e){return Oe.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function q0(n,e){let t=[];for(let r=0;r<e.length;r++){let s=e[r],a=n.marks[s],u=a;if(a)t.push(a);else for(let f in n.marks){let d=n.marks[f];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&t.push(u=d)}if(!u)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function dk(n){return n.tag!=null}function hk(n){return n.style!=null}class jr{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(s=>{if(dk(s))this.tags.push(s);else if(hk(s)){let a=/[^=]*/.exec(s.style)[0];r.indexOf(a)<0&&r.push(a),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let a=e.nodes[s.node];return a.contentMatch.matchType(a)})}parse(e,t={}){let r=new P0(this,t,!1);return r.addAll(e,Oe.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new P0(this,t,!0);return r.addAll(e,Oe.none,t.from,t.to),K.maxOpen(r.finish())}matchTag(e,t,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let a=this.tags[s];if(gk(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||t.matchesContext(a.context))){if(a.getAttrs){let u=a.getAttrs(e);if(u===!1)continue;a.attrs=u||void 0}return a}}}matchStyle(e,t,r,s){for(let a=s?this.styles.indexOf(s)+1:0;a<this.styles.length;a++){let u=this.styles[a],f=u.style;if(!(f.indexOf(e)!=0||u.context&&!r.matchesContext(u.context)||f.length>e.length&&(f.charCodeAt(e.length)!=61||f.slice(e.length+1)!=t))){if(u.getAttrs){let d=u.getAttrs(t);if(d===!1)continue;u.attrs=d||void 0}return u}}}static schemaRules(e){let t=[];function r(s){let a=s.priority==null?50:s.priority,u=0;for(;u<t.length;u++){let f=t[u];if((f.priority==null?50:f.priority)<a)break}t.splice(u,0,s)}for(let s in e.marks){let a=e.marks[s].spec.parseDOM;a&&a.forEach(u=>{r(u=F0(u)),u.mark||u.ignore||u.clearMark||(u.mark=s)})}for(let s in e.nodes){let a=e.nodes[s].spec.parseDOM;a&&a.forEach(u=>{r(u=F0(u)),u.node||u.ignore||u.mark||(u.node=s)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new jr(e,jr.schemaRules(e)))}}const sS={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},pk={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},aS={ol:!0,ul:!0},Zs=1,sh=2,$s=4;function V0(n,e,t){return e!=null?(e?Zs:0)|(e==="full"?sh:0):n&&n.whitespace=="pre"?Zs|sh:t&~$s}class Ho{constructor(e,t,r,s,a,u){this.type=e,this.attrs=t,this.marks=r,this.solid=s,this.options=u,this.content=[],this.activeMarks=Oe.none,this.match=a||(u&$s?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(F.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Zs)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let a=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-s[0].length))}}let t=F.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(F.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!sS.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class P0{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=t.topNode,a,u=V0(null,t.preserveWhitespace,0)|(r?$s:0);s?a=new Ho(s.type,s.attrs,Oe.none,!0,t.topMatch||s.type.contentMatch,u):r?a=new Ho(null,null,Oe.none,!0,null,u):a=new Ho(e.schema.topNodeType,null,Oe.none,!0,null,u),this.nodes=[a],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,s=this.top,a=s.options&sh?"full":this.localPreserveWS||(s.options&Zs)>0;if(a==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(a)a!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let u=s.content[s.content.length-1],f=e.previousSibling;(!u||f&&f.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let s=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let u=e.nodeName.toLowerCase(),f;aS.hasOwnProperty(u)&&this.parser.normalizeLists&&mk(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(f=this.parser.matchTag(e,this,r));e:if(d?d.ignore:pk.hasOwnProperty(u))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let p,g=this.needsBlock;if(sS.hasOwnProperty(u))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),p=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let y=d&&d.skip?t:this.readStyles(e,t);y&&this.addAll(e,y),p&&this.sync(a),this.needsBlock=g}else{let p=this.readStyles(e,t);p&&this.addElementByRule(e,d,p,d.consuming===!1?f:void 0)}this.localPreserveWS=s}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let a=this.parser.matchedStyles[s],u=r.getPropertyValue(a);if(u)for(let f=void 0;;){let d=this.parser.matchStyle(a,u,this,f);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(p=>!d.clearMark(p)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)f=d;else break}}return t}addElementByRule(e,t,r,s){let a,u;if(t.node)if(u=this.parser.schema.nodes[t.node],u.isLeaf)this.insertNode(u.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(u,t.attrs||null,r,t.preserveWhitespace);d&&(a=!0,r=d)}else{let d=this.parser.schema.marks[t.mark];r=r.concat(d.create(t.attrs))}let f=this.top;if(u&&u.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}a&&this.sync(f)&&this.open--}addAll(e,t,r,s){let a=r||0;for(let u=r?e.childNodes[r]:e.firstChild,f=s==null?null:e.childNodes[s];u!=f;u=u.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(u,t);this.findAtPoint(e,a)}findPlace(e,t,r){let s,a;for(let u=this.open,f=0;u>=0;u--){let d=this.nodes[u],p=d.findWrapping(e);if(p&&(!s||s.length>p.length+f)&&(s=p,a=d,!p.length))break;if(d.solid){if(r)break;f+=2}}if(!s)return null;this.sync(a);for(let u=0;u<s.length;u++)t=this.enterInner(s[u],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(t=this.enterInner(a,null,t))}let s=this.findPlace(e,t,r);if(s){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let u=Oe.none;for(let f of s.concat(e.marks))(a.type?a.type.allowsMarkType(f.type):I0(f.type,e.type))&&(u=f.addToSet(u));return a.content.push(e.mark(u)),!0}return!1}enter(e,t,r,s){let a=this.findPlace(e.create(t),r,!1);return a&&(a=this.enterInner(e,t,r,!0,s)),a}enterInner(e,t,r,s=!1,a){this.closeExtra();let u=this.top;u.match=u.match&&u.match.matchType(e);let f=V0(e,a,u.options);u.options&$s&&u.content.length==0&&(f|=$s);let d=Oe.none;return r=r.filter(p=>(u.type?u.type.allowsMarkType(p.type):I0(p.type,e))?(d=p.addToSet(d),!1):!0),this.nodes.push(new Ho(e,t,d,s,null,f)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Zs)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&t.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),a=-(r?r.depth+1:0)+(s?0:1),u=(f,d)=>{for(;f>=0;f--){let p=t[f];if(p==""){if(f==t.length-1||f==0)continue;for(;d>=a;d--)if(u(f-1,d))return!0;return!1}else{let g=d>0||d==0&&s?this.nodes[d].type:r&&d>=a?r.node(d-a).type:null;if(!g||g.name!=p&&!g.isInGroup(p))return!1;d--}}return!0};return u(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function mk(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&aS.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function gk(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function F0(n){let e={};for(let t in n)e[t]=n[t];return e}function I0(n,e){let t=e.schema.nodes;for(let r in t){let s=t[r];if(!s.allowsMarkType(n))continue;let a=[],u=f=>{a.push(f);for(let d=0;d<f.edgeCount;d++){let{type:p,next:g}=f.edge(d);if(p==e||a.indexOf(g)<0&&u(g))return!0}};if(u(s.contentMatch))return!0}}class ki{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=vd(t).createDocumentFragment());let s=r,a=[];return e.forEach(u=>{if(a.length||u.marks.length){let f=0,d=0;for(;f<a.length&&d<u.marks.length;){let p=u.marks[d];if(!this.marks[p.type.name]){d++;continue}if(!p.eq(a[f][0])||p.type.spec.spanning===!1)break;f++,d++}for(;f<a.length;)s=a.pop()[1];for(;d<u.marks.length;){let p=u.marks[d++],g=this.serializeMark(p,u.isInline,t);g&&(a.push([p,s]),s.appendChild(g.dom),s=g.contentDOM||g.dom)}}s.appendChild(this.serializeNodeInner(u,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:s}=Qo(vd(t),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,s)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let s=e.marks.length-1;s>=0;s--){let a=this.serializeMark(e.marks[s],e.isInline,t);a&&((a.contentDOM||a.dom).appendChild(r),r=a.dom)}return r}serializeMark(e,t,r={}){let s=this.marks[e.type.name];return s&&Qo(vd(r),s(e,t),null,e.attrs)}static renderSpec(e,t,r=null,s){return Qo(e,t,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ki(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Y0(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return Y0(e.marks)}}function Y0(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function vd(n){return n.document||window.document}const $0=new WeakMap;function yk(n){let e=$0.get(n);return e===void 0&&$0.set(n,e=bk(n)),e}function bk(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)t(r[s]);else for(let s in r)t(r[s])}return t(n),e}function Qo(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],a;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(a=yk(r))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let u=s.indexOf(" ");u>0&&(t=s.slice(0,u),s=s.slice(u+1));let f,d=t?n.createElementNS(t,s):n.createElement(s),p=e[1],g=1;if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){g=2;for(let y in p)if(p[y]!=null){let b=y.indexOf(" ");b>0?d.setAttributeNS(y.slice(0,b),y.slice(b+1),p[y]):d.setAttribute(y,p[y])}}for(let y=g;y<e.length;y++){let b=e[y];if(b===0){if(y<e.length-1||y>g)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:x,contentDOM:S}=Qo(n,b,t,r);if(d.appendChild(x),S){if(f)throw new RangeError("Multiple content holes");f=S}}}return{dom:d,contentDOM:f}}const oS=65535,uS=Math.pow(2,16);function Sk(n,e){return n+e*uS}function G0(n){return n&oS}function xk(n){return(n-(n&oS))/uS}const cS=1,fS=2,Wo=4,dS=8;class ah{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&dS)>0}get deletedBefore(){return(this.delInfo&(cS|Wo))>0}get deletedAfter(){return(this.delInfo&(fS|Wo))>0}get deletedAcross(){return(this.delInfo&Wo)>0}}class Ft{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Ft.empty)return Ft.empty}recover(e){let t=0,r=G0(e);if(!this.inverted)for(let s=0;s<r;s++)t+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+t+xk(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let s=0,a=this.inverted?2:1,u=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let d=this.ranges[f]-(this.inverted?s:0);if(d>e)break;let p=this.ranges[f+a],g=this.ranges[f+u],y=d+p;if(e<=y){let b=p?e==d?-1:e==y?1:t:t,x=d+s+(b<0?0:g);if(r)return x;let S=e==(t<0?d:y)?null:Sk(f/3,e-d),w=e==d?fS:e==y?cS:Wo;return(t<0?e!=d:e!=y)&&(w|=dS),new ah(x,w,S)}s+=g-p}return r?e+s:new ah(e+s,0,null)}touches(e,t){let r=0,s=G0(t),a=this.inverted?2:1,u=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let d=this.ranges[f]-(this.inverted?r:0);if(d>e)break;let p=this.ranges[f+a],g=d+p;if(e<=g&&f==s*3)return!0;r+=this.ranges[f+u]-p}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,a=0;s<this.ranges.length;s+=3){let u=this.ranges[s],f=u-(this.inverted?a:0),d=u+(this.inverted?0:a),p=this.ranges[s+t],g=this.ranges[s+r];e(f,f+p,d,d+g),a+=g-p}}invert(){return new Ft(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ft.empty:new Ft(e<0?[0,-e,0]:[0,0,e])}}Ft.empty=new Ft([]);class ea{constructor(e,t,r=0,s=e?e.length:0){this.mirror=t,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new ea(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let s=e.getMirror(t);this.appendMap(e._maps[t],s!=null&&s<t?r+s:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let s=e.getMirror(t);this.appendMap(e._maps[t].invert(),s!=null&&s>t?r-s-1:void 0)}}invert(){let e=new ea;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let s=0;for(let a=this.from;a<this.to;a++){let u=this._maps[a],f=u.mapResult(e,t);if(f.recover!=null){let d=this.getMirror(a);if(d!=null&&d>a&&d<this.to){a=d,e=this._maps[d].recover(f.recover);continue}}s|=f.delInfo,e=f.pos}return r?e:new ah(e,s,null)}}const wd=Object.create(null);class pt{getMap(){return Ft.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=wd[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in wd)throw new RangeError("Duplicate use of step JSON ID "+e);return wd[e]=t,t.prototype.jsonID=e,t}}class Pe{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Pe(e,null)}static fail(e){return new Pe(null,e)}static fromReplace(e,t,r,s){try{return Pe.ok(e.replace(t,r,s))}catch(a){if(a instanceof su)return Pe.fail(a.message);throw a}}}function zh(n,e,t){let r=[];for(let s=0;s<n.childCount;s++){let a=n.child(s);a.content.size&&(a=a.copy(zh(a.content,e,a))),a.isInline&&(a=e(a,t,s)),r.push(a)}return F.fromArray(r)}class Dr extends pt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),a=new K(zh(t.content,(u,f)=>!u.isAtom||!f.type.allowsMarkType(this.mark.type)?u:u.mark(this.mark.addToSet(u.marks)),s),t.openStart,t.openEnd);return Pe.fromReplace(e,this.from,this.to,a)}invert(){return new Mn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Dr(t.pos,r.pos,this.mark)}merge(e){return e instanceof Dr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Dr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Dr(t.from,t.to,e.markFromJSON(t.mark))}}pt.jsonID("addMark",Dr);class Mn extends pt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new K(zh(t.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),t.openStart,t.openEnd);return Pe.fromReplace(e,this.from,this.to,r)}invert(){return new Dr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Mn(t.pos,r.pos,this.mark)}merge(e){return e instanceof Mn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Mn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Mn(t.from,t.to,e.markFromJSON(t.mark))}}pt.jsonID("removeMark",Mn);class zr extends pt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Pe.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Pe.fromReplace(e,this.pos,this.pos+1,new K(F.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let s=0;s<t.marks.length;s++)if(!t.marks[s].isInSet(r))return new zr(this.pos,t.marks[s]);return new zr(this.pos,this.mark)}}return new Mi(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new zr(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new zr(t.pos,e.markFromJSON(t.mark))}}pt.jsonID("addNodeMark",zr);class Mi extends pt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Pe.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Pe.fromReplace(e,this.pos,this.pos+1,new K(F.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new zr(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Mi(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Mi(t.pos,e.markFromJSON(t.mark))}}pt.jsonID("removeNodeMark",Mi);class Qe extends pt{constructor(e,t,r,s=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=s}apply(e){return this.structure&&oh(e,this.from,this.to)?Pe.fail("Structure replace would overwrite content"):Pe.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ft([this.from,this.to-this.from,this.slice.size])}invert(e){return new Qe(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Qe(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Qe)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?K.empty:new K(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Qe(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?K.empty:new K(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Qe(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Qe(t.from,t.to,K.fromJSON(e,t.slice),!!t.structure)}}pt.jsonID("replace",Qe);class We extends pt{constructor(e,t,r,s,a,u,f=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=s,this.slice=a,this.insert=u,this.structure=f}apply(e){if(this.structure&&(oh(e,this.from,this.gapFrom)||oh(e,this.gapTo,this.to)))return Pe.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Pe.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Pe.fromReplace(e,this.from,this.to,r):Pe.fail("Content does not fit in gap")}getMap(){return new Ft([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new We(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||s<t.pos||a>r.pos?null:new We(t.pos,r.pos,s,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new We(t.from,t.to,t.gapFrom,t.gapTo,K.fromJSON(e,t.slice),t.insert,!!t.structure)}}pt.jsonID("replaceAround",We);function oh(n,e,t){let r=n.resolve(e),s=t-e,a=r.depth;for(;s>0&&a>0&&r.indexAfter(a)==r.node(a).childCount;)a--,s--;if(s>0){let u=r.node(a).maybeChild(r.indexAfter(a));for(;s>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,s--}}return!1}function vk(n,e,t,r){let s=[],a=[],u,f;n.doc.nodesBetween(e,t,(d,p,g)=>{if(!d.isInline)return;let y=d.marks;if(!r.isInSet(y)&&g.type.allowsMarkType(r.type)){let b=Math.max(p,e),x=Math.min(p+d.nodeSize,t),S=r.addToSet(y);for(let w=0;w<y.length;w++)y[w].isInSet(S)||(u&&u.to==b&&u.mark.eq(y[w])?u.to=x:s.push(u=new Mn(b,x,y[w])));f&&f.to==b?f.to=x:a.push(f=new Dr(b,x,r))}}),s.forEach(d=>n.step(d)),a.forEach(d=>n.step(d))}function wk(n,e,t,r){let s=[],a=0;n.doc.nodesBetween(e,t,(u,f)=>{if(!u.isInline)return;a++;let d=null;if(r instanceof Nu){let p=u.marks,g;for(;g=r.isInSet(p);)(d||(d=[])).push(g),p=g.removeFromSet(p)}else r?r.isInSet(u.marks)&&(d=[r]):d=u.marks;if(d&&d.length){let p=Math.min(f+u.nodeSize,t);for(let g=0;g<d.length;g++){let y=d[g],b;for(let x=0;x<s.length;x++){let S=s[x];S.step==a-1&&y.eq(s[x].style)&&(b=S)}b?(b.to=p,b.step=a):s.push({style:y,from:Math.max(f,e),to:p,step:a})}}}),s.forEach(u=>n.step(new Mn(u.from,u.to,u.style)))}function Bh(n,e,t,r=t.contentMatch,s=!0){let a=n.doc.nodeAt(e),u=[],f=e+1;for(let d=0;d<a.childCount;d++){let p=a.child(d),g=f+p.nodeSize,y=r.matchType(p.type);if(!y)u.push(new Qe(f,g,K.empty));else{r=y;for(let b=0;b<p.marks.length;b++)t.allowsMarkType(p.marks[b].type)||n.step(new Mn(f,g,p.marks[b]));if(s&&p.isText&&t.whitespace!="pre"){let b,x=/\r?\n|\r/g,S;for(;b=x.exec(p.text);)S||(S=new K(F.from(t.schema.text(" ",t.allowedMarks(p.marks))),0,0)),u.push(new Qe(f+b.index,f+b.index+b[0].length,S))}}f=g}if(!r.validEnd){let d=r.fillBefore(F.empty,!0);n.replace(f,f,new K(d,0,0))}for(let d=u.length-1;d>=0;d--)n.step(u[d])}function Ek(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Bl(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let s=n.$from.node(r),a=n.$from.index(r),u=n.$to.indexAfter(r);if(r<n.depth&&s.canReplace(a,u,t))return r;if(r==0||s.type.spec.isolating||!Ek(s,a,u))break}return null}function Tk(n,e,t){let{$from:r,$to:s,depth:a}=e,u=r.before(a+1),f=s.after(a+1),d=u,p=f,g=F.empty,y=0;for(let S=a,w=!1;S>t;S--)w||r.index(S)>0?(w=!0,g=F.from(r.node(S).copy(g)),y++):d--;let b=F.empty,x=0;for(let S=a,w=!1;S>t;S--)w||s.after(S+1)<s.end(S)?(w=!0,b=F.from(s.node(S).copy(b)),x++):p++;n.step(new We(d,p,u,f,new K(g.append(b),y,x),g.size-y,!0))}function Lh(n,e,t=null,r=n){let s=Mk(n,e),a=s&&Ok(r,e);return a?s.map(K0).concat({type:e,attrs:t}).concat(a.map(K0)):null}function K0(n){return{type:n,attrs:null}}function Mk(n,e){let{parent:t,startIndex:r,endIndex:s}=n,a=t.contentMatchAt(r).findWrapping(e);if(!a)return null;let u=a.length?a[0]:e;return t.canReplaceWith(r,s,u)?a:null}function Ok(n,e){let{parent:t,startIndex:r,endIndex:s}=n,a=t.child(r),u=e.contentMatch.findWrapping(a.type);if(!u)return null;let d=(u.length?u[u.length-1]:e).contentMatch;for(let p=r;d&&p<s;p++)d=d.matchType(t.child(p).type);return!d||!d.validEnd?null:u}function Ck(n,e,t){let r=F.empty;for(let u=t.length-1;u>=0;u--){if(r.size){let f=t[u].type.contentMatch.matchFragment(r);if(!f||!f.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=F.from(t[u].type.create(t[u].attrs,r))}let s=e.start,a=e.end;n.step(new We(s,a,s,a,new K(r,0,0),t.length,!0))}function kk(n,e,t,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=n.steps.length;n.doc.nodesBetween(e,t,(u,f)=>{let d=typeof s=="function"?s(u):s;if(u.isTextblock&&!u.hasMarkup(r,d)&&Ak(n.doc,n.mapping.slice(a).map(f),r)){let p=null;if(r.schema.linebreakReplacement){let x=r.whitespace=="pre",S=!!r.contentMatch.matchType(r.schema.linebreakReplacement);x&&!S?p=!1:!x&&S&&(p=!0)}p===!1&&pS(n,u,f,a),Bh(n,n.mapping.slice(a).map(f,1),r,void 0,p===null);let g=n.mapping.slice(a),y=g.map(f,1),b=g.map(f+u.nodeSize,1);return n.step(new We(y,b,y+1,b-1,new K(F.from(r.create(d,null,u.marks)),0,0),1,!0)),p===!0&&hS(n,u,f,a),!1}})}function hS(n,e,t,r){e.forEach((s,a)=>{if(s.isText){let u,f=/\r?\n|\r/g;for(;u=f.exec(s.text);){let d=n.mapping.slice(r).map(t+1+a+u.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function pS(n,e,t,r){e.forEach((s,a)=>{if(s.type==s.type.schema.linebreakReplacement){let u=n.mapping.slice(r).map(t+1+a);n.replaceWith(u,u+1,e.type.schema.text(`
`))}})}function Ak(n,e,t){let r=n.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,t)}function Nk(n,e,t,r,s){let a=n.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");t||(t=a.type);let u=t.create(r,null,s||a.marks);if(a.isLeaf)return n.replaceWith(e,e+a.nodeSize,u);if(!t.validContent(a.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new We(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new K(F.from(u),0,0),1,!0))}function Qn(n,e,t=1,r){let s=n.resolve(e),a=s.depth-t,u=r&&r[r.length-1]||s.parent;if(a<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!u.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let p=s.depth-1,g=t-2;p>a;p--,g--){let y=s.node(p),b=s.index(p);if(y.type.spec.isolating)return!1;let x=y.content.cutByIndex(b,y.childCount),S=r&&r[g+1];S&&(x=x.replaceChild(0,S.type.create(S.attrs)));let w=r&&r[g]||y;if(!y.canReplace(b+1,y.childCount)||!w.type.validContent(x))return!1}let f=s.indexAfter(a),d=r&&r[0];return s.node(a).canReplaceWith(f,f,d?d.type:s.node(a+1).type)}function Rk(n,e,t=1,r){let s=n.doc.resolve(e),a=F.empty,u=F.empty;for(let f=s.depth,d=s.depth-t,p=t-1;f>d;f--,p--){a=F.from(s.node(f).copy(a));let g=r&&r[p];u=F.from(g?g.type.create(g.attrs,u):s.node(f).copy(u))}n.step(new Qe(e,e,new K(a.append(u),t,t),!0))}function Fr(n,e){let t=n.resolve(e),r=t.index();return mS(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function Dk(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let s=0;s<e.childCount;s++){let a=e.child(s),u=a.type==r?n.type.schema.nodes.text:a.type;if(t=t.matchType(u),!t||!n.type.allowsMarks(a.marks))return!1}return t.validEnd}function mS(n,e){return!!(n&&e&&!n.isLeaf&&Dk(n,e))}function Ru(n,e,t=-1){let r=n.resolve(e);for(let s=r.depth;;s--){let a,u,f=r.index(s);if(s==r.depth?(a=r.nodeBefore,u=r.nodeAfter):t>0?(a=r.node(s+1),f++,u=r.node(s).maybeChild(f)):(a=r.node(s).maybeChild(f-1),u=r.node(s+1)),a&&!a.isTextblock&&mS(a,u)&&r.node(s).canReplace(f,f+1))return e;if(s==0)break;e=t<0?r.before(s):r.after(s)}}function zk(n,e,t){let r=null,{linebreakReplacement:s}=n.doc.type.schema,a=n.doc.resolve(e-t),u=a.node().type;if(s&&u.inlineContent){let g=u.whitespace=="pre",y=!!u.contentMatch.matchType(s);g&&!y?r=!1:!g&&y&&(r=!0)}let f=n.steps.length;if(r===!1){let g=n.doc.resolve(e+t);pS(n,g.node(),g.before(),f)}u.inlineContent&&Bh(n,e+t-1,u,a.node().contentMatchAt(a.index()),r==null);let d=n.mapping.slice(f),p=d.map(e-t);if(n.step(new Qe(p,d.map(e+t,-1),K.empty,!0)),r===!0){let g=n.doc.resolve(p);hS(n,g.node(),g.before(),n.steps.length)}return n}function Bk(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let a=r.index(s);if(r.node(s).canReplaceWith(a,a,t))return r.before(s+1);if(a>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,t))return r.after(s+1);if(a<r.node(s).childCount)return null}return null}function gS(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let s=t.content;for(let a=0;a<t.openStart;a++)s=s.firstChild.content;for(let a=1;a<=(t.openStart==0&&t.size?2:1);a++)for(let u=r.depth;u>=0;u--){let f=u==r.depth?0:r.pos<=(r.start(u+1)+r.end(u+1))/2?-1:1,d=r.index(u)+(f>0?1:0),p=r.node(u),g=!1;if(a==1)g=p.canReplace(d,d,s);else{let y=p.contentMatchAt(d).findWrapping(s.firstChild.type);g=y&&p.canReplaceWith(d,d,y[0])}if(g)return f==0?r.pos:f<0?r.before(u+1):r.after(u+1)}return null}function Du(n,e,t=e,r=K.empty){if(e==t&&!r.size)return null;let s=n.resolve(e),a=n.resolve(t);return yS(s,a,r)?new Qe(e,t,r):new Lk(s,a,r).fit()}function yS(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class Lk{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=F.empty;for(let s=0;s<=e.depth;s++){let a=e.node(s);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=F.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let p=this.findFittable();p?this.placeNodes(p):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let a=this.placed,u=r.depth,f=s.depth;for(;u&&f&&a.childCount==1;)a=a.firstChild.content,u--,f--;let d=new K(a,u,f);return e>-1?new We(r.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||r.pos!=this.$to.pos?new Qe(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let a=t.firstChild;if(t.childCount>1&&(s=0),a.type.spec.isolating&&s<=r){e=r;break}t=a.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let s,a=null;r?(a=Ed(this.unplaced.content,r-1).firstChild,s=a.content):s=this.unplaced.content;let u=s.firstChild;for(let f=this.depth;f>=0;f--){let{type:d,match:p}=this.frontier[f],g,y=null;if(t==1&&(u?p.matchType(u.type)||(y=p.fillBefore(F.from(u),!1)):a&&d.compatibleContent(a.type)))return{sliceDepth:r,frontierDepth:f,parent:a,inject:y};if(t==2&&u&&(g=p.findWrapping(u.type)))return{sliceDepth:r,frontierDepth:f,parent:a,wrap:g};if(a&&p.matchType(a.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=Ed(e,t);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new K(e,t+1,Math.max(r,s.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=Ed(e,t);if(s.childCount<=1&&t>0){let a=e.size-t<=t+s.size;this.unplaced=new K(Ps(e,t-1,1),t-1,a?t-1:r)}else this.unplaced=new K(Ps(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:s,wrap:a}){for(;this.depth>t;)this.closeFrontierNode();if(a)for(let w=0;w<a.length;w++)this.openFrontierNode(a[w]);let u=this.unplaced,f=r?r.content:u.content,d=u.openStart-e,p=0,g=[],{match:y,type:b}=this.frontier[t];if(s){for(let w=0;w<s.childCount;w++)g.push(s.child(w));y=y.matchFragment(s)}let x=f.size+e-(u.content.size-u.openEnd);for(;p<f.childCount;){let w=f.child(p),T=y.matchType(w.type);if(!T)break;p++,(p>1||d==0||w.content.size)&&(y=T,g.push(bS(w.mark(b.allowedMarks(w.marks)),p==1?d:0,p==f.childCount?x:-1)))}let S=p==f.childCount;S||(x=-1),this.placed=Fs(this.placed,t,F.from(g)),this.frontier[t].match=y,S&&x<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,T=f;w<x;w++){let O=T.lastChild;this.frontier.push({type:O.type,match:O.contentMatchAt(O.childCount)}),T=O.content}this.unplaced=S?e==0?K.empty:new K(Ps(u.content,e-1,1),e-1,x<0?u.openEnd:e-1):new K(Ps(u.content,e,p),u.openStart,u.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Td(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:s}=this.frontier[t],a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),u=Td(e,t,s,r,a);if(u){for(let f=t-1;f>=0;f--){let{match:d,type:p}=this.frontier[f],g=Td(e,f,p,d,!0);if(!g||g.childCount)continue e}return{depth:t,fit:u,move:a?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Fs(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let s=e.node(r),a=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,a)}return e}openFrontierNode(e,t=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Fs(this.placed,this.depth,F.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(F.empty,!0);t.childCount&&(this.placed=Fs(this.placed,this.frontier.length,t))}}function Ps(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Ps(n.firstChild.content,e-1,t)))}function Fs(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Fs(n.lastChild.content,e-1,t)))}function Ed(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function bS(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,bS(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(F.empty,!0)))),n.copy(r)}function Td(n,e,t,r,s){let a=n.node(e),u=s?n.indexAfter(e):n.index(e);if(u==a.childCount&&!t.compatibleContent(a.type))return null;let f=r.fillBefore(a.content,!0,u);return f&&!jk(t,a.content,u)?f:null}function jk(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function _k(n){return n.spec.defining||n.spec.definingForContent}function Uk(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let s=n.doc.resolve(e),a=n.doc.resolve(t);if(yS(s,a,r))return n.step(new Qe(e,t,r));let u=xS(s,n.doc.resolve(t));u[u.length-1]==0&&u.pop();let f=-(s.depth+1);u.unshift(f);for(let b=s.depth,x=s.pos-1;b>0;b--,x--){let S=s.node(b).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;u.indexOf(b)>-1?f=b:s.before(b)==x&&u.splice(1,0,-b)}let d=u.indexOf(f),p=[],g=r.openStart;for(let b=r.content,x=0;;x++){let S=b.firstChild;if(p.push(S),x==r.openStart)break;b=S.content}for(let b=g-1;b>=0;b--){let x=p[b],S=_k(x.type);if(S&&!x.sameMarkup(s.node(Math.abs(f)-1)))g=b;else if(S||!x.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let x=(b+g+1)%(r.openStart+1),S=p[x];if(S)for(let w=0;w<u.length;w++){let T=u[(w+d)%u.length],O=!0;T<0&&(O=!1,T=-T);let L=s.node(T-1),U=s.index(T-1);if(L.canReplaceWith(U,U,S.type,S.marks))return n.replace(s.before(T),O?a.after(T):t,new K(SS(r.content,0,r.openStart,x),x,r.openEnd))}}let y=n.steps.length;for(let b=u.length-1;b>=0&&(n.replace(e,t,r),!(n.steps.length>y));b--){let x=u[b];x<0||(e=s.before(x),t=a.after(x))}}function SS(n,e,t,r,s){if(e<t){let a=n.firstChild;n=n.replaceChild(0,a.copy(SS(a.content,e+1,t,r,a)))}if(e>r){let a=s.contentMatchAt(0),u=a.fillBefore(n).append(n);n=u.append(a.matchFragment(u).fillBefore(F.empty,!0))}return n}function Hk(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let s=Bk(n.doc,e,r.type);s!=null&&(e=t=s)}n.replaceRange(e,t,new K(F.from(r),0,0))}function qk(n,e,t){let r=n.doc.resolve(e),s=n.doc.resolve(t),a=xS(r,s);for(let u=0;u<a.length;u++){let f=a[u],d=u==a.length-1;if(d&&f==0||r.node(f).type.contentMatch.validEnd)return n.delete(r.start(f),s.end(f));if(f>0&&(d||r.node(f-1).canReplace(r.index(f-1),s.indexAfter(f-1))))return n.delete(r.before(f),s.after(f))}for(let u=1;u<=r.depth&&u<=s.depth;u++)if(e-r.start(u)==r.depth-u&&t>r.end(u)&&s.end(u)-t!=s.depth-u&&r.start(u-1)==s.start(u-1)&&r.node(u-1).canReplace(r.index(u-1),s.index(u-1)))return n.delete(r.before(u),t);n.delete(e,t)}function xS(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let s=r;s>=0;s--){let a=n.start(s);if(a<n.pos-(n.depth-s)||e.end(s)>e.pos+(e.depth-s)||n.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(a==e.start(s)||s==n.depth&&s==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==a-1)&&t.push(s)}return t}class wl extends pt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Pe.fail("No node at attribute step's position");let r=Object.create(null);for(let a in t.attrs)r[a]=t.attrs[a];r[this.attr]=this.value;let s=t.type.create(r,null,t.marks);return Pe.fromReplace(e,this.pos,this.pos+1,new K(F.from(s),0,t.isLeaf?0:1))}getMap(){return Ft.empty}invert(e){return new wl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new wl(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new wl(t.pos,t.attr,t.value)}}pt.jsonID("attr",wl);class ta extends pt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let s in e.attrs)t[s]=e.attrs[s];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Pe.ok(r)}getMap(){return Ft.empty}invert(e){return new ta(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ta(t.attr,t.value)}}pt.jsonID("docAttr",ta);let Tl=class extends Error{};Tl=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Tl.prototype=Object.create(Error.prototype);Tl.prototype.constructor=Tl;Tl.prototype.name="TransformError";class Vk{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ea}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Tl(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=K.empty){let s=Du(this.doc,e,t,r);return s&&this.step(s),this}replaceWith(e,t,r){return this.replace(e,t,new K(F.from(r),0,0))}delete(e,t){return this.replace(e,t,K.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return Uk(this,e,t,r),this}replaceRangeWith(e,t,r){return Hk(this,e,t,r),this}deleteRange(e,t){return qk(this,e,t),this}lift(e,t){return Tk(this,e,t),this}join(e,t=1){return zk(this,e,t),this}wrap(e,t){return Ck(this,e,t),this}setBlockType(e,t=e,r,s=null){return kk(this,e,t,r,s),this}setNodeMarkup(e,t,r=null,s){return Nk(this,e,t,r,s),this}setNodeAttribute(e,t,r){return this.step(new wl(e,t,r)),this}setDocAttribute(e,t){return this.step(new ta(e,t)),this}addNodeMark(e,t){return this.step(new zr(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Oe)t.isInSet(r.marks)&&this.step(new Mi(e,t));else{let s=r.marks,a,u=[];for(;a=t.isInSet(s);)u.push(new Mi(e,a)),s=a.removeFromSet(s);for(let f=u.length-1;f>=0;f--)this.step(u[f])}return this}split(e,t=1,r){return Rk(this,e,t,r),this}addMark(e,t,r){return vk(this,e,t,r),this}removeMark(e,t,r){return wk(this,e,t,r),this}clearIncompatible(e,t,r){return Bh(this,e,t,r),this}}const Md=Object.create(null);class ae{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new Pk(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=K.empty){let r=t.content.lastChild,s=null;for(let f=0;f<t.openEnd;f++)s=r,r=r.lastChild;let a=e.steps.length,u=this.ranges;for(let f=0;f<u.length;f++){let{$from:d,$to:p}=u[f],g=e.mapping.slice(a);e.replaceRange(g.map(d.pos),g.map(p.pos),f?K.empty:t),f==0&&Q0(e,a,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:u,$to:f}=s[a],d=e.mapping.slice(r),p=d.map(u.pos),g=d.map(f.pos);a?e.deleteRange(p,g):(e.replaceRangeWith(p,g,t),Q0(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let s=e.parent.inlineContent?new le(e):bl(e.node(0),e.parent,e.pos,e.index(),t,r);if(s)return s;for(let a=e.depth-1;a>=0;a--){let u=t<0?bl(e.node(0),e.node(a),e.before(a+1),e.index(a),t,r):bl(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,t,r);if(u)return u}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new It(e.node(0))}static atStart(e){return bl(e,e,0,0,1)||new It(e)}static atEnd(e){return bl(e,e,e.content.size,e.childCount,-1)||new It(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Md[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Md)throw new RangeError("Duplicate use of selection JSON ID "+e);return Md[e]=t,t.prototype.jsonID=e,t}getBookmark(){return le.between(this.$anchor,this.$head).getBookmark()}}ae.prototype.visible=!0;class Pk{constructor(e,t){this.$from=e,this.$to=t}}let X0=!1;function J0(n){!X0&&!n.parent.inlineContent&&(X0=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class le extends ae{constructor(e,t=e){J0(e),J0(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return ae.near(r);let s=e.resolve(t.map(this.anchor));return new le(s.parent.inlineContent?s:r,r)}replace(e,t=K.empty){if(super.replace(e,t),t==K.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof le&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new zu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new le(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let s=e.resolve(t);return new this(s,r==t?s:e.resolve(r))}static between(e,t,r){let s=e.pos-t.pos;if((!r||s)&&(r=s>=0?1:-1),!t.parent.inlineContent){let a=ae.findFrom(t,r,!0)||ae.findFrom(t,-r,!0);if(a)t=a.$head;else return ae.near(t,r)}return e.parent.inlineContent||(s==0?e=t:(e=(ae.findFrom(e,-r,!0)||ae.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=s<0&&(e=t))),new le(e,t)}}ae.jsonID("text",le);class zu{constructor(e,t){this.anchor=e,this.head=t}map(e){return new zu(e.map(this.anchor),e.map(this.head))}resolve(e){return le.between(e.resolve(this.anchor),e.resolve(this.head))}}class ee extends ae{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:s}=t.mapResult(this.anchor),a=e.resolve(s);return r?ae.near(a):new ee(a)}content(){return new K(F.from(this.node),0,0)}eq(e){return e instanceof ee&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new jh(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ee(e.resolve(t.anchor))}static create(e,t){return new ee(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ee.prototype.visible=!1;ae.jsonID("node",ee);class jh{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new zu(r,r):new jh(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&ee.isSelectable(r)?new ee(t):ae.near(t)}}class It extends ae{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=K.empty){if(t==K.empty){e.delete(0,e.doc.content.size);let r=ae.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new It(e)}map(e){return new It(e)}eq(e){return e instanceof It}getBookmark(){return Fk}}ae.jsonID("all",It);const Fk={map(){return this},resolve(n){return new It(n)}};function bl(n,e,t,r,s,a=!1){if(e.inlineContent)return le.create(n,t);for(let u=r-(s>0?0:1);s>0?u<e.childCount:u>=0;u+=s){let f=e.child(u);if(f.isAtom){if(!a&&ee.isSelectable(f))return ee.create(n,t-(s<0?f.nodeSize:0))}else{let d=bl(n,f,t+s,s<0?f.childCount:0,s,a);if(d)return d}t+=f.nodeSize*s}return null}function Q0(n,e,t){let r=n.steps.length-1;if(r<e)return;let s=n.steps[r];if(!(s instanceof Qe||s instanceof We))return;let a=n.mapping.maps[r],u;a.forEach((f,d,p,g)=>{u==null&&(u=g)}),n.setSelection(ae.near(n.doc.resolve(u),t))}const W0=1,qo=2,Z0=4;class Ik extends Vk{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|W0)&~qo,this.storedMarks=null,this}get selectionSet(){return(this.updated&W0)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=qo,this}ensureMarks(e){return Oe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&qo)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~qo,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Oe.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let s=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let a=this.storedMarks;if(!a){let u=this.doc.resolve(t);a=r==t?u.marks():u.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,s.text(e,a)),this.selection.empty||this.setSelection(ae.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Z0,this}get scrolledIntoView(){return(this.updated&Z0)>0}}function eb(n,e){return!e||!n?n:n.bind(e)}class Is{constructor(e,t,r){this.name=e,this.init=eb(t.init,r),this.apply=eb(t.apply,r)}}const Yk=[new Is("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Is("selection",{init(n,e){return n.selection||ae.atStart(e.doc)},apply(n){return n.selection}}),new Is("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Is("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Od{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Yk.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Is(r.key,r.spec.state,r))})}}class xl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),s=null;for(;;){let a=!1;for(let u=0;u<this.config.plugins.length;u++){let f=this.config.plugins[u];if(f.spec.appendTransaction){let d=s?s[u].n:0,p=s?s[u].state:this,g=d<t.length&&f.spec.appendTransaction.call(f,d?t.slice(d):t,p,r);if(g&&r.filterTransaction(g,u)){if(g.setMeta("appendedTransaction",e),!s){s=[];for(let y=0;y<this.config.plugins.length;y++)s.push(y<u?{state:r,n:t.length}:{state:this,n:0})}t.push(g),r=r.applyInner(g),a=!0}s&&(s[u]={state:r,n:t.length})}}if(!a)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new xl(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let a=r[s];t[a.name]=a.apply(e,this[a.name],this,t)}return t}get tr(){return new Ik(this)}static create(e){let t=new Od(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new xl(t);for(let s=0;s<t.fields.length;s++)r[t.fields[s].name]=t.fields[s].init(e,r);return r}reconfigure(e){let t=new Od(this.schema,e.plugins),r=t.fields,s=new xl(t);for(let a=0;a<r.length;a++){let u=r[a].name;s[u]=this.hasOwnProperty(u)?this[u]:r[a].init(e,s)}return s}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],a=s.spec.state;a&&a.toJSON&&(t[r]=a.toJSON.call(s,this[s.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Od(e.schema,e.plugins),a=new xl(s);return s.fields.forEach(u=>{if(u.name=="doc")a.doc=Lr.fromJSON(e.schema,t.doc);else if(u.name=="selection")a.selection=ae.fromJSON(a.doc,t.selection);else if(u.name=="storedMarks")t.storedMarks&&(a.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let f in r){let d=r[f],p=d.spec.state;if(d.key==u.name&&p&&p.fromJSON&&Object.prototype.hasOwnProperty.call(t,f)){a[u.name]=p.fromJSON.call(d,e,t[f],a);return}}a[u.name]=u.init(e,a)}}),a}}function vS(n,e,t){for(let r in n){let s=n[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=vS(s,e,{})),t[r]=s}return t}class zt{constructor(e){this.spec=e,this.props={},e.props&&vS(e.props,this,this.props),this.key=e.key?e.key.key:wS("plugin")}getState(e){return e[this.key]}}const Cd=Object.create(null);function wS(n){return n in Cd?n+"$"+ ++Cd[n]:(Cd[n]=0,n+"$")}class Nn{constructor(e="key"){this.key=wS(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const lt=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Ml=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let uh=null;const Kn=function(n,e,t){let r=uh||(uh=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},$k=function(){uh=null},Oi=function(n,e,t,r){return t&&(tb(n,e,t,r,-1)||tb(n,e,t,r,1))},Gk=/^(img|br|input|textarea|hr)$/i;function tb(n,e,t,r,s){for(var a;;){if(n==t&&e==r)return!0;if(e==(s<0?0:nn(n))){let u=n.parentNode;if(!u||u.nodeType!=1||pa(n)||Gk.test(n.nodeName)||n.contentEditable=="false")return!1;e=lt(n)+(s<0?0:1),n=u}else if(n.nodeType==1){let u=n.childNodes[e+(s<0?-1:0)];if(u.nodeType==1&&u.contentEditable=="false")if(!((a=u.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=s;else return!1;else n=u,e=s<0?nn(n):0}else return!1}}function nn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Kk(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=nn(n)}else if(n.parentNode&&!pa(n))e=lt(n),n=n.parentNode;else return null}}function Xk(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!pa(n))e=lt(n)+1,n=n.parentNode;else return null}}function Jk(n,e,t){for(let r=e==0,s=e==nn(n);r||s;){if(n==t)return!0;let a=lt(n);if(n=n.parentNode,!n)return!1;r=r&&a==0,s=s&&a==nn(n)}}function pa(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Bu=function(n){return n.focusNode&&Oi(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function fi(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function Qk(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Wk(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(nn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(nn(r.startContainer),r.startOffset)}}}const On=typeof navigator<"u"?navigator:null,nb=typeof document<"u"?document:null,Ir=On&&On.userAgent||"",ch=/Edge\/(\d+)/.exec(Ir),ES=/MSIE \d/.exec(Ir),fh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ir),Dt=!!(ES||fh||ch),_r=ES?document.documentMode:fh?+fh[1]:ch?+ch[1]:0,dn=!Dt&&/gecko\/(\d+)/i.test(Ir);dn&&+(/Firefox\/(\d+)/.exec(Ir)||[0,0])[1];const dh=!Dt&&/Chrome\/(\d+)/.exec(Ir),ht=!!dh,TS=dh?+dh[1]:0,bt=!Dt&&!!On&&/Apple Computer/.test(On.vendor),Ol=bt&&(/Mobile\/\w+/.test(Ir)||!!On&&On.maxTouchPoints>2),tn=Ol||(On?/Mac/.test(On.platform):!1),Zk=On?/Win/.test(On.platform):!1,Xn=/Android \d/.test(Ir),ma=!!nb&&"webkitFontSmoothing"in nb.documentElement.style,eA=ma?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function tA(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Gn(n,e){return typeof n=="number"?n:n[e]}function nA(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function rb(n,e,t){let r=n.someProp("scrollThreshold")||0,s=n.someProp("scrollMargin")||5,a=n.dom.ownerDocument;for(let u=t||n.dom;u;){if(u.nodeType!=1){u=Ml(u);continue}let f=u,d=f==a.body,p=d?tA(a):nA(f),g=0,y=0;if(e.top<p.top+Gn(r,"top")?y=-(p.top-e.top+Gn(s,"top")):e.bottom>p.bottom-Gn(r,"bottom")&&(y=e.bottom-e.top>p.bottom-p.top?e.top+Gn(s,"top")-p.top:e.bottom-p.bottom+Gn(s,"bottom")),e.left<p.left+Gn(r,"left")?g=-(p.left-e.left+Gn(s,"left")):e.right>p.right-Gn(r,"right")&&(g=e.right-p.right+Gn(s,"right")),g||y)if(d)a.defaultView.scrollBy(g,y);else{let x=f.scrollLeft,S=f.scrollTop;y&&(f.scrollTop+=y),g&&(f.scrollLeft+=g);let w=f.scrollLeft-x,T=f.scrollTop-S;e={left:e.left-w,top:e.top-T,right:e.right-w,bottom:e.bottom-T}}let b=d?"fixed":getComputedStyle(u).position;if(/^(fixed|sticky)$/.test(b))break;u=b=="absolute"?u.offsetParent:Ml(u)}}function rA(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,s;for(let a=(e.left+e.right)/2,u=t+1;u<Math.min(innerHeight,e.bottom);u+=5){let f=n.root.elementFromPoint(a,u);if(!f||f==n.dom||!n.dom.contains(f))continue;let d=f.getBoundingClientRect();if(d.top>=t-20){r=f,s=d.top;break}}return{refDOM:r,refTop:s,stack:MS(n.dom)}}function MS(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Ml(r));return e}function iA({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;OS(t,r==0?0:r-e)}function OS(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:s,left:a}=n[t];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=a&&(r.scrollLeft=a)}}let gl=null;function lA(n){if(n.setActive)return n.setActive();if(gl)return n.focus(gl);let e=MS(n);n.focus(gl==null?{get preventScroll(){return gl={preventScroll:!0},!0}}:void 0),gl||(gl=!1,OS(e,0))}function CS(n,e){let t,r=2e8,s,a=0,u=e.top,f=e.top,d,p;for(let g=n.firstChild,y=0;g;g=g.nextSibling,y++){let b;if(g.nodeType==1)b=g.getClientRects();else if(g.nodeType==3)b=Kn(g).getClientRects();else continue;for(let x=0;x<b.length;x++){let S=b[x];if(S.top<=u&&S.bottom>=f){u=Math.max(S.bottom,u),f=Math.min(S.top,f);let w=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(w<r){t=g,r=w,s=w&&t.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,g.nodeType==1&&w&&(a=y+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!d&&S.left<=e.left&&S.right>=e.left&&(d=g,p={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!t&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(a=y+1)}}return!t&&d&&(t=d,s=p,r=0),t&&t.nodeType==3?sA(t,s):!t||r&&t.nodeType==1?{node:n,offset:a}:CS(t,s)}function sA(n,e){let t=n.nodeValue.length,r=document.createRange();for(let s=0;s<t;s++){r.setEnd(n,s+1),r.setStart(n,s);let a=kr(r,1);if(a.top!=a.bottom&&_h(e,a))return{node:n,offset:s+(e.left>=(a.left+a.right)/2?1:0)}}return{node:n,offset:0}}function _h(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function aA(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function oA(n,e,t){let{node:r,offset:s}=CS(e,t),a=-1;if(r.nodeType==1&&!r.firstChild){let u=r.getBoundingClientRect();a=u.left!=u.right&&t.left>(u.left+u.right)/2?1:-1}return n.docView.posFromDOM(r,s,a)}function uA(n,e,t,r){let s=-1;for(let a=e,u=!1;a!=n.dom;){let f=n.docView.nearestDesc(a,!0),d;if(!f)return null;if(f.dom.nodeType==1&&(f.node.isBlock&&f.parent||!f.contentDOM)&&((d=f.dom.getBoundingClientRect()).width||d.height)&&(f.node.isBlock&&f.parent&&(!u&&d.left>r.left||d.top>r.top?s=f.posBefore:(!u&&d.right<r.left||d.bottom<r.top)&&(s=f.posAfter),u=!0),!f.contentDOM&&s<0&&!f.node.isText))return(f.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?f.posBefore:f.posAfter;a=f.dom.parentNode}return s>-1?s:n.docView.posFromDOM(e,t,-1)}function kS(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),a=s;;){let u=n.childNodes[a];if(u.nodeType==1){let f=u.getClientRects();for(let d=0;d<f.length;d++){let p=f[d];if(_h(e,p))return kS(u,e,p)}}if((a=(a+1)%r)==s)break}return n}function cA(n,e){let t=n.dom.ownerDocument,r,s=0,a=Wk(t,e.left,e.top);a&&({node:r,offset:s}=a);let u=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),f;if(!u||!n.dom.contains(u.nodeType!=1?u.parentNode:u)){let p=n.dom.getBoundingClientRect();if(!_h(e,p)||(u=kS(n.dom,e,p),!u))return null}if(bt)for(let p=u;r&&p;p=Ml(p))p.draggable&&(r=void 0);if(u=aA(u,e),r){if(dn&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let g=r.childNodes[s],y;g.nodeName=="IMG"&&(y=g.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&s++}let p;ma&&s&&r.nodeType==1&&(p=r.childNodes[s-1]).nodeType==1&&p.contentEditable=="false"&&p.getBoundingClientRect().top>=e.top&&s--,r==n.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?f=n.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(f=uA(n,r,s,e))}f==null&&(f=oA(n,u,e));let d=n.docView.nearestDesc(u,!0);return{pos:f,inside:d?d.posAtStart-d.border:-1}}function ib(n){return n.top<n.bottom||n.left<n.right}function kr(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(ib(r))return r}return Array.prototype.find.call(t,ib)||n.getBoundingClientRect()}const fA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function AS(n,e,t){let{node:r,offset:s,atom:a}=n.docView.domFromPos(e,t<0?-1:1),u=ma||dn;if(r.nodeType==3)if(u&&(fA.test(r.nodeValue)||(t<0?!s:s==r.nodeValue.length))){let d=kr(Kn(r,s,s),t);if(dn&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let p=kr(Kn(r,s-1,s-1),-1);if(p.top==d.top){let g=kr(Kn(r,s,s+1),-1);if(g.top!=d.top)return Vs(g,g.left<p.left)}}return d}else{let d=s,p=s,g=t<0?1:-1;return t<0&&!s?(p++,g=-1):t>=0&&s==r.nodeValue.length?(d--,g=1):t<0?d--:p++,Vs(kr(Kn(r,d,p),g),g<0)}if(!n.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&s&&(t<0||s==nn(r))){let d=r.childNodes[s-1];if(d.nodeType==1)return kd(d.getBoundingClientRect(),!1)}if(a==null&&s<nn(r)){let d=r.childNodes[s];if(d.nodeType==1)return kd(d.getBoundingClientRect(),!0)}return kd(r.getBoundingClientRect(),t>=0)}if(a==null&&s&&(t<0||s==nn(r))){let d=r.childNodes[s-1],p=d.nodeType==3?Kn(d,nn(d)-(u?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(p)return Vs(kr(p,1),!1)}if(a==null&&s<nn(r)){let d=r.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let p=d?d.nodeType==3?Kn(d,0,u?0:1):d.nodeType==1?d:null:null;if(p)return Vs(kr(p,-1),!0)}return Vs(kr(r.nodeType==3?Kn(r):r,-t),t>=0)}function Vs(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function kd(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function NS(n,e,t){let r=n.state,s=n.root.activeElement;r!=e&&n.updateState(e),s!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),s!=n.dom&&s&&s.focus()}}function dA(n,e,t){let r=e.selection,s=t=="up"?r.$from:r.$to;return NS(n,e,()=>{let{node:a}=n.docView.domFromPos(s.pos,t=="up"?-1:1);for(;;){let f=n.docView.nearestDesc(a,!0);if(!f)break;if(f.node.isBlock){a=f.contentDOM||f.dom;break}a=f.dom.parentNode}let u=AS(n,s.pos,1);for(let f=a.firstChild;f;f=f.nextSibling){let d;if(f.nodeType==1)d=f.getClientRects();else if(f.nodeType==3)d=Kn(f,0,f.nodeValue.length).getClientRects();else continue;for(let p=0;p<d.length;p++){let g=d[p];if(g.bottom>g.top+1&&(t=="up"?u.top-g.top>(g.bottom-u.top)*2:g.bottom-u.bottom>(u.bottom-g.top)*2))return!1}}return!0})}const hA=/[\u0590-\u08ac]/;function pA(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,a=!s,u=s==r.parent.content.size,f=n.domSelection();return f?!hA.test(r.parent.textContent)||!f.modify?t=="left"||t=="backward"?a:u:NS(n,e,()=>{let{focusNode:d,focusOffset:p,anchorNode:g,anchorOffset:y}=n.domSelectionRange(),b=f.caretBidiLevel;f.modify("move",t,"character");let x=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:S,focusOffset:w}=n.domSelectionRange(),T=S&&!x.contains(S.nodeType==1?S:S.parentNode)||d==S&&p==w;try{f.collapse(g,y),d&&(d!=g||p!=y)&&f.extend&&f.extend(d,p)}catch{}return b!=null&&(f.caretBidiLevel=b),T}):r.pos==r.start()||r.pos==r.end()}let lb=null,sb=null,ab=!1;function mA(n,e,t){return lb==e&&sb==t?ab:(lb=e,sb=t,ab=t=="up"||t=="down"?dA(n,e,t):pA(n,e,t))}const ln=0,ob=1,pi=2,Cn=3;class ga{constructor(e,t,r,s){this.parent=e,this.children=t,this.dom=r,this.contentDOM=s,this.dirty=ln,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let s=this.children[t];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let a,u;if(e==this.contentDOM)a=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((u=a.pmViewDesc)&&u.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(u)+u.size:this.posAtStart}else{let a,u;if(e==this.contentDOM)a=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((u=a.pmViewDesc)&&u.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(u):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=t>lt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!1;break}if(a.previousSibling)break}if(s==null&&t==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!0;break}if(a.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,s=e;s;s=s.parentNode){let a=this.getDesc(s),u;if(a&&(!t||a.node))if(r&&(u=a.nodeDOM)&&!(u.nodeType==1?u.contains(e.nodeType==1?e:e.parentNode):u==e))r=!1;else return a}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let s=e;s;s=s.parentNode){let a=this.getDesc(s);if(a)return a.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let s=this.children[t],a=r+s.size;if(r==e&&a!=r){for(;!s.border&&s.children.length;)for(let u=0;u<s.children.length;u++){let f=s.children[u];if(f.size){s=f;break}}return s}if(e<a)return s.descAt(e-r-s.border);r=a}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let a=0;r<this.children.length;r++){let u=this.children[r],f=a+u.size;if(f>e||u instanceof DS){s=e-a;break}a=f}if(s)return this.children[r].domFromPos(s-this.children[r].border,t);for(let a;r&&!(a=this.children[r-1]).size&&a instanceof RS&&a.side>=0;r--);if(t<=0){let a,u=!0;for(;a=r?this.children[r-1]:null,!(!a||a.dom.parentNode==this.contentDOM);r--,u=!1);return a&&t&&u&&!a.border&&!a.domAtom?a.domFromPos(a.size,t):{node:this.contentDOM,offset:a?lt(a.dom)+1:0}}else{let a,u=!0;for(;a=r<this.children.length?this.children[r]:null,!(!a||a.dom.parentNode==this.contentDOM);r++,u=!1);return a&&u&&!a.border&&!a.domAtom?a.domFromPos(0,t):{node:this.contentDOM,offset:a?lt(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,a=-1;for(let u=r,f=0;;f++){let d=this.children[f],p=u+d.size;if(s==-1&&e<=p){let g=u+d.border;if(e>=g&&t<=p-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,g);e=u;for(let y=f;y>0;y--){let b=this.children[y-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){s=lt(b.dom)+1;break}e-=b.size}s==-1&&(s=0)}if(s>-1&&(p>t||f==this.children.length-1)){t=p;for(let g=f+1;g<this.children.length;g++){let y=this.children[g];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){a=lt(y.dom);break}t+=y.size}a==-1&&(a=this.contentDOM.childNodes.length);break}u=p}return{node:this.contentDOM,from:e,to:t,fromOffset:s,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,s=!1){let a=Math.min(e,t),u=Math.max(e,t);for(let x=0,S=0;x<this.children.length;x++){let w=this.children[x],T=S+w.size;if(a>S&&u<T)return w.setSelection(e-S-w.border,t-S-w.border,r,s);S=T}let f=this.domFromPos(e,e?-1:1),d=t==e?f:this.domFromPos(t,t?-1:1),p=r.root.getSelection(),g=r.domSelectionRange(),y=!1;if((dn||bt)&&e==t){let{node:x,offset:S}=f;if(x.nodeType==3){if(y=!!(S&&x.nodeValue[S-1]==`
`),y&&S==x.nodeValue.length)for(let w=x,T;w;w=w.parentNode){if(T=w.nextSibling){T.nodeName=="BR"&&(f=d={node:T.parentNode,offset:lt(T)+1});break}let O=w.pmViewDesc;if(O&&O.node&&O.node.isBlock)break}}else{let w=x.childNodes[S-1];y=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(dn&&g.focusNode&&g.focusNode!=d.node&&g.focusNode.nodeType==1){let x=g.focusNode.childNodes[g.focusOffset];x&&x.contentEditable=="false"&&(s=!0)}if(!(s||y&&bt)&&Oi(f.node,f.offset,g.anchorNode,g.anchorOffset)&&Oi(d.node,d.offset,g.focusNode,g.focusOffset))return;let b=!1;if((p.extend||e==t)&&!y){p.collapse(f.node,f.offset);try{e!=t&&p.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>t){let S=f;f=d,d=S}let x=document.createRange();x.setEnd(d.node,d.offset),x.setStart(f.node,f.offset),p.removeAllRanges(),p.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,s=0;s<this.children.length;s++){let a=this.children[s],u=r+a.size;if(r==u?e<=u&&t>=r:e<u&&t>r){let f=r+a.border,d=u-a.border;if(e>=f&&t<=d){this.dirty=e==r||t==u?pi:ob,e==f&&t==d&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Cn:a.markDirty(e-f,t-f);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?pi:Cn}r=u}this.dirty=pi}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?pi:ob;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class RS extends ga{constructor(e,t,r,s){let a,u=t.type.toDOM;if(typeof u=="function"&&(u=u(r,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)})),!t.type.spec.raw){if(u.nodeType!=1){let f=document.createElement("span");f.appendChild(u),u=f}u.contentEditable="false",u.classList.add("ProseMirror-widget")}super(e,[],u,null),this.widget=t,this.widget=t,a=this}matchesWidget(e){return this.dirty==ln&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class gA extends ga{constructor(e,t,r,s){super(e,[],t,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ci extends ga{constructor(e,t,r,s,a){super(e,[],r,s),this.mark=t,this.spec=a}static create(e,t,r,s){let a=s.nodeViews[t.type.name],u=a&&a(t,s,r);return(!u||!u.dom)&&(u=ki.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Ci(e,t,u.dom,u.contentDOM||u.dom,u)}parseRule(){return this.dirty&Cn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Cn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=ln){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ln}}slice(e,t,r){let s=Ci.create(this.parent,this.mark,!0,r),a=this.children,u=this.size;t<u&&(a=ph(a,t,u,r)),e>0&&(a=ph(a,0,e,r));for(let f=0;f<a.length;f++)a[f].parent=s;return s.children=a,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ur extends ga{constructor(e,t,r,s,a,u,f,d,p){super(e,[],a,u),this.node=t,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=f}static create(e,t,r,s,a,u){let f=a.nodeViews[t.type.name],d,p=f&&f(t,a,()=>{if(!d)return u;if(d.parent)return d.parent.posBeforeChild(d)},r,s),g=p&&p.dom,y=p&&p.contentDOM;if(t.isText){if(!g)g=document.createTextNode(t.text);else if(g.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else g||({dom:g,contentDOM:y}=ki.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!y&&!t.isText&&g.nodeName!="BR"&&(g.hasAttribute("contenteditable")||(g.contentEditable="false"),t.type.spec.draggable&&(g.draggable=!0));let b=g;return g=LS(g,r,t),p?d=new yA(e,t,r,s,g,y||null,b,p,a,u+1):t.isText?new Lu(e,t,r,s,g,b,a):new Ur(e,t,r,s,g,y||null,b,a,u+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>F.empty)}return e}matchesNode(e,t,r){return this.dirty==ln&&e.eq(this.node)&&cu(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,s=t,a=e.composing?this.localCompositionInfo(e,t):null,u=a&&a.pos>-1?a:null,f=a&&a.pos<0,d=new SA(this,u&&u.node,e);wA(this.node,this.innerDeco,(p,g,y)=>{p.spec.marks?d.syncToMarks(p.spec.marks,r,e):p.type.side>=0&&!y&&d.syncToMarks(g==this.node.childCount?Oe.none:this.node.child(g).marks,r,e),d.placeWidget(p,e,s)},(p,g,y,b)=>{d.syncToMarks(p.marks,r,e);let x;d.findNodeMatch(p,g,y,b)||f&&e.state.selection.from>s&&e.state.selection.to<s+p.nodeSize&&(x=d.findIndexWithChild(a.node))>-1&&d.updateNodeAt(p,g,y,x,e)||d.updateNextNode(p,g,y,e,b,s)||d.addNode(p,g,y,e,s),s+=p.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==pi)&&(u&&this.protectLocalComposition(e,u),zS(this.contentDOM,this.children,e),Ol&&EA(this.dom))}localCompositionInfo(e,t){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof le)||r<t||s>t+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let u=a.nodeValue,f=TA(this.node.content,u,r-t,s-t);return f<0?null:{node:a,pos:f,text:u}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:s}){if(this.getDesc(t))return;let a=t;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let u=new gA(this,a,t,s);e.input.compositionNodes.push(u),this.children=ph(this.children,r,r+s.length,e,u)}update(e,t,r,s){return this.dirty==Cn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,s),!0)}updateInner(e,t,r,s){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=ln}updateOuterDeco(e){if(cu(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=BS(this.dom,this.nodeDOM,hh(this.outerDeco,this.node,t),hh(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function ub(n,e,t,r,s){LS(r,e,n);let a=new Ur(void 0,n,e,t,r,r,r,s,0);return a.contentDOM&&a.updateChildren(s,0),a}class Lu extends Ur{constructor(e,t,r,s,a,u,f){super(e,t,r,s,a,null,u,f,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,s){return this.dirty==Cn||this.dirty!=ln&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=ln||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=ln,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let s=this.node.cut(e,t),a=document.createTextNode(s.text);return new Lu(this.parent,s,this.outerDeco,this.innerDeco,a,a,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Cn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class DS extends ga{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ln&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class yA extends Ur{constructor(e,t,r,s,a,u,f,d,p,g){super(e,t,r,s,a,u,f,p,g),this.spec=d}update(e,t,r,s){if(this.dirty==Cn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,t,r);return a&&this.updateInner(e,t,r,s),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,s){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function zS(n,e,t){let r=n.firstChild,s=!1;for(let a=0;a<e.length;a++){let u=e[a],f=u.dom;if(f.parentNode==n){for(;f!=r;)r=cb(r),s=!0;r=r.nextSibling}else s=!0,n.insertBefore(f,r);if(u instanceof Ci){let d=r?r.previousSibling:n.lastChild;zS(u.contentDOM,u.children,t),r=d?d.nextSibling:n.firstChild}}for(;r;)r=cb(r),s=!0;s&&t.trackWrites==n&&(t.trackWrites=null)}const Gs=function(n){n&&(this.nodeName=n)};Gs.prototype=Object.create(null);const mi=[new Gs];function hh(n,e,t){if(n.length==0)return mi;let r=t?mi[0]:new Gs,s=[r];for(let a=0;a<n.length;a++){let u=n[a].type.attrs;if(u){u.nodeName&&s.push(r=new Gs(u.nodeName));for(let f in u){let d=u[f];d!=null&&(t&&s.length==1&&s.push(r=new Gs(e.isInline?"span":"div")),f=="class"?r.class=(r.class?r.class+" ":"")+d:f=="style"?r.style=(r.style?r.style+";":"")+d:f!="nodeName"&&(r[f]=d))}}}return s}function BS(n,e,t,r){if(t==mi&&r==mi)return e;let s=e;for(let a=0;a<r.length;a++){let u=r[a],f=t[a];if(a){let d;f&&f.nodeName==u.nodeName&&s!=n&&(d=s.parentNode)&&d.nodeName.toLowerCase()==u.nodeName||(d=document.createElement(u.nodeName),d.pmIsDeco=!0,d.appendChild(s),f=mi[0]),s=d}bA(s,f||mi[0],u)}return s}function bA(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=t.class?t.class.split(" ").filter(Boolean):[];for(let a=0;a<r.length;a++)s.indexOf(r[a])==-1&&n.classList.remove(r[a]);for(let a=0;a<s.length;a++)r.indexOf(s[a])==-1&&n.classList.add(s[a]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)n.style.removeProperty(s[1])}t.style&&(n.style.cssText+=t.style)}}function LS(n,e,t){return BS(n,n,mi,hh(e,t,n.nodeType!=1))}function cu(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function cb(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class SA{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=xA(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let s=0,a=this.stack.length>>1,u=Math.min(a,e.length);for(;s<u&&(s==a-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<a;)this.destroyRest(),this.top.dirty=ln,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let f=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let p=this.top.children[d];if(p.matchesMark(e[a])&&!this.isLocked(p.dom)){f=d;break}}if(f>-1)f>this.index&&(this.changed=!0,this.destroyBetween(this.index,f)),this.top=this.top.children[this.index];else{let d=Ci.create(this.top,e[a],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,a++}}findNodeMatch(e,t,r,s){let a=-1,u;if(s>=this.preMatch.index&&(u=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&u.matchesNode(e,t,r))a=this.top.children.indexOf(u,this.index);else for(let f=this.index,d=Math.min(this.top.children.length,f+5);f<d;f++){let p=this.top.children[f];if(p.matchesNode(e,t,r)&&!this.preMatch.matched.has(p)){a=f;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,t,r,s,a){let u=this.top.children[s];return u.dirty==Cn&&u.dom==u.contentDOM&&(u.dirty=pi),u.update(e,t,r,a)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=t}}updateNextNode(e,t,r,s,a,u){for(let f=this.index;f<this.top.children.length;f++){let d=this.top.children[f];if(d instanceof Ur){let p=this.preMatch.matched.get(d);if(p!=null&&p!=a)return!1;let g=d.dom,y,b=this.isLocked(g)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Cn&&cu(t,d.outerDeco));if(!b&&d.update(e,t,r,s))return this.destroyBetween(this.index,f),d.dom!=g&&(this.changed=!0),this.index++,!0;if(!b&&(y=this.recreateWrapper(d,e,t,r,s,u)))return this.destroyBetween(this.index,f),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=pi,y.updateChildren(s,u+1),y.dirty=ln),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,s,a,u){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!cu(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let f=Ur.create(this.top,t,r,s,a,u);if(f.contentDOM){f.children=e.children,e.children=[];for(let d of f.children)d.parent=f}return e.destroy(),f}addNode(e,t,r,s,a){let u=Ur.create(this.top,e,t,r,s,a);u.contentDOM&&u.updateChildren(s,a+1),this.top.children.splice(this.index++,0,u),this.changed=!0}placeWidget(e,t,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let a=new RS(this.top,e,t,r);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Ci;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Lu)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((bt||ht)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new DS(this.top,[],r,null);t!=this.top?t.children.push(s):t.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function xA(n,e){let t=e,r=t.children.length,s=n.childCount,a=new Map,u=[];e:for(;s>0;){let f;for(;;)if(r){let p=t.children[r-1];if(p instanceof Ci)t=p,r=p.children.length;else{f=p,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let d=f.node;if(d){if(d!=n.child(s-1))break;--s,a.set(f,s),u.push(f)}}return{index:s,matched:a,matches:u.reverse()}}function vA(n,e){return n.type.side-e.type.side}function wA(n,e,t,r){let s=e.locals(n),a=0;if(s.length==0){for(let p=0;p<n.childCount;p++){let g=n.child(p);r(g,s,e.forChild(a,g),p),a+=g.nodeSize}return}let u=0,f=[],d=null;for(let p=0;;){let g,y;for(;u<s.length&&s[u].to==a;){let T=s[u++];T.widget&&(g?(y||(y=[g])).push(T):g=T)}if(g)if(y){y.sort(vA);for(let T=0;T<y.length;T++)t(y[T],p,!!d)}else t(g,p,!!d);let b,x;if(d)x=-1,b=d,d=null;else if(p<n.childCount)x=p,b=n.child(p++);else break;for(let T=0;T<f.length;T++)f[T].to<=a&&f.splice(T--,1);for(;u<s.length&&s[u].from<=a&&s[u].to>a;)f.push(s[u++]);let S=a+b.nodeSize;if(b.isText){let T=S;u<s.length&&s[u].from<T&&(T=s[u].from);for(let O=0;O<f.length;O++)f[O].to<T&&(T=f[O].to);T<S&&(d=b.cut(T-a),b=b.cut(0,T-a),S=T,x=-1)}else for(;u<s.length&&s[u].to<S;)u++;let w=b.isInline&&!b.isLeaf?f.filter(T=>!T.inline):f.slice();r(b,w,e.forChild(a,b),x),a=S}}function EA(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function TA(n,e,t,r){for(let s=0,a=0;s<n.childCount&&a<=r;){let u=n.child(s++),f=a;if(a+=u.nodeSize,!u.isText)continue;let d=u.text;for(;s<n.childCount;){let p=n.child(s++);if(a+=p.nodeSize,!p.isText)break;d+=p.text}if(a>=t){if(a>=r&&d.slice(r-e.length-f,r-f)==e)return r-e.length;let p=f<r?d.lastIndexOf(e,r-f-1):-1;if(p>=0&&p+e.length+f>=t)return f+p;if(t==r&&d.length>=r+e.length-f&&d.slice(r-f,r-f+e.length)==e)return r}}return-1}function ph(n,e,t,r,s){let a=[];for(let u=0,f=0;u<n.length;u++){let d=n[u],p=f,g=f+=d.size;p>=t||g<=e?a.push(d):(p<e&&a.push(d.slice(0,e-p,r)),s&&(a.push(s),s=void 0),g>t&&a.push(d.slice(t-p,d.size,r)))}return a}function Uh(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let s=n.docView.nearestDesc(t.focusNode),a=s&&s.size==0,u=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(u<0)return null;let f=r.resolve(u),d,p;if(Bu(t)){for(d=u;s&&!s.node;)s=s.parent;let y=s.node;if(s&&y.isAtom&&ee.isSelectable(y)&&s.parent&&!(y.isInline&&Jk(t.focusNode,t.focusOffset,s.dom))){let b=s.posBefore;p=new ee(u==b?f:r.resolve(b))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let y=u,b=u;for(let x=0;x<t.rangeCount;x++){let S=t.getRangeAt(x);y=Math.min(y,n.docView.posFromDOM(S.startContainer,S.startOffset,1)),b=Math.max(b,n.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(y<0)return null;[d,u]=b==n.state.selection.anchor?[b,y]:[y,b],f=r.resolve(u)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let g=r.resolve(d);if(!p){let y=e=="pointer"||n.state.selection.head<f.pos&&!a?1:-1;p=Hh(n,g,f,y)}return p}function jS(n){return n.editable?n.hasFocus():US(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Wn(n,e=!1){let t=n.state.selection;if(_S(n,t),!!jS(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&ht){let r=n.domSelectionRange(),s=n.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Oi(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)OA(n);else{let{anchor:r,head:s}=t,a,u;fb&&!(t instanceof le)&&(t.$from.parent.inlineContent||(a=db(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(u=db(n,t.to))),n.docView.setSelection(r,s,n,e),fb&&(a&&hb(a),u&&hb(u)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&MA(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const fb=bt||ht&&TS<63;function db(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),s=r<t.childNodes.length?t.childNodes[r]:null,a=r?t.childNodes[r-1]:null;if(bt&&s&&s.contentEditable=="false")return Ad(s);if((!s||s.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(s)return Ad(s);if(a)return Ad(a)}}function Ad(n){return n.contentEditable="true",bt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function hb(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function MA(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,s=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=s)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!jS(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function OA(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,s=r.nodeName=="IMG";s?t.setStart(r.parentNode,lt(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!s&&!n.state.selection.visible&&Dt&&_r<=11&&(r.disabled=!0,r.disabled=!1)}function _S(n,e){if(e instanceof ee){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(pb(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else pb(n)}function pb(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Hh(n,e,t,r){return n.someProp("createSelectionBetween",s=>s(n,e,t))||le.between(e,t,r)}function mb(n){return n.editable&&!n.hasFocus()?!1:US(n)}function US(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function CA(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Oi(e.node,e.offset,t.anchorNode,t.anchorOffset)}function mh(n,e){let{$anchor:t,$head:r}=n.selection,s=e>0?t.max(r):t.min(r),a=s.parent.inlineContent?s.depth?n.doc.resolve(e>0?s.after():s.before()):null:s;return a&&ae.findFrom(a,e)}function Ar(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function gb(n,e,t){let r=n.state.selection;if(r instanceof le)if(t.indexOf("s")>-1){let{$head:s}=r,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let u=n.state.doc.resolve(s.pos+a.nodeSize*(e<0?-1:1));return Ar(n,new le(r.$anchor,u))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let s=mh(n.state,e);return s&&s instanceof ee?Ar(n,s):!1}else if(!(tn&&t.indexOf("m")>-1)){let s=r.$head,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,u;if(!a||a.isText)return!1;let f=e<0?s.pos-a.nodeSize:s.pos;return a.isAtom||(u=n.docView.descAt(f))&&!u.contentDOM?ee.isSelectable(a)?Ar(n,new ee(e<0?n.state.doc.resolve(s.pos-a.nodeSize):s)):ma?Ar(n,new le(n.state.doc.resolve(e<0?f:f+a.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ee&&r.node.isInline)return Ar(n,new le(e>0?r.$to:r.$from));{let s=mh(n.state,e);return s?Ar(n,s):!1}}}function fu(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Ks(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function yl(n,e){return e<0?kA(n):AA(n)}function kA(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s,a,u=!1;for(dn&&t.nodeType==1&&r<fu(t)&&Ks(t.childNodes[r],-1)&&(u=!0);;)if(r>0){if(t.nodeType!=1)break;{let f=t.childNodes[r-1];if(Ks(f,-1))s=t,a=--r;else if(f.nodeType==3)t=f,r=t.nodeValue.length;else break}}else{if(HS(t))break;{let f=t.previousSibling;for(;f&&Ks(f,-1);)s=t.parentNode,a=lt(f),f=f.previousSibling;if(f)t=f,r=fu(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}u?gh(n,t,r):s&&gh(n,s,a)}function AA(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s=fu(t),a,u;for(;;)if(r<s){if(t.nodeType!=1)break;let f=t.childNodes[r];if(Ks(f,1))a=t,u=++r;else break}else{if(HS(t))break;{let f=t.nextSibling;for(;f&&Ks(f,1);)a=f.parentNode,u=lt(f)+1,f=f.nextSibling;if(f)t=f,r=0,s=fu(t);else{if(t=t.parentNode,t==n.dom)break;r=s=0}}}a&&gh(n,a,u)}function HS(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function NA(n,e){for(;n&&e==n.childNodes.length&&!pa(n);)e=lt(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function RA(n,e){for(;n&&!e&&!pa(n);)e=lt(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function gh(n,e,t){if(e.nodeType!=3){let a,u;(u=NA(e,t))?(e=u,t=0):(a=RA(e,t))&&(e=a,t=a.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Bu(r)){let a=document.createRange();a.setEnd(e,t),a.setStart(e,t),r.removeAllRanges(),r.addRange(a)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:s}=n;setTimeout(()=>{n.state==s&&Wn(n)},50)}function yb(n,e){let t=n.state.doc.resolve(e);if(!(ht||Zk)&&t.parent.inlineContent){let s=n.coordsAtPos(e);if(e>t.start()){let a=n.coordsAtPos(e-1),u=(a.top+a.bottom)/2;if(u>s.top&&u<s.bottom&&Math.abs(a.left-s.left)>1)return a.left<s.left?"ltr":"rtl"}if(e<t.end()){let a=n.coordsAtPos(e+1),u=(a.top+a.bottom)/2;if(u>s.top&&u<s.bottom&&Math.abs(a.left-s.left)>1)return a.left>s.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function bb(n,e,t){let r=n.state.selection;if(r instanceof le&&!r.empty||t.indexOf("s")>-1||tn&&t.indexOf("m")>-1)return!1;let{$from:s,$to:a}=r;if(!s.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let u=mh(n.state,e);if(u&&u instanceof ee)return Ar(n,u)}if(!s.parent.inlineContent){let u=e<0?s:a,f=r instanceof It?ae.near(u,e):ae.findFrom(u,e);return f?Ar(n,f):!1}return!1}function Sb(n,e){if(!(n.state.selection instanceof le))return!0;let{$head:t,$anchor:r,empty:s}=n.state.selection;if(!t.sameParent(r))return!0;if(!s)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(a&&!a.isText){let u=n.state.tr;return e<0?u.delete(t.pos-a.nodeSize,t.pos):u.delete(t.pos,t.pos+a.nodeSize),n.dispatch(u),!0}return!1}function xb(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function DA(n){if(!bt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;xb(n,r,"true"),setTimeout(()=>xb(n,r,"false"),20)}return!1}function zA(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function BA(n,e){let t=e.keyCode,r=zA(e);if(t==8||tn&&t==72&&r=="c")return Sb(n,-1)||yl(n,-1);if(t==46&&!e.shiftKey||tn&&t==68&&r=="c")return Sb(n,1)||yl(n,1);if(t==13||t==27)return!0;if(t==37||tn&&t==66&&r=="c"){let s=t==37?yb(n,n.state.selection.from)=="ltr"?-1:1:-1;return gb(n,s,r)||yl(n,s)}else if(t==39||tn&&t==70&&r=="c"){let s=t==39?yb(n,n.state.selection.from)=="ltr"?1:-1:1;return gb(n,s,r)||yl(n,s)}else{if(t==38||tn&&t==80&&r=="c")return bb(n,-1,r)||yl(n,-1);if(t==40||tn&&t==78&&r=="c")return DA(n)||bb(n,1,r)||yl(n,1);if(r==(tn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function qh(n,e){n.someProp("transformCopied",x=>{e=x(e,n)});let t=[],{content:r,openStart:s,openEnd:a}=e;for(;s>1&&a>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,a--;let x=r.firstChild;t.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),r=x.content}let u=n.someProp("clipboardSerializer")||ki.fromSchema(n.state.schema),f=YS(),d=f.createElement("div");d.appendChild(u.serializeFragment(r,{document:f}));let p=d.firstChild,g,y=0;for(;p&&p.nodeType==1&&(g=IS[p.nodeName.toLowerCase()]);){for(let x=g.length-1;x>=0;x--){let S=f.createElement(g[x]);for(;d.firstChild;)S.appendChild(d.firstChild);d.appendChild(S),y++}p=d.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${s} ${a}${y?` -${y}`:""} ${JSON.stringify(t)}`);let b=n.someProp("clipboardTextSerializer",x=>x(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function qS(n,e,t,r,s){let a=s.parent.type.spec.code,u,f;if(!t&&!e)return null;let d=e&&(r||a||!t);if(d){if(n.someProp("transformPastedText",b=>{e=b(e,a||r,n)}),a)return e?new K(F.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):K.empty;let y=n.someProp("clipboardTextParser",b=>b(e,s,r,n));if(y)f=y;else{let b=s.marks(),{schema:x}=n.state,S=ki.fromSchema(x);u=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let T=u.appendChild(document.createElement("p"));w&&T.appendChild(S.serializeNode(x.text(w,b)))})}}else n.someProp("transformPastedHTML",y=>{t=y(t,n)}),u=UA(t),ma&&HA(u);let p=u&&u.querySelector("[data-pm-slice]"),g=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(g&&g[3])for(let y=+g[3];y>0;y--){let b=u.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;u=b}if(f||(f=(n.someProp("clipboardParser")||n.someProp("domParser")||jr.fromSchema(n.state.schema)).parseSlice(u,{preserveWhitespace:!!(d||g),context:s,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!LA.test(b.parentNode.nodeName)?{ignore:!0}:null}})),g)f=qA(vb(f,+g[1],+g[2]),g[4]);else if(f=K.maxOpen(jA(f.content,s),!0),f.openStart||f.openEnd){let y=0,b=0;for(let x=f.content.firstChild;y<f.openStart&&!x.type.spec.isolating;y++,x=x.firstChild);for(let x=f.content.lastChild;b<f.openEnd&&!x.type.spec.isolating;b++,x=x.lastChild);f=vb(f,y,b)}return n.someProp("transformPasted",y=>{f=y(f,n)}),f}const LA=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function jA(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.index(t)),a,u=[];if(n.forEach(f=>{if(!u)return;let d=s.findWrapping(f.type),p;if(!d)return u=null;if(p=u.length&&a.length&&PS(d,a,f,u[u.length-1],0))u[u.length-1]=p;else{u.length&&(u[u.length-1]=FS(u[u.length-1],a.length));let g=VS(f,d);u.push(g),s=s.matchType(g.type),a=d}}),u)return F.from(u)}return n}function VS(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,F.from(n));return n}function PS(n,e,t,r,s){if(s<n.length&&s<e.length&&n[s]==e[s]){let a=PS(n,e,t,r.lastChild,s+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(s==n.length-1?t.type:n[s+1]))return r.copy(r.content.append(F.from(VS(t,n,s+1))))}}function FS(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,FS(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(F.empty,!0);return n.copy(t.append(r))}function yh(n,e,t,r,s,a){let u=e<0?n.firstChild:n.lastChild,f=u.content;return n.childCount>1&&(a=0),s<r-1&&(f=yh(f,e,t,r,s+1,a)),s>=t&&(f=e<0?u.contentMatchAt(0).fillBefore(f,a<=s).append(f):f.append(u.contentMatchAt(u.childCount).fillBefore(F.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,u.copy(f))}function vb(n,e,t){return e<n.openStart&&(n=new K(yh(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new K(yh(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const IS={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let wb=null;function YS(){return wb||(wb=document.implementation.createHTMLDocument("title"))}let Nd=null;function _A(n){let e=window.trustedTypes;return e?(Nd||(Nd=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Nd.createHTML(n)):n}function UA(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=YS().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),s;if((s=r&&IS[r[1].toLowerCase()])&&(n=s.map(a=>"<"+a+">").join("")+n+s.map(a=>"</"+a+">").reverse().join("")),t.innerHTML=_A(n),s)for(let a=0;a<s.length;a++)t=t.querySelector(s[a])||t;return t}function HA(n){let e=n.querySelectorAll(ht?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function qA(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:s,openStart:a,openEnd:u}=n;for(let f=r.length-2;f>=0;f-=2){let d=t.nodes[r[f]];if(!d||d.hasRequiredAttrs())break;s=F.from(d.create(r[f+1],s)),a++,u++}return new K(s,a,u)}const St={},xt={},VA={touchstart:!0,touchmove:!0};class PA{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function FA(n){for(let e in St){let t=St[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{YA(n,r)&&!Vh(n,r)&&(n.editable||!(r.type in xt))&&t(n,r)},VA[e]?{passive:!0}:void 0)}bt&&n.dom.addEventListener("input",()=>null),bh(n)}function Br(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function IA(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function bh(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Vh(n,r))})}function Vh(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function YA(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function $A(n,e){!Vh(n,e)&&St[e.type]&&(n.editable||!(e.type in xt))&&St[e.type](n,e)}xt.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!GS(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Xn&&ht&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Ol&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",s=>s(n,fi(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||BA(n,t)?t.preventDefault():Br(n,"key")};xt.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};xt.keypress=(n,e)=>{let t=e;if(GS(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||tn&&t.metaKey)return;if(n.someProp("handleKeyPress",s=>s(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof le)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(t.charCode),a=()=>n.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!n.someProp("handleTextInput",u=>u(n,r.$from.pos,r.$to.pos,s,a))&&n.dispatch(a()),t.preventDefault()}};function ju(n){return{left:n.clientX,top:n.clientY}}function GA(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function Ph(n,e,t,r,s){if(r==-1)return!1;let a=n.state.doc.resolve(r);for(let u=a.depth+1;u>0;u--)if(n.someProp(e,f=>u>a.depth?f(n,t,a.nodeAfter,a.before(u),s,!0):f(n,t,a.node(u),a.before(u),s,!1)))return!0;return!1}function El(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function KA(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&ee.isSelectable(r)?(El(n,new ee(t)),!0):!1}function XA(n,e){if(e==-1)return!1;let t=n.state.selection,r,s;t instanceof ee&&(r=t.node);let a=n.state.doc.resolve(e);for(let u=a.depth+1;u>0;u--){let f=u>a.depth?a.nodeAfter:a.node(u);if(ee.isSelectable(f)){r&&t.$from.depth>0&&u>=t.$from.depth&&a.before(t.$from.depth+1)==t.$from.pos?s=a.before(t.$from.depth):s=a.before(u);break}}return s!=null?(El(n,ee.create(n.state.doc,s)),!0):!1}function JA(n,e,t,r,s){return Ph(n,"handleClickOn",e,t,r)||n.someProp("handleClick",a=>a(n,e,r))||(s?XA(n,t):KA(n,t))}function QA(n,e,t,r){return Ph(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",s=>s(n,e,r))}function WA(n,e,t,r){return Ph(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",s=>s(n,e,r))||ZA(n,t,r)}function ZA(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(El(n,le.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let a=s.depth+1;a>0;a--){let u=a>s.depth?s.nodeAfter:s.node(a),f=s.before(a);if(u.inlineContent)El(n,le.create(r,f+1,f+1+u.content.size));else if(ee.isSelectable(u))El(n,ee.create(r,f));else continue;return!0}}function Fh(n){return du(n)}const $S=tn?"metaKey":"ctrlKey";St.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Fh(n),s=Date.now(),a="singleClick";s-n.input.lastClick.time<500&&GA(t,n.input.lastClick)&&!t[$S]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?a="doubleClick":n.input.lastClick.type=="doubleClick"&&(a="tripleClick")),n.input.lastClick={time:s,x:t.clientX,y:t.clientY,type:a,button:t.button};let u=n.posAtCoords(ju(t));u&&(a=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new eN(n,u,t,!!r)):(a=="doubleClick"?QA:WA)(n,u.pos,u.inside,t)?t.preventDefault():Br(n,"pointer"))};class eN{constructor(e,t,r,s){this.view=e,this.pos=t,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[$S],this.allowDefault=r.shiftKey;let a,u;if(t.inside>-1)a=e.state.doc.nodeAt(t.inside),u=t.inside;else{let g=e.state.doc.resolve(t.pos);a=g.parent,u=g.depth?g.before():0}const f=s?null:r.target,d=f?e.docView.nearestDesc(f,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:p}=e.state;(r.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||p instanceof ee&&p.from<=u&&p.to>u)&&(this.mightDrag={node:a,pos:u,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&dn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Br(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Wn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(ju(e))),this.updateAllowDefault(e),this.allowDefault||!t?Br(this.view,"pointer"):JA(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||bt&&this.mightDrag&&!this.mightDrag.node.isAtom||ht&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(El(this.view,ae.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Br(this.view,"pointer")}move(e){this.updateAllowDefault(e),Br(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}St.touchstart=n=>{n.input.lastTouch=Date.now(),Fh(n),Br(n,"pointer")};St.touchmove=n=>{n.input.lastTouch=Date.now(),Br(n,"pointer")};St.contextmenu=n=>Fh(n);function GS(n,e){return n.composing?!0:bt&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const tN=Xn?5e3:-1;xt.compositionstart=xt.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof le&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),du(n,!0),n.markCursor=null;else if(du(n,!e.selection.empty),dn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let s=r.focusNode,a=r.focusOffset;s&&s.nodeType==1&&a!=0;){let u=a<0?s.lastChild:s.childNodes[a-1];if(!u)break;if(u.nodeType==3){let f=n.domSelection();f&&f.collapse(u,u.nodeValue.length);break}else s=u,a=-1}}n.input.composing=!0}KS(n,tN)};xt.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,KS(n,20))};function KS(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>du(n),e))}function XS(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=rN());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function nN(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=Kk(e.focusNode,e.focusOffset),r=Xk(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let s=r.pmViewDesc,a=n.domObserver.lastChangedTextNode;if(t==a||r==a)return a;if(!s||!s.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let u=t.pmViewDesc;if(!(!u||!u.isText(t.nodeValue)))return r}}return t||r}function rN(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function du(n,e=!1){if(!(Xn&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),XS(n),e||n.docView&&n.docView.dirty){let t=Uh(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function iN(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const na=Dt&&_r<15||Ol&&eA<604;St.copy=xt.cut=(n,e)=>{let t=e,r=n.state.selection,s=t.type=="cut";if(r.empty)return;let a=na?null:t.clipboardData,u=r.content(),{dom:f,text:d}=qh(n,u);a?(t.preventDefault(),a.clearData(),a.setData("text/html",f.innerHTML),a.setData("text/plain",d)):iN(n,f),s&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function lN(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function sN(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?ra(n,r.value,null,s,e):ra(n,r.textContent,r.innerHTML,s,e)},50)}function ra(n,e,t,r,s){let a=qS(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,s,a||K.empty)))return!0;if(!a)return!1;let u=lN(a),f=u?n.state.tr.replaceSelectionWith(u,r):n.state.tr.replaceSelection(a);return n.dispatch(f.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function JS(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}xt.paste=(n,e)=>{let t=e;if(n.composing&&!Xn)return;let r=na?null:t.clipboardData,s=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&ra(n,JS(r),r.getData("text/html"),s,t)?t.preventDefault():sN(n,t)};class QS{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const aN=tn?"altKey":"ctrlKey";function WS(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[aN]}St.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let s=n.state.selection,a=s.empty?null:n.posAtCoords(ju(t)),u;if(!(a&&a.pos>=s.from&&a.pos<=(s instanceof ee?s.to-1:s.to))){if(r&&r.mightDrag)u=ee.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let y=n.docView.nearestDesc(t.target,!0);y&&y.node.type.spec.draggable&&y!=n.docView&&(u=ee.create(n.state.doc,y.posBefore))}}let f=(u||n.state.selection).content(),{dom:d,text:p,slice:g}=qh(n,f);(!t.dataTransfer.files.length||!ht||TS>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(na?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",na||t.dataTransfer.setData("text/plain",p),n.dragging=new QS(g,WS(n,t),u)};St.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};xt.dragover=xt.dragenter=(n,e)=>e.preventDefault();xt.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let s=n.posAtCoords(ju(t));if(!s)return;let a=n.state.doc.resolve(s.pos),u=r&&r.slice;u?n.someProp("transformPasted",S=>{u=S(u,n)}):u=qS(n,JS(t.dataTransfer),na?null:t.dataTransfer.getData("text/html"),!1,a);let f=!!(r&&WS(n,t));if(n.someProp("handleDrop",S=>S(n,t,u||K.empty,f))){t.preventDefault();return}if(!u)return;t.preventDefault();let d=u?gS(n.state.doc,a.pos,u):a.pos;d==null&&(d=a.pos);let p=n.state.tr;if(f){let{node:S}=r;S?S.replace(p):p.deleteSelection()}let g=p.mapping.map(d),y=u.openStart==0&&u.openEnd==0&&u.content.childCount==1,b=p.doc;if(y?p.replaceRangeWith(g,g,u.content.firstChild):p.replaceRange(g,g,u),p.doc.eq(b))return;let x=p.doc.resolve(g);if(y&&ee.isSelectable(u.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(u.content.firstChild))p.setSelection(new ee(x));else{let S=p.mapping.map(d);p.mapping.maps[p.mapping.maps.length-1].forEach((w,T,O,L)=>S=L),p.setSelection(Hh(n,x,p.doc.resolve(S)))}n.focus(),n.dispatch(p.setMeta("uiEvent","drop"))};St.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Wn(n)},20))};St.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};St.beforeinput=(n,e)=>{if(ht&&Xn&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",a=>a(n,fi(8,"Backspace")))))return;let{$cursor:s}=n.state.selection;s&&s.pos>0&&n.dispatch(n.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let n in xt)St[n]=xt[n];function ia(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class hu{constructor(e,t){this.toDOM=e,this.spec=t||xi,this.side=this.spec.side||0}map(e,t,r,s){let{pos:a,deleted:u}=e.mapResult(t.from+s,this.side<0?-1:1);return u?null:new rn(a-r,a-r,this)}valid(){return!0}eq(e){return this==e||e instanceof hu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ia(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Hr{constructor(e,t){this.attrs=e,this.spec=t||xi}map(e,t,r,s){let a=e.map(t.from+s,this.spec.inclusiveStart?-1:1)-r,u=e.map(t.to+s,this.spec.inclusiveEnd?1:-1)-r;return a>=u?null:new rn(a,u,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Hr&&ia(this.attrs,e.attrs)&&ia(this.spec,e.spec)}static is(e){return e.type instanceof Hr}destroy(){}}class Ih{constructor(e,t){this.attrs=e,this.spec=t||xi}map(e,t,r,s){let a=e.mapResult(t.from+s,1);if(a.deleted)return null;let u=e.mapResult(t.to+s,-1);return u.deleted||u.pos<=a.pos?null:new rn(a.pos-r,u.pos-r,this)}valid(e,t){let{index:r,offset:s}=e.content.findIndex(t.from),a;return s==t.from&&!(a=e.child(r)).isText&&s+a.nodeSize==t.to}eq(e){return this==e||e instanceof Ih&&ia(this.attrs,e.attrs)&&ia(this.spec,e.spec)}destroy(){}}class rn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new rn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new rn(e,e,new hu(t,r))}static inline(e,t,r,s){return new rn(e,t,new Hr(r,s))}static node(e,t,r,s){return new rn(e,t,new Ih(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Hr}get widget(){return this.type instanceof hu}}const Sl=[],xi={};class Ye{constructor(e,t){this.local=e.length?e:Sl,this.children=t.length?t:Sl}static create(e,t){return t.length?pu(t,e,0,xi):ct}find(e,t,r){let s=[];return this.findInner(e??0,t??1e9,s,0,r),s}findInner(e,t,r,s,a){for(let u=0;u<this.local.length;u++){let f=this.local[u];f.from<=t&&f.to>=e&&(!a||a(f.spec))&&r.push(f.copy(f.from+s,f.to+s))}for(let u=0;u<this.children.length;u+=3)if(this.children[u]<t&&this.children[u+1]>e){let f=this.children[u]+1;this.children[u+2].findInner(e-f,t-f,r,s+f,a)}}map(e,t,r){return this==ct||e.maps.length==0?this:this.mapInner(e,t,0,0,r||xi)}mapInner(e,t,r,s,a){let u;for(let f=0;f<this.local.length;f++){let d=this.local[f].map(e,r,s);d&&d.type.valid(t,d)?(u||(u=[])).push(d):a.onRemove&&a.onRemove(this.local[f].spec)}return this.children.length?oN(this.children,u||[],e,t,r,s,a):u?new Ye(u.sort(vi),Sl):ct}add(e,t){return t.length?this==ct?Ye.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let s,a=0;e.forEach((f,d)=>{let p=d+r,g;if(g=ex(t,f,p)){for(s||(s=this.children.slice());a<s.length&&s[a]<d;)a+=3;s[a]==d?s[a+2]=s[a+2].addInner(f,g,p+1):s.splice(a,0,d,d+f.nodeSize,pu(g,f,p+1,xi)),a+=3}});let u=ZS(a?tx(t):t,-r);for(let f=0;f<u.length;f++)u[f].type.valid(e,u[f])||u.splice(f--,1);return new Ye(u.length?this.local.concat(u).sort(vi):this.local,s||this.children)}remove(e){return e.length==0||this==ct?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,s=this.local;for(let a=0;a<r.length;a+=3){let u,f=r[a]+t,d=r[a+1]+t;for(let g=0,y;g<e.length;g++)(y=e[g])&&y.from>f&&y.to<d&&(e[g]=null,(u||(u=[])).push(y));if(!u)continue;r==this.children&&(r=this.children.slice());let p=r[a+2].removeInner(u,f+1);p!=ct?r[a+2]=p:(r.splice(a,3),a-=3)}if(s.length){for(let a=0,u;a<e.length;a++)if(u=e[a])for(let f=0;f<s.length;f++)s[f].eq(u,t)&&(s==this.local&&(s=this.local.slice()),s.splice(f--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Ye(s,r):ct}forChild(e,t){if(this==ct)return this;if(t.isLeaf)return Ye.empty;let r,s;for(let f=0;f<this.children.length;f+=3)if(this.children[f]>=e){this.children[f]==e&&(r=this.children[f+2]);break}let a=e+1,u=a+t.content.size;for(let f=0;f<this.local.length;f++){let d=this.local[f];if(d.from<u&&d.to>a&&d.type instanceof Hr){let p=Math.max(a,d.from)-a,g=Math.min(u,d.to)-a;p<g&&(s||(s=[])).push(d.copy(p,g))}}if(s){let f=new Ye(s.sort(vi),Sl);return r?new Rr([f,r]):f}return r||ct}eq(e){if(this==e)return!0;if(!(e instanceof Ye)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Yh(this.localsInner(e))}localsInner(e){if(this==ct)return Sl;if(e.inlineContent||!this.local.some(Hr.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Hr||t.push(this.local[r]);return t}forEachSet(e){e(this)}}Ye.empty=new Ye([],[]);Ye.removeOverlap=Yh;const ct=Ye.empty;class Rr{constructor(e){this.members=e}map(e,t){const r=this.members.map(s=>s.map(e,t,xi));return Rr.from(r)}forChild(e,t){if(t.isLeaf)return Ye.empty;let r=[];for(let s=0;s<this.members.length;s++){let a=this.members[s].forChild(e,t);a!=ct&&(a instanceof Rr?r=r.concat(a.members):r.push(a))}return Rr.from(r)}eq(e){if(!(e instanceof Rr)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let s=0;s<this.members.length;s++){let a=this.members[s].localsInner(e);if(a.length)if(!t)t=a;else{r&&(t=t.slice(),r=!1);for(let u=0;u<a.length;u++)t.push(a[u])}}return t?Yh(r?t:t.sort(vi)):Sl}static from(e){switch(e.length){case 0:return ct;case 1:return e[0];default:return new Rr(e.every(t=>t instanceof Ye)?e:e.reduce((t,r)=>t.concat(r instanceof Ye?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function oN(n,e,t,r,s,a,u){let f=n.slice();for(let p=0,g=a;p<t.maps.length;p++){let y=0;t.maps[p].forEach((b,x,S,w)=>{let T=w-S-(x-b);for(let O=0;O<f.length;O+=3){let L=f[O+1];if(L<0||b>L+g-y)continue;let U=f[O]+g-y;x>=U?f[O+1]=b<=U?-2:-1:b>=g&&T&&(f[O]+=T,f[O+1]+=T)}y+=T}),g=t.maps[p].map(g,-1)}let d=!1;for(let p=0;p<f.length;p+=3)if(f[p+1]<0){if(f[p+1]==-2){d=!0,f[p+1]=-1;continue}let g=t.map(n[p]+a),y=g-s;if(y<0||y>=r.content.size){d=!0;continue}let b=t.map(n[p+1]+a,-1),x=b-s,{index:S,offset:w}=r.content.findIndex(y),T=r.maybeChild(S);if(T&&w==y&&w+T.nodeSize==x){let O=f[p+2].mapInner(t,T,g+1,n[p]+a+1,u);O!=ct?(f[p]=y,f[p+1]=x,f[p+2]=O):(f[p+1]=-2,d=!0)}else d=!0}if(d){let p=uN(f,n,e,t,s,a,u),g=pu(p,r,0,u);e=g.local;for(let y=0;y<f.length;y+=3)f[y+1]<0&&(f.splice(y,3),y-=3);for(let y=0,b=0;y<g.children.length;y+=3){let x=g.children[y];for(;b<f.length&&f[b]<x;)b+=3;f.splice(b,0,g.children[y],g.children[y+1],g.children[y+2])}}return new Ye(e.sort(vi),f)}function ZS(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let s=n[r];t.push(new rn(s.from+e,s.to+e,s.type))}return t}function uN(n,e,t,r,s,a,u){function f(d,p){for(let g=0;g<d.local.length;g++){let y=d.local[g].map(r,s,p);y?t.push(y):u.onRemove&&u.onRemove(d.local[g].spec)}for(let g=0;g<d.children.length;g+=3)f(d.children[g+2],d.children[g]+p+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&f(n[d+2],e[d]+a+1);return t}function ex(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,s=null;for(let a=0,u;a<n.length;a++)(u=n[a])&&u.from>t&&u.to<r&&((s||(s=[])).push(u),n[a]=null);return s}function tx(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function pu(n,e,t,r){let s=[],a=!1;e.forEach((f,d)=>{let p=ex(n,f,d+t);if(p){a=!0;let g=pu(p,f,t+d+1,r);g!=ct&&s.push(d,d+f.nodeSize,g)}});let u=ZS(a?tx(n):n,-t).sort(vi);for(let f=0;f<u.length;f++)u[f].type.valid(e,u[f])||(r.onRemove&&r.onRemove(u[f].spec),u.splice(f--,1));return u.length||s.length?new Ye(u,s):ct}function vi(n,e){return n.from-e.from||n.to-e.to}function Yh(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let s=t+1;s<e.length;s++){let a=e[s];if(a.from==r.from){a.to!=r.to&&(e==n&&(e=n.slice()),e[s]=a.copy(a.from,r.to),Eb(e,s+1,a.copy(r.to,a.to)));continue}else{a.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,a.from),Eb(e,s,r.copy(a.from,r.to)));break}}}return e}function Eb(n,e,t){for(;e<n.length&&vi(t,n[e])>0;)e++;n.splice(e,0,t)}function Rd(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=ct&&e.push(r)}),n.cursorWrapper&&e.push(Ye.create(n.state.doc,[n.cursorWrapper.deco])),Rr.from(e)}const cN={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},fN=Dt&&_r<=11;class dN{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class hN{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new dN,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Dt&&_r<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),fN&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,cN)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(mb(this.view)){if(this.suppressingSelectionUpdates)return Wn(this.view);if(Dt&&_r<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Oi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let a=e.focusNode;a;a=Ml(a))t.add(a);for(let a=e.anchorNode;a;a=Ml(a))if(t.has(a)){r=a;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&mb(e)&&!this.ignoreSelectionChange(r),a=-1,u=-1,f=!1,d=[];if(e.editable)for(let g=0;g<t.length;g++){let y=this.registerMutation(t[g],d);y&&(a=a<0?y.from:Math.min(y.from,a),u=u<0?y.to:Math.max(y.to,u),y.typeOver&&(f=!0))}if(dn&&d.length){let g=d.filter(y=>y.nodeName=="BR");if(g.length==2){let[y,b]=g;y.parentNode&&y.parentNode.parentNode==b.parentNode?b.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let b of g){let x=b.parentNode;x&&x.nodeName=="LI"&&(!y||gN(e,y)!=x)&&b.remove()}}}let p=null;a<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Bu(r)&&(p=Uh(e))&&p.eq(ae.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Wn(e),this.currentSelection.set(r),e.scrollToSelection()):(a>-1||s)&&(a>-1&&(e.docView.markDirty(a,u),pN(e)),this.handleDOMChange(a,u,f,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Wn(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let g=0;g<e.addedNodes.length;g++){let y=e.addedNodes[g];t.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,a=e.nextSibling;if(Dt&&_r<=11&&e.addedNodes.length)for(let g=0;g<e.addedNodes.length;g++){let{previousSibling:y,nextSibling:b}=e.addedNodes[g];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(s=y),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(a=b)}let u=s&&s.parentNode==e.target?lt(s)+1:0,f=r.localPosFromDOM(e.target,u,-1),d=a&&a.parentNode==e.target?lt(a):e.target.childNodes.length,p=r.localPosFromDOM(e.target,d,1);return{from:f,to:p}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Tb=new WeakMap,Mb=!1;function pN(n){if(!Tb.has(n)&&(Tb.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=dn,Mb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Mb=!0}}function Ob(n,e){let t=e.startContainer,r=e.startOffset,s=e.endContainer,a=e.endOffset,u=n.domAtPos(n.state.selection.anchor);return Oi(u.node,u.offset,s,a)&&([t,r,s,a]=[s,a,t,r]),{anchorNode:t,anchorOffset:r,focusNode:s,focusOffset:a}}function mN(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return Ob(n,s)}let t;function r(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?Ob(n,t):null}function gN(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function yN(n,e,t){let{node:r,fromOffset:s,toOffset:a,from:u,to:f}=n.docView.parseRange(e,t),d=n.domSelectionRange(),p,g=d.anchorNode;if(g&&n.dom.contains(g.nodeType==1?g:g.parentNode)&&(p=[{node:g,offset:d.anchorOffset}],Bu(d)||p.push({node:d.focusNode,offset:d.focusOffset})),ht&&n.input.lastKeyCode===8)for(let T=a;T>s;T--){let O=r.childNodes[T-1],L=O.pmViewDesc;if(O.nodeName=="BR"&&!L){a=T;break}if(!L||L.size)break}let y=n.state.doc,b=n.someProp("domParser")||jr.fromSchema(n.state.schema),x=y.resolve(u),S=null,w=b.parse(r,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:s,to:a,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:p,ruleFromNode:bN,context:x});if(p&&p[0].pos!=null){let T=p[0].pos,O=p[1]&&p[1].pos;O==null&&(O=T),S={anchor:T+u,head:O+u}}return{doc:w,sel:S,from:u,to:f}}function bN(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(bt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||bt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const SN=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function xN(n,e,t,r,s){let a=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let Y=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,$=Uh(n,Y);if($&&!n.state.selection.eq($)){if(ht&&Xn&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",Et=>Et(n,fi(13,"Enter"))))return;let he=n.state.tr.setSelection($);Y=="pointer"?he.setMeta("pointer",!0):Y=="key"&&he.scrollIntoView(),a&&he.setMeta("composition",a),n.dispatch(he)}return}let u=n.state.doc.resolve(e),f=u.sharedDepth(t);e=u.before(f+1),t=n.state.doc.resolve(t).after(f+1);let d=n.state.selection,p=yN(n,e,t),g=n.state.doc,y=g.slice(p.from,p.to),b,x;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(b=n.state.selection.to,x="end"):(b=n.state.selection.from,x="start"),n.input.lastKeyCode=null;let S=EN(y.content,p.doc.content,p.from,b,x);if(S&&n.input.domChangeCount++,(Ol&&n.input.lastIOSEnter>Date.now()-225||Xn)&&s.some(Y=>Y.nodeType==1&&!SN.test(Y.nodeName))&&(!S||S.endA>=S.endB)&&n.someProp("handleKeyDown",Y=>Y(n,fi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!S)if(r&&d instanceof le&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))S={start:d.from,endA:d.to,endB:d.to};else{if(p.sel){let Y=Cb(n,n.state.doc,p.sel);if(Y&&!Y.eq(n.state.selection)){let $=n.state.tr.setSelection(Y);a&&$.setMeta("composition",a),n.dispatch($)}}return}n.state.selection.from<n.state.selection.to&&S.start==S.endB&&n.state.selection instanceof le&&(S.start>n.state.selection.from&&S.start<=n.state.selection.from+2&&n.state.selection.from>=p.from?S.start=n.state.selection.from:S.endA<n.state.selection.to&&S.endA>=n.state.selection.to-2&&n.state.selection.to<=p.to&&(S.endB+=n.state.selection.to-S.endA,S.endA=n.state.selection.to)),Dt&&_r<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>p.from&&p.doc.textBetween(S.start-p.from-1,S.start-p.from+1)=="  "&&(S.start--,S.endA--,S.endB--);let w=p.doc.resolveNoCache(S.start-p.from),T=p.doc.resolveNoCache(S.endB-p.from),O=g.resolve(S.start),L=w.sameParent(T)&&w.parent.inlineContent&&O.end()>=S.endA,U;if((Ol&&n.input.lastIOSEnter>Date.now()-225&&(!L||s.some(Y=>Y.nodeName=="DIV"||Y.nodeName=="P"))||!L&&w.pos<p.doc.content.size&&(!w.sameParent(T)||!w.parent.inlineContent)&&!/\S/.test(p.doc.textBetween(w.pos,T.pos,"",""))&&(U=ae.findFrom(p.doc.resolve(w.pos+1),1,!0))&&U.head>w.pos)&&n.someProp("handleKeyDown",Y=>Y(n,fi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>S.start&&wN(g,S.start,S.endA,w,T)&&n.someProp("handleKeyDown",Y=>Y(n,fi(8,"Backspace")))){Xn&&ht&&n.domObserver.suppressSelectionUpdates();return}ht&&S.endB==S.start&&(n.input.lastChromeDelete=Date.now()),Xn&&!L&&w.start()!=T.start()&&T.parentOffset==0&&w.depth==T.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==S.endA&&(S.endB-=2,T=p.doc.resolveNoCache(S.endB-p.from),setTimeout(()=>{n.someProp("handleKeyDown",function(Y){return Y(n,fi(13,"Enter"))})},20));let I=S.start,j=S.endA,G=Y=>{let $=Y||n.state.tr.replace(I,j,p.doc.slice(S.start-p.from,S.endB-p.from));if(p.sel){let he=Cb(n,$.doc,p.sel);he&&!(ht&&n.composing&&he.empty&&(S.start!=S.endB||n.input.lastChromeDelete<Date.now()-100)&&(he.head==I||he.head==$.mapping.map(j)-1)||Dt&&he.empty&&he.head==I)&&$.setSelection(he)}return a&&$.setMeta("composition",a),$.scrollIntoView()},J;if(L){if(w.pos==T.pos){Dt&&_r<=11&&w.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Wn(n),20));let Y=G(n.state.tr.delete(I,j)),$=g.resolve(S.start).marksAcross(g.resolve(S.endA));$&&Y.ensureMarks($),n.dispatch(Y)}else if(S.endA==S.endB&&(J=vN(w.parent.content.cut(w.parentOffset,T.parentOffset),O.parent.content.cut(O.parentOffset,S.endA-O.start())))){let Y=G(n.state.tr);J.type=="add"?Y.addMark(I,j,J.mark):Y.removeMark(I,j,J.mark),n.dispatch(Y)}else if(w.parent.child(w.index()).isText&&w.index()==T.index()-(T.textOffset?0:1)){let Y=w.parent.textBetween(w.parentOffset,T.parentOffset),$=()=>G(n.state.tr.insertText(Y,I,j));n.someProp("handleTextInput",he=>he(n,I,j,Y,$))||n.dispatch($())}}else n.dispatch(G())}function Cb(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Hh(n,e.resolve(t.anchor),e.resolve(t.head))}function vN(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,s=t,a=r,u,f,d;for(let g=0;g<r.length;g++)s=r[g].removeFromSet(s);for(let g=0;g<t.length;g++)a=t[g].removeFromSet(a);if(s.length==1&&a.length==0)f=s[0],u="add",d=g=>g.mark(f.addToSet(g.marks));else if(s.length==0&&a.length==1)f=a[0],u="remove",d=g=>g.mark(f.removeFromSet(g.marks));else return null;let p=[];for(let g=0;g<e.childCount;g++)p.push(d(e.child(g)));if(F.from(p).eq(n))return{mark:f,type:u}}function wN(n,e,t,r,s){if(t-e<=s.pos-r.pos||Dd(r,!0,!1)<s.pos)return!1;let a=n.resolve(e);if(!r.parent.isTextblock){let f=a.nodeAfter;return f!=null&&t==e+f.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let u=n.resolve(Dd(a,!0,!0));return!u.parent.isTextblock||u.pos>t||Dd(u,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(u.parent.content)}function Dd(n,e,t){let r=n.depth,s=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,s++,e=!1;if(t){let a=n.node(r).maybeChild(n.indexAfter(r));for(;a&&!a.isLeaf;)a=a.firstChild,s++}return s}function EN(n,e,t,r,s){let a=n.findDiffStart(e,t);if(a==null)return null;let{a:u,b:f}=n.findDiffEnd(e,t+n.size,t+e.size);if(s=="end"){let d=Math.max(0,a-Math.min(u,f));r-=u+d-a}if(u<a&&n.size<e.size){let d=r<=a&&r>=u?a-r:0;a-=d,a&&a<e.size&&kb(e.textBetween(a-1,a+1))&&(a+=d?1:-1),f=a+(f-u),u=a}else if(f<a){let d=r<=a&&r>=f?a-r:0;a-=d,a&&a<n.size&&kb(n.textBetween(a-1,a+1))&&(a+=d?1:-1),u=a+(u-f),f=a}return{start:a,endA:u,endB:f}}function kb(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class nx{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new PA,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(zb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Rb(this),Nb(this),this.nodeViews=Db(this),this.docView=ub(this.state.doc,Ab(this),Rd(this),this.dom,this),this.domObserver=new hN(this,(r,s,a,u)=>xN(this,r,s,a,u)),this.domObserver.start(),FA(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&bh(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(zb),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let s=this.state,a=!1,u=!1;e.storedMarks&&this.composing&&(XS(this),u=!0),this.state=e;let f=s.plugins!=e.plugins||this._props.plugins!=t.plugins;if(f||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let x=Db(this);MN(x,this.nodeViews)&&(this.nodeViews=x,a=!0)}(f||t.handleDOMEvents!=this._props.handleDOMEvents)&&bh(this),this.editable=Rb(this),Nb(this);let d=Rd(this),p=Ab(this),g=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",y=a||!this.docView.matchesNode(e.doc,p,d);(y||!e.selection.eq(s.selection))&&(u=!0);let b=g=="preserve"&&u&&this.dom.style.overflowAnchor==null&&rA(this);if(u){this.domObserver.stop();let x=y&&(Dt||ht)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&TN(s.selection,e.selection);if(y){let S=ht?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=nN(this)),(a||!this.docView.update(e.doc,p,d,this))&&(this.docView.updateOuterDeco(p),this.docView.destroy(),this.docView=ub(e.doc,p,d,this.dom,this)),S&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&CA(this))?Wn(this,x):(_S(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),g=="reset"?this.dom.scrollTop=0:g=="to selection"?this.scrollToSelection():b&&iA(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ee){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&rb(this,t.getBoundingClientRect(),e)}else rb(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let a=r.from+(this.state.doc.content.size-t.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==r.node&&(s=a)}this.dragging=new QS(e.slice,e.move,s<0?void 0:ee.create(this.state.doc,s))}someProp(e,t){let r=this._props&&this._props[e],s;if(r!=null&&(s=t?t(r):r))return s;for(let u=0;u<this.directPlugins.length;u++){let f=this.directPlugins[u].props[e];if(f!=null&&(s=t?t(f):f))return s}let a=this.state.plugins;if(a)for(let u=0;u<a.length;u++){let f=a[u].props[e];if(f!=null&&(s=t?t(f):f))return s}}hasFocus(){if(Dt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&lA(this.dom),Wn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return cA(this,e)}coordsAtPos(e,t=1){return AS(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let s=this.docView.posFromDOM(e,t,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,t){return mA(this,t||this.state,e)}pasteHTML(e,t){return ra(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return ra(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return qh(this,e)}destroy(){this.docView&&(IA(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Rd(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,$k())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return $A(this,e)}domSelectionRange(){let e=this.domSelection();return e?bt&&this.root.nodeType===11&&Qk(this.dom.ownerDocument)==this.dom&&mN(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}nx.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function Ab(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[rn.node(0,n.state.doc.content.size,e)]}function Nb(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:rn.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Rb(n){return!n.someProp("editable",e=>e(n.state)===!1)}function TN(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function Db(n){let e=Object.create(null);function t(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function MN(n,e){let t=0,r=0;for(let s in n){if(n[s]!=e[s])return!0;t++}for(let s in e)r++;return t!=r}function zb(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Vr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},mu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ON=typeof navigator<"u"&&/Mac/.test(navigator.platform),CN=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var st=0;st<10;st++)Vr[48+st]=Vr[96+st]=String(st);for(var st=1;st<=24;st++)Vr[st+111]="F"+st;for(var st=65;st<=90;st++)Vr[st]=String.fromCharCode(st+32),mu[st]=String.fromCharCode(st);for(var zd in Vr)mu.hasOwnProperty(zd)||(mu[zd]=Vr[zd]);function kN(n){var e=ON&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||CN&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?mu:Vr)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const AN=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),NN=typeof navigator<"u"&&/Win/.test(navigator.platform);function RN(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,s,a,u;for(let f=0;f<e.length-1;f++){let d=e[f];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))AN?u=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(t="Alt-"+t),s&&(t="Ctrl-"+t),u&&(t="Meta-"+t),a&&(t="Shift-"+t),t}function DN(n){let e=Object.create(null);for(let t in n)e[RN(t)]=n[t];return e}function Bd(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function zN(n){return new zt({props:{handleKeyDown:rx(n)}})}function rx(n){let e=DN(n);return function(t,r){let s=kN(r),a,u=e[Bd(s,r)];if(u&&u(t.state,t.dispatch,t))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let f=e[Bd(s,r,!1)];if(f&&f(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(NN&&r.ctrlKey&&r.altKey)&&(a=Vr[r.keyCode])&&a!=s){let f=e[Bd(a,r)];if(f&&f(t.state,t.dispatch,t))return!0}}return!1}}const $h=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function ix(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const lx=(n,e,t)=>{let r=ix(n,t);if(!r)return!1;let s=Gh(r);if(!s){let u=r.blockRange(),f=u&&Bl(u);return f==null?!1:(e&&e(n.tr.lift(u,f).scrollIntoView()),!0)}let a=s.nodeBefore;if(px(n,s,e,-1))return!0;if(r.parent.content.size==0&&(Cl(a,"end")||ee.isSelectable(a)))for(let u=r.depth;;u--){let f=Du(n.doc,r.before(u),r.after(u),K.empty);if(f&&f.slice.size<f.to-f.from){if(e){let d=n.tr.step(f);d.setSelection(Cl(a,"end")?ae.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):ee.create(d.doc,s.pos-a.nodeSize)),e(d.scrollIntoView())}return!0}if(u==1||r.node(u-1).childCount>1)break}return a.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos-a.nodeSize,s.pos).scrollIntoView()),!0):!1},BN=(n,e,t)=>{let r=ix(n,t);if(!r)return!1;let s=Gh(r);return s?sx(n,s,e):!1},LN=(n,e,t)=>{let r=ox(n,t);if(!r)return!1;let s=Kh(r);return s?sx(n,s,e):!1};function sx(n,e,t){let r=e.nodeBefore,s=r,a=e.pos-1;for(;!s.isTextblock;a--){if(s.type.spec.isolating)return!1;let g=s.lastChild;if(!g)return!1;s=g}let u=e.nodeAfter,f=u,d=e.pos+1;for(;!f.isTextblock;d++){if(f.type.spec.isolating)return!1;let g=f.firstChild;if(!g)return!1;f=g}let p=Du(n.doc,a,d,K.empty);if(!p||p.from!=a||p instanceof Qe&&p.slice.size>=d-a)return!1;if(t){let g=n.tr.step(p);g.setSelection(le.create(g.doc,a)),t(g.scrollIntoView())}return!0}function Cl(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const ax=(n,e,t)=>{let{$head:r,empty:s}=n.selection,a=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;a=Gh(r)}let u=a&&a.nodeBefore;return!u||!ee.isSelectable(u)?!1:(e&&e(n.tr.setSelection(ee.create(n.doc,a.pos-u.nodeSize)).scrollIntoView()),!0)};function Gh(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function ox(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const ux=(n,e,t)=>{let r=ox(n,t);if(!r)return!1;let s=Kh(r);if(!s)return!1;let a=s.nodeAfter;if(px(n,s,e,1))return!0;if(r.parent.content.size==0&&(Cl(a,"start")||ee.isSelectable(a))){let u=Du(n.doc,r.before(),r.after(),K.empty);if(u&&u.slice.size<u.to-u.from){if(e){let f=n.tr.step(u);f.setSelection(Cl(a,"start")?ae.findFrom(f.doc.resolve(f.mapping.map(s.pos)),1):ee.create(f.doc,f.mapping.map(s.pos))),e(f.scrollIntoView())}return!0}}return a.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0):!1},cx=(n,e,t)=>{let{$head:r,empty:s}=n.selection,a=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;a=Kh(r)}let u=a&&a.nodeAfter;return!u||!ee.isSelectable(u)?!1:(e&&e(n.tr.setSelection(ee.create(n.doc,a.pos)).scrollIntoView()),!0)};function Kh(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const jN=(n,e)=>{let t=n.selection,r=t instanceof ee,s;if(r){if(t.node.isTextblock||!Fr(n.doc,t.from))return!1;s=t.from}else if(s=Ru(n.doc,t.from,-1),s==null)return!1;if(e){let a=n.tr.join(s);r&&a.setSelection(ee.create(a.doc,s-n.doc.resolve(s).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},_N=(n,e)=>{let t=n.selection,r;if(t instanceof ee){if(t.node.isTextblock||!Fr(n.doc,t.to))return!1;r=t.to}else if(r=Ru(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},UN=(n,e)=>{let{$from:t,$to:r}=n.selection,s=t.blockRange(r),a=s&&Bl(s);return a==null?!1:(e&&e(n.tr.lift(s,a).scrollIntoView()),!0)},fx=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Xh(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const HN=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let s=t.node(-1),a=t.indexAfter(-1),u=Xh(s.contentMatchAt(a));if(!u||!s.canReplaceWith(a,a,u))return!1;if(e){let f=t.after(),d=n.tr.replaceWith(f,f,u.createAndFill());d.setSelection(ae.near(d.doc.resolve(f),1)),e(d.scrollIntoView())}return!0},dx=(n,e)=>{let t=n.selection,{$from:r,$to:s}=t;if(t instanceof It||r.parent.inlineContent||s.parent.inlineContent)return!1;let a=Xh(s.parent.contentMatchAt(s.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let u=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,f=n.tr.insert(u,a.createAndFill());f.setSelection(le.create(f.doc,u+1)),e(f.scrollIntoView())}return!0},hx=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let a=t.before();if(Qn(n.doc,a))return e&&e(n.tr.split(a).scrollIntoView()),!0}let r=t.blockRange(),s=r&&Bl(r);return s==null?!1:(e&&e(n.tr.lift(r,s).scrollIntoView()),!0)};function qN(n){return(e,t)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof ee&&e.selection.node.isBlock)return!r.parentOffset||!Qn(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let a=[],u,f,d=!1,p=!1;for(let x=r.depth;;x--)if(r.node(x).isBlock){d=r.end(x)==r.pos+(r.depth-x),p=r.start(x)==r.pos-(r.depth-x),f=Xh(r.node(x-1).contentMatchAt(r.indexAfter(x-1))),a.unshift(d&&f?{type:f}:null),u=x;break}else{if(x==1)return!1;a.unshift(null)}let g=e.tr;(e.selection instanceof le||e.selection instanceof It)&&g.deleteSelection();let y=g.mapping.map(r.pos),b=Qn(g.doc,y,a.length,a);if(b||(a[0]=f?{type:f}:null,b=Qn(g.doc,y,a.length,a)),!b)return!1;if(g.split(y,a.length,a),!d&&p&&r.node(u).type!=f){let x=g.mapping.map(r.before(u)),S=g.doc.resolve(x);f&&r.node(u-1).canReplaceWith(S.index(),S.index()+1,f)&&g.setNodeMarkup(g.mapping.map(r.before(u)),f)}return t&&t(g.scrollIntoView()),!0}}const VN=qN(),PN=(n,e)=>{let{$from:t,to:r}=n.selection,s,a=t.sharedDepth(r);return a==0?!1:(s=t.before(a),e&&e(n.tr.setSelection(ee.create(n.doc,s))),!0)};function FN(n,e,t){let r=e.nodeBefore,s=e.nodeAfter,a=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(a-1,a)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(s.isTextblock||Fr(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function px(n,e,t,r){let s=e.nodeBefore,a=e.nodeAfter,u,f,d=s.type.spec.isolating||a.type.spec.isolating;if(!d&&FN(n,e,t))return!0;let p=!d&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(u=(f=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&f.matchType(u[0]||a.type).validEnd){if(t){let x=e.pos+a.nodeSize,S=F.empty;for(let O=u.length-1;O>=0;O--)S=F.from(u[O].create(null,S));S=F.from(s.copy(S));let w=n.tr.step(new We(e.pos-1,x,e.pos,x,new K(S,1,0),u.length,!0)),T=w.doc.resolve(x+2*u.length);T.nodeAfter&&T.nodeAfter.type==s.type&&Fr(w.doc,T.pos)&&w.join(T.pos),t(w.scrollIntoView())}return!0}let g=a.type.spec.isolating||r>0&&d?null:ae.findFrom(e,1),y=g&&g.$from.blockRange(g.$to),b=y&&Bl(y);if(b!=null&&b>=e.depth)return t&&t(n.tr.lift(y,b).scrollIntoView()),!0;if(p&&Cl(a,"start",!0)&&Cl(s,"end")){let x=s,S=[];for(;S.push(x),!x.isTextblock;)x=x.lastChild;let w=a,T=1;for(;!w.isTextblock;w=w.firstChild)T++;if(x.canReplace(x.childCount,x.childCount,w.content)){if(t){let O=F.empty;for(let U=S.length-1;U>=0;U--)O=F.from(S[U].copy(O));let L=n.tr.step(new We(e.pos-S.length,e.pos+a.nodeSize,e.pos+T,e.pos+a.nodeSize-T,new K(O,S.length,0),0,!0));t(L.scrollIntoView())}return!0}}return!1}function mx(n){return function(e,t){let r=e.selection,s=n<0?r.$from:r.$to,a=s.depth;for(;s.node(a).isInline;){if(!a)return!1;a--}return s.node(a).isTextblock?(t&&t(e.tr.setSelection(le.create(e.doc,n<0?s.start(a):s.end(a)))),!0):!1}}const IN=mx(-1),YN=mx(1);function $N(n,e=null){return function(t,r){let{$from:s,$to:a}=t.selection,u=s.blockRange(a),f=u&&Lh(u,n,e);return f?(r&&r(t.tr.wrap(u,f).scrollIntoView()),!0):!1}}function Bb(n,e=null){return function(t,r){let s=!1;for(let a=0;a<t.selection.ranges.length&&!s;a++){let{$from:{pos:u},$to:{pos:f}}=t.selection.ranges[a];t.doc.nodesBetween(u,f,(d,p)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)s=!0;else{let g=t.doc.resolve(p),y=g.index();s=g.parent.canReplaceWith(y,y+1,n)}})}if(!s)return!1;if(r){let a=t.tr;for(let u=0;u<t.selection.ranges.length;u++){let{$from:{pos:f},$to:{pos:d}}=t.selection.ranges[u];a.setBlockType(f,d,n,e)}r(a.scrollIntoView())}return!0}}function Jh(...n){return function(e,t,r){for(let s=0;s<n.length;s++)if(n[s](e,t,r))return!0;return!1}}Jh($h,lx,ax);Jh($h,ux,cx);Jh(fx,dx,hx,VN);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function GN(n,e=null){return function(t,r){let{$from:s,$to:a}=t.selection,u=s.blockRange(a);if(!u)return!1;let f=r?t.tr:null;return KN(f,u,n,e)?(r&&r(f.scrollIntoView()),!0):!1}}function KN(n,e,t,r=null){let s=!1,a=e,u=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=u.resolve(e.start-2);a=new ou(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new ou(e.$from,u.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let f=Lh(a,t,r,e);return f?(n&&XN(n,e,f,s,t),!0):!1}function XN(n,e,t,r,s){let a=F.empty;for(let g=t.length-1;g>=0;g--)a=F.from(t[g].type.create(t[g].attrs,a));n.step(new We(e.start-(r?2:0),e.end,e.start,e.end,new K(a,0,0),t.length,!0));let u=0;for(let g=0;g<t.length;g++)t[g].type==s&&(u=g+1);let f=t.length-u,d=e.start+t.length-(r?2:0),p=e.parent;for(let g=e.startIndex,y=e.endIndex,b=!0;g<y;g++,b=!1)!b&&Qn(n.doc,d,f)&&(n.split(d,f),d+=2*f),d+=p.child(g).nodeSize;return n}function JN(n){return function(e,t){let{$from:r,$to:s}=e.selection,a=r.blockRange(s,u=>u.childCount>0&&u.firstChild.type==n);return a?t?r.node(a.depth-1).type==n?QN(e,t,n,a):WN(e,t,a):!0:!1}}function QN(n,e,t,r){let s=n.tr,a=r.end,u=r.$to.end(r.depth);a<u&&(s.step(new We(a-1,u,a,u,new K(F.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new ou(s.doc.resolve(r.$from.pos),s.doc.resolve(u),r.depth));const f=Bl(r);if(f==null)return!1;s.lift(r,f);let d=s.doc.resolve(s.mapping.map(a,-1)-1);return Fr(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function WN(n,e,t){let r=n.tr,s=t.parent;for(let x=t.end,S=t.endIndex-1,w=t.startIndex;S>w;S--)x-=s.child(S).nodeSize,r.delete(x-1,x+1);let a=r.doc.resolve(t.start),u=a.nodeAfter;if(r.mapping.map(t.end)!=t.start+a.nodeAfter.nodeSize)return!1;let f=t.startIndex==0,d=t.endIndex==s.childCount,p=a.node(-1),g=a.index(-1);if(!p.canReplace(g+(f?0:1),g+1,u.content.append(d?F.empty:F.from(s))))return!1;let y=a.pos,b=y+u.nodeSize;return r.step(new We(y-(f?1:0),b+(d?1:0),y+1,b-1,new K((f?F.empty:F.from(s.copy(F.empty))).append(d?F.empty:F.from(s.copy(F.empty))),f?0:1,d?0:1),f?0:1)),e(r.scrollIntoView()),!0}function ZN(n){return function(e,t){let{$from:r,$to:s}=e.selection,a=r.blockRange(s,p=>p.childCount>0&&p.firstChild.type==n);if(!a)return!1;let u=a.startIndex;if(u==0)return!1;let f=a.parent,d=f.child(u-1);if(d.type!=n)return!1;if(t){let p=d.lastChild&&d.lastChild.type==f.type,g=F.from(p?n.create():null),y=new K(F.from(n.create(null,F.from(f.type.create(null,g)))),p?3:1,0),b=a.start,x=a.end;t(e.tr.step(new We(b-(p?3:1),x,b,x,y,1,!0)).scrollIntoView())}return!0}}function _u(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:s}=t,{storedMarks:a}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return r},get doc(){return s},get tr(){return r=t.selection,s=t.doc,a=t.storedMarks,t}}}class Uu{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:s}=t,{tr:a}=r,u=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([f,d])=>[f,(...g)=>{const y=d(...g)(u);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(a),y}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:s,state:a}=this,{view:u}=s,f=[],d=!!e,p=e||a.tr,g=()=>(!d&&t&&!p.getMeta("preventDispatch")&&!this.hasCustomState&&u.dispatch(p),f.every(b=>b===!0)),y={...Object.fromEntries(Object.entries(r).map(([b,x])=>[b,(...w)=>{const T=this.buildProps(p,t),O=x(...w)(T);return f.push(O),y}])),run:g};return y}createCan(e){const{rawCommands:t,state:r}=this,s=!1,a=e||r.tr,u=this.buildProps(a,s);return{...Object.fromEntries(Object.entries(t).map(([d,p])=>[d,(...g)=>p(...g)({...u,dispatch:void 0})])),chain:()=>this.createChain(a,s)}}buildProps(e,t=!0){const{rawCommands:r,editor:s,state:a}=this,{view:u}=s,f={tr:e,editor:s,view:u,state:_u({state:a,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,p])=>[d,(...g)=>p(...g)(f)]))}};return f}}class eR{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(s=>s!==t):delete this.callbacks[e]),this}once(e,t){const r=(...s)=>{this.off(e,r),t.apply(this,s)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function W(n,e,t){return n.config[e]===void 0&&n.parent?W(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?W(n.parent,e,t):null}):n.config[e]}function Hu(n){const e=n.filter(s=>s.type==="extension"),t=n.filter(s=>s.type==="node"),r=n.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function gx(n){const e=[],{nodeExtensions:t,markExtensions:r}=Hu(n),s=[...t,...r],a={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(u=>{const f={name:u.name,options:u.options,storage:u.storage,extensions:s},d=W(u,"addGlobalAttributes",f);if(!d)return;d().forEach(g=>{g.types.forEach(y=>{Object.entries(g.attributes).forEach(([b,x])=>{e.push({type:y,name:b,attribute:{...a,...x}})})})})}),s.forEach(u=>{const f={name:u.name,options:u.options,storage:u.storage},d=W(u,"addAttributes",f);if(!d)return;const p=d();Object.entries(p).forEach(([g,y])=>{const b={...a,...y};typeof(b==null?void 0:b.default)=="function"&&(b.default=b.default()),b!=null&&b.isRequired&&(b==null?void 0:b.default)===void 0&&delete b.default,e.push({type:u.name,name:g,attribute:b})})}),e}function et(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function at(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([s,a])=>{if(!r[s]){r[s]=a;return}if(s==="class"){const f=a?String(a).split(" "):[],d=r[s]?r[s].split(" "):[],p=f.filter(g=>!d.includes(g));r[s]=[...d,...p].join(" ")}else if(s==="style"){const f=a?a.split(";").map(g=>g.trim()).filter(Boolean):[],d=r[s]?r[s].split(";").map(g=>g.trim()).filter(Boolean):[],p=new Map;d.forEach(g=>{const[y,b]=g.split(":").map(x=>x.trim());p.set(y,b)}),f.forEach(g=>{const[y,b]=g.split(":").map(x=>x.trim());p.set(y,b)}),r[s]=Array.from(p.entries()).map(([g,y])=>`${g}: ${y}`).join("; ")}else r[s]=a}),r},{})}function Sh(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>at(t,r),{})}function yx(n){return typeof n=="function"}function ue(n,e=void 0,...t){return yx(n)?e?n.bind(e)(...t):n(...t):n}function tR(n={}){return Object.keys(n).length===0&&n.constructor===Object}function nR(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function Lb(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const s=e.reduce((a,u)=>{const f=u.attribute.parseHTML?u.attribute.parseHTML(t):nR(t.getAttribute(u.name));return f==null?a:{...a,[u.name]:f}},{});return{...r,...s}}}}function jb(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&tR(t)?!1:t!=null))}function rR(n,e){var t;const r=gx(n),{nodeExtensions:s,markExtensions:a}=Hu(n),u=(t=s.find(p=>W(p,"topNode")))===null||t===void 0?void 0:t.name,f=Object.fromEntries(s.map(p=>{const g=r.filter(O=>O.type===p.name),y={name:p.name,options:p.options,storage:p.storage,editor:e},b=n.reduce((O,L)=>{const U=W(L,"extendNodeSchema",y);return{...O,...U?U(p):{}}},{}),x=jb({...b,content:ue(W(p,"content",y)),marks:ue(W(p,"marks",y)),group:ue(W(p,"group",y)),inline:ue(W(p,"inline",y)),atom:ue(W(p,"atom",y)),selectable:ue(W(p,"selectable",y)),draggable:ue(W(p,"draggable",y)),code:ue(W(p,"code",y)),whitespace:ue(W(p,"whitespace",y)),linebreakReplacement:ue(W(p,"linebreakReplacement",y)),defining:ue(W(p,"defining",y)),isolating:ue(W(p,"isolating",y)),attrs:Object.fromEntries(g.map(O=>{var L;return[O.name,{default:(L=O==null?void 0:O.attribute)===null||L===void 0?void 0:L.default}]}))}),S=ue(W(p,"parseHTML",y));S&&(x.parseDOM=S.map(O=>Lb(O,g)));const w=W(p,"renderHTML",y);w&&(x.toDOM=O=>w({node:O,HTMLAttributes:Sh(O,g)}));const T=W(p,"renderText",y);return T&&(x.toText=T),[p.name,x]})),d=Object.fromEntries(a.map(p=>{const g=r.filter(T=>T.type===p.name),y={name:p.name,options:p.options,storage:p.storage,editor:e},b=n.reduce((T,O)=>{const L=W(O,"extendMarkSchema",y);return{...T,...L?L(p):{}}},{}),x=jb({...b,inclusive:ue(W(p,"inclusive",y)),excludes:ue(W(p,"excludes",y)),group:ue(W(p,"group",y)),spanning:ue(W(p,"spanning",y)),code:ue(W(p,"code",y)),attrs:Object.fromEntries(g.map(T=>{var O;return[T.name,{default:(O=T==null?void 0:T.attribute)===null||O===void 0?void 0:O.default}]}))}),S=ue(W(p,"parseHTML",y));S&&(x.parseDOM=S.map(T=>Lb(T,g)));const w=W(p,"renderHTML",y);return w&&(x.toDOM=T=>w({mark:T,HTMLAttributes:Sh(T,g)})),[p.name,x]}));return new lS({topNode:u,nodes:f,marks:d})}function Ld(n,e){return e.nodes[n]||e.marks[n]||null}function _b(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Qh(n,e){const t=ki.fromSchema(e).serializeFragment(n),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(t),s.innerHTML}const iR=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(s,a,u,f)=>{var d,p;const g=((p=(d=s.type.spec).toText)===null||p===void 0?void 0:p.call(d,{node:s,pos:a,parent:u,index:f}))||s.textContent||"%leaf%";t+=s.isAtom&&!s.isText?g:g.slice(0,Math.max(0,r-a))}),t};function Wh(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class qu{constructor(e){this.find=e.find,this.handler=e.handler}}const lR=(n,e)=>{if(Wh(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Vo(n){var e;const{editor:t,from:r,to:s,text:a,rules:u,plugin:f}=n,{view:d}=t;if(d.composing)return!1;const p=d.state.doc.resolve(r);if(p.parent.type.spec.code||!((e=p.nodeBefore||p.nodeAfter)===null||e===void 0)&&e.marks.find(b=>b.type.spec.code))return!1;let g=!1;const y=iR(p)+a;return u.forEach(b=>{if(g)return;const x=lR(y,b.find);if(!x)return;const S=d.state.tr,w=_u({state:d.state,transaction:S}),T={from:r-(x[0].length-a.length),to:s},{commands:O,chain:L,can:U}=new Uu({editor:t,state:w});b.handler({state:w,range:T,match:x,commands:O,chain:L,can:U})===null||!S.steps.length||(S.setMeta(f,{transform:S,from:r,to:s,text:a}),d.dispatch(S),g=!0)}),g}function sR(n){const{editor:e,rules:t}=n,r=new zt({state:{init(){return null},apply(s,a,u){const f=s.getMeta(r);if(f)return f;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:g}=d;typeof g=="string"?g=g:g=Qh(F.from(g),u.schema);const{from:y}=d,b=y+g.length;Vo({editor:e,from:y,to:b,text:g,rules:t,plugin:r})}),s.selectionSet||s.docChanged?null:a}},props:{handleTextInput(s,a,u,f){return Vo({editor:e,from:a,to:u,text:f,rules:t,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:a}=s.state.selection;a&&Vo({editor:e,from:a.pos,to:a.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(s,a){if(a.key!=="Enter")return!1;const{$cursor:u}=s.state.selection;return u?Vo({editor:e,from:u.pos,to:u.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function aR(n){return Object.prototype.toString.call(n).slice(8,-1)}function Po(n){return aR(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Vu(n,e){const t={...n};return Po(n)&&Po(e)&&Object.keys(e).forEach(r=>{Po(e[r])&&Po(n[r])?t[r]=Vu(n[r],e[r]):t[r]=e[r]}),t}class er{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ue(W(this,"addOptions",{name:this.name}))),this.storage=ue(W(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new er(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Vu(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new er(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ue(W(t,"addOptions",{name:t.name})),t.storage=ue(W(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const u=s.marks();if(!!!u.find(p=>(p==null?void 0:p.type.name)===t.name))return!1;const d=u.find(p=>(p==null?void 0:p.type.name)===t.name);return d&&r.removeStoredMark(d),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}function oR(n){return typeof n=="number"}class uR{constructor(e){this.find=e.find,this.handler=e.handler}}const cR=(n,e,t)=>{if(Wh(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(s=>{const a=[s.text];return a.index=s.index,a.input=n,a.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(s.replaceWith)),a}):[]};function fR(n){const{editor:e,state:t,from:r,to:s,rule:a,pasteEvent:u,dropEvent:f}=n,{commands:d,chain:p,can:g}=new Uu({editor:e,state:t}),y=[];return t.doc.nodesBetween(r,s,(x,S)=>{if(!x.isTextblock||x.type.spec.code)return;const w=Math.max(r,S),T=Math.min(s,S+x.content.size),O=x.textBetween(w-S,T-S,void 0,"￼");cR(O,a.find,u).forEach(U=>{if(U.index===void 0)return;const I=w+U.index+1,j=I+U[0].length,G={from:t.tr.mapping.map(I),to:t.tr.mapping.map(j)},J=a.handler({state:t,range:G,match:U,commands:d,chain:p,can:g,pasteEvent:u,dropEvent:f});y.push(J)})}),y.every(x=>x!==null)}let Fo=null;const dR=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function hR(n){const{editor:e,rules:t}=n;let r=null,s=!1,a=!1,u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,f;try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}const d=({state:g,from:y,to:b,rule:x,pasteEvt:S})=>{const w=g.tr,T=_u({state:g,transaction:w});if(!(!fR({editor:e,state:T,from:Math.max(y-1,0),to:b.b-1,rule:x,pasteEvent:S,dropEvent:f})||!w.steps.length)){try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}return u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return t.map(g=>new zt({view(y){const b=S=>{var w;r=!((w=y.dom.parentElement)===null||w===void 0)&&w.contains(S.target)?y.dom.parentElement:null,r&&(Fo=e)},x=()=>{Fo&&(Fo=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(y,b)=>{if(a=r===y.dom.parentElement,f=b,!a){const x=Fo;x&&setTimeout(()=>{const S=x.state.selection;S&&x.commands.deleteRange({from:S.from,to:S.to})},10)}return!1},paste:(y,b)=>{var x;const S=(x=b.clipboardData)===null||x===void 0?void 0:x.getData("text/html");return u=b,s=!!(S!=null&&S.includes("data-pm-slice")),!1}}},appendTransaction:(y,b,x)=>{const S=y[0],w=S.getMeta("uiEvent")==="paste"&&!s,T=S.getMeta("uiEvent")==="drop"&&!a,O=S.getMeta("applyPasteRules"),L=!!O;if(!w&&!T&&!L)return;if(L){let{text:j}=O;typeof j=="string"?j=j:j=Qh(F.from(j),x.schema);const{from:G}=O,J=G+j.length,Y=dR(j);return d({rule:g,state:x,from:G,to:{b:J},pasteEvt:Y})}const U=b.doc.content.findDiffStart(x.doc.content),I=b.doc.content.findDiffEnd(x.doc.content);if(!(!oR(U)||!I||U===I.b))return d({rule:g,state:x,from:U,to:I,pasteEvt:u})}}))}function pR(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class vl{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=vl.resolve(e),this.schema=rR(this.extensions,t),this.setupExtensions()}static resolve(e){const t=vl.sort(vl.flatten(e)),r=pR(t.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},s=W(t,"addExtensions",r);return s?[t,...this.flatten(s())]:t}).flat(10)}static sort(e){return e.sort((r,s)=>{const a=W(r,"priority")||100,u=W(s,"priority")||100;return a>u?-1:a<u?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Ld(t.name,this.schema)},s=W(t,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,t=vl.sort([...this.extensions].reverse()),r=[],s=[],a=t.map(u=>{const f={name:u.name,options:u.options,storage:u.storage,editor:e,type:Ld(u.name,this.schema)},d=[],p=W(u,"addKeyboardShortcuts",f);let g={};if(u.type==="mark"&&W(u,"exitable",f)&&(g.ArrowRight=()=>er.handleExit({editor:e,mark:u})),p){const w=Object.fromEntries(Object.entries(p()).map(([T,O])=>[T,()=>O({editor:e})]));g={...g,...w}}const y=zN(g);d.push(y);const b=W(u,"addInputRules",f);_b(u,e.options.enableInputRules)&&b&&r.push(...b());const x=W(u,"addPasteRules",f);_b(u,e.options.enablePasteRules)&&x&&s.push(...x());const S=W(u,"addProseMirrorPlugins",f);if(S){const w=S();d.push(...w)}return d}).flat();return[sR({editor:e,rules:r}),...hR({editor:e,rules:s}),...a]}get attributes(){return gx(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Hu(this.extensions);return Object.fromEntries(t.filter(r=>!!W(r,"addNodeView")).map(r=>{const s=this.attributes.filter(d=>d.type===r.name),a={name:r.name,options:r.options,storage:r.storage,editor:e,type:et(r.name,this.schema)},u=W(r,"addNodeView",a);if(!u)return[];const f=(d,p,g,y,b)=>{const x=Sh(d,s);return u()({node:d,view:p,getPos:g,decorations:y,innerDecorations:b,editor:e,extension:r,HTMLAttributes:x})};return[r.name,f]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Ld(e.name,this.schema)};e.type==="mark"&&(!((t=ue(W(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const s=W(e,"onBeforeCreate",r),a=W(e,"onCreate",r),u=W(e,"onUpdate",r),f=W(e,"onSelectionUpdate",r),d=W(e,"onTransaction",r),p=W(e,"onFocus",r),g=W(e,"onBlur",r),y=W(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),a&&this.editor.on("create",a),u&&this.editor.on("update",u),f&&this.editor.on("selectionUpdate",f),d&&this.editor.on("transaction",d),p&&this.editor.on("focus",p),g&&this.editor.on("blur",g),y&&this.editor.on("destroy",y)})}}class vt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ue(W(this,"addOptions",{name:this.name}))),this.storage=ue(W(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new vt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Vu(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new vt({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ue(W(t,"addOptions",{name:t.name})),t.storage=ue(W(t,"addStorage",{name:t.name,options:t.options})),t}}function bx(n,e,t){const{from:r,to:s}=e,{blockSeparator:a=`

`,textSerializers:u={}}=t||{};let f="";return n.nodesBetween(r,s,(d,p,g,y)=>{var b;d.isBlock&&p>r&&(f+=a);const x=u==null?void 0:u[d.type.name];if(x)return g&&(f+=x({node:d,pos:p,parent:g,index:y,range:e})),!1;d.isText&&(f+=(b=d==null?void 0:d.text)===null||b===void 0?void 0:b.slice(Math.max(r,p)-p,s-p))}),f}function Sx(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const mR=vt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new zt({key:new Nn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:s}=e,{ranges:a}=s,u=Math.min(...a.map(g=>g.$from.pos)),f=Math.max(...a.map(g=>g.$to.pos)),d=Sx(t);return bx(r,{from:u,to:f},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),gR=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),yR=(n=!1)=>({commands:e})=>e.setContent("",n),bR=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:s}=r;return t&&s.forEach(({$from:a,$to:u})=>{n.doc.nodesBetween(a.pos,u.pos,(f,d)=>{if(f.type.isText)return;const{doc:p,mapping:g}=e,y=p.resolve(g.map(d)),b=p.resolve(g.map(d+f.nodeSize)),x=y.blockRange(b);if(!x)return;const S=Bl(x);if(f.type.isTextblock){const{defaultType:w}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(x.start,w)}(S||S===0)&&e.lift(x,S)})}),!0},SR=n=>e=>n(e),xR=()=>({state:n,dispatch:e})=>dx(n,e),vR=(n,e)=>({editor:t,tr:r})=>{const{state:s}=t,a=s.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const u=r.mapping.map(e);return r.insert(u,a.content),r.setSelection(new le(r.doc.resolve(u-1))),!0},wR=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const s=n.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===r.type){if(e){const f=s.before(a),d=s.after(a);n.delete(f,d).scrollIntoView()}return!0}return!1},ER=n=>({tr:e,state:t,dispatch:r})=>{const s=et(n,t.schema),a=e.selection.$anchor;for(let u=a.depth;u>0;u-=1)if(a.node(u).type===s){if(r){const d=a.before(u),p=a.after(u);e.delete(d,p).scrollIntoView()}return!0}return!1},TR=n=>({tr:e,dispatch:t})=>{const{from:r,to:s}=n;return t&&e.delete(r,s),!0},MR=()=>({state:n,dispatch:e})=>$h(n,e),OR=()=>({commands:n})=>n.keyboardShortcut("Enter"),CR=()=>({state:n,dispatch:e})=>HN(n,e);function gu(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>t.strict?e[s]===n[s]:Wh(e[s])?e[s].test(n[s]):e[s]===n[s]):!0}function xx(n,e,t={}){return n.find(r=>r.type===e&&gu(Object.fromEntries(Object.keys(t).map(s=>[s,r.attrs[s]])),t))}function Ub(n,e,t={}){return!!xx(n,e,t)}function Zh(n,e,t){var r;if(!n||!e)return;let s=n.parent.childAfter(n.parentOffset);if((!s.node||!s.node.marks.some(g=>g.type===e))&&(s=n.parent.childBefore(n.parentOffset)),!s.node||!s.node.marks.some(g=>g.type===e)||(t=t||((r=s.node.marks[0])===null||r===void 0?void 0:r.attrs),!xx([...s.node.marks],e,t)))return;let u=s.index,f=n.start()+s.offset,d=u+1,p=f+s.node.nodeSize;for(;u>0&&Ub([...n.parent.child(u-1).marks],e,t);)u-=1,f-=n.parent.child(u).nodeSize;for(;d<n.parent.childCount&&Ub([...n.parent.child(d).marks],e,t);)p+=n.parent.child(d).nodeSize,d+=1;return{from:f,to:p}}function Yr(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const kR=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const a=Yr(n,r.schema),{doc:u,selection:f}=t,{$from:d,from:p,to:g}=f;if(s){const y=Zh(d,a,e);if(y&&y.from<=p&&y.to>=g){const b=le.create(u,y.from,y.to);t.setSelection(b)}}return!0},AR=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function vx(n){return n instanceof le}function gi(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function wx(n,e=null){if(!e)return null;const t=ae.atStart(n),r=ae.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const s=t.from,a=r.to;return e==="all"?le.create(n,gi(0,s,a),gi(n.content.size,s,a)):le.create(n,gi(e,s,a),gi(e,s,a))}function NR(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ep(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const RR=(n=null,e={})=>({editor:t,view:r,tr:s,dispatch:a})=>{e={scrollIntoView:!0,...e};const u=()=>{(ep()||NR())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(a&&n===null&&!vx(t.state.selection))return u(),!0;const f=wx(s.doc,n)||t.state.selection,d=t.state.selection.eq(f);return a&&(d||s.setSelection(f),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),u()),!0},DR=(n,e)=>t=>n.every((r,s)=>e(r,{...t,index:s})),zR=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),Ex=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&Ex(r)}return n};function Io(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return Ex(t)}function la(n,e,t){if(n instanceof Lr||n instanceof F)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,s=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return F.fromArray(n.map(f=>e.nodeFromJSON(f)));const u=e.nodeFromJSON(n);return t.errorOnInvalidContent&&u.check(),u}catch(a){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",a),la("",e,t)}if(s){if(t.errorOnInvalidContent){let u=!1,f="";const d=new lS({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:p=>(u=!0,f=typeof p=="string"?p:p.outerHTML,null)}]}})});if(t.slice?jr.fromSchema(d).parseSlice(Io(n),t.parseOptions):jr.fromSchema(d).parse(Io(n),t.parseOptions),t.errorOnInvalidContent&&u)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${f}`)})}const a=jr.fromSchema(e);return t.slice?a.parseSlice(Io(n),t.parseOptions).content:a.parse(Io(n),t.parseOptions)}return la("",e,t)}function BR(n,e,t){const r=n.steps.length-1;if(r<e)return;const s=n.steps[r];if(!(s instanceof Qe||s instanceof We))return;const a=n.mapping.maps[r];let u=0;a.forEach((f,d,p,g)=>{u===0&&(u=g)}),n.setSelection(ae.near(n.doc.resolve(u),t))}const LR=n=>!("type"in n),jR=(n,e,t)=>({tr:r,dispatch:s,editor:a})=>{var u;if(s){t={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let f;const d=T=>{a.emit("contentError",{editor:a,error:T,disableCollaboration:()=>{a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},p={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{la(e,a.schema,{parseOptions:p,errorOnInvalidContent:!0})}catch(T){d(T)}try{f=la(e,a.schema,{parseOptions:p,errorOnInvalidContent:(u=t.errorOnInvalidContent)!==null&&u!==void 0?u:a.options.enableContentCheck})}catch(T){return d(T),!1}let{from:g,to:y}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},b=!0,x=!0;if((LR(f)?f:[f]).forEach(T=>{T.check(),b=b?T.isText&&T.marks.length===0:!1,x=x?T.isBlock:!1}),g===y&&x){const{parent:T}=r.doc.resolve(g);T.isTextblock&&!T.type.spec.code&&!T.childCount&&(g-=1,y+=1)}let w;if(b){if(Array.isArray(e))w=e.map(T=>T.text||"").join("");else if(e instanceof F){let T="";e.forEach(O=>{O.text&&(T+=O.text)}),w=T}else typeof e=="object"&&e&&e.text?w=e.text:w=e;r.insertText(w,g,y)}else w=f,r.replaceWith(g,y,w);t.updateSelection&&BR(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:g,text:w}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:g,text:w})}return!0},_R=()=>({state:n,dispatch:e})=>jN(n,e),UR=()=>({state:n,dispatch:e})=>_N(n,e),HR=()=>({state:n,dispatch:e})=>lx(n,e),qR=()=>({state:n,dispatch:e})=>ux(n,e),VR=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Ru(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},PR=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Ru(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},FR=()=>({state:n,dispatch:e})=>BN(n,e),IR=()=>({state:n,dispatch:e})=>LN(n,e);function Tx(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function YR(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,s,a,u;for(let f=0;f<e.length-1;f+=1){const d=e[f];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))ep()||Tx()?u=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(t=`Alt-${t}`),s&&(t=`Ctrl-${t}`),u&&(t=`Meta-${t}`),a&&(t=`Shift-${t}`),t}const $R=n=>({editor:e,view:t,tr:r,dispatch:s})=>{const a=YR(n).split(/-(?!$)/),u=a.find(p=>!["Alt","Ctrl","Meta","Shift"].includes(p)),f=new KeyboardEvent("keydown",{key:u==="Space"?" ":u,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",p=>p(t,f))});return d==null||d.steps.forEach(p=>{const g=p.map(r.mapping);g&&s&&r.maybeStep(g)}),!0};function sa(n,e,t={}){const{from:r,to:s,empty:a}=n.selection,u=e?et(e,n.schema):null,f=[];n.doc.nodesBetween(r,s,(y,b)=>{if(y.isText)return;const x=Math.max(r,b),S=Math.min(s,b+y.nodeSize);f.push({node:y,from:x,to:S})});const d=s-r,p=f.filter(y=>u?u.name===y.node.type.name:!0).filter(y=>gu(y.node.attrs,t,{strict:!1}));return a?!!p.length:p.reduce((y,b)=>y+b.to-b.from,0)>=d}const GR=(n,e={})=>({state:t,dispatch:r})=>{const s=et(n,t.schema);return sa(t,s,e)?UN(t,r):!1},KR=()=>({state:n,dispatch:e})=>hx(n,e),XR=n=>({state:e,dispatch:t})=>{const r=et(n,e.schema);return JN(r)(e,t)},JR=()=>({state:n,dispatch:e})=>fx(n,e);function Pu(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function Hb(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,s)=>(t.includes(s)||(r[s]=n[s]),r),{})}const QR=(n,e)=>({tr:t,state:r,dispatch:s})=>{let a=null,u=null;const f=Pu(typeof n=="string"?n:n.name,r.schema);return f?(f==="node"&&(a=et(n,r.schema)),f==="mark"&&(u=Yr(n,r.schema)),s&&t.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(p,g)=>{a&&a===p.type&&t.setNodeMarkup(g,void 0,Hb(p.attrs,e)),u&&p.marks.length&&p.marks.forEach(y=>{u===y.type&&t.addMark(g,g+p.nodeSize,u.create(Hb(y.attrs,e)))})})}),!0):!1},WR=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),ZR=()=>({tr:n,dispatch:e})=>{if(e){const t=new It(n.doc);n.setSelection(t)}return!0},eD=()=>({state:n,dispatch:e})=>ax(n,e),tD=()=>({state:n,dispatch:e})=>cx(n,e),nD=()=>({state:n,dispatch:e})=>PN(n,e),rD=()=>({state:n,dispatch:e})=>YN(n,e),iD=()=>({state:n,dispatch:e})=>IN(n,e);function xh(n,e,t={},r={}){return la(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const lD=(n,e=!1,t={},r={})=>({editor:s,tr:a,dispatch:u,commands:f})=>{var d,p;const{doc:g}=a;if(t.preserveWhitespace!=="full"){const y=xh(n,s.schema,t,{errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:s.options.enableContentCheck});return u&&a.replaceWith(0,g.content.size,y).setMeta("preventUpdate",!e),!0}return u&&a.setMeta("preventUpdate",!e),f.insertContentAt({from:0,to:g.content.size},n,{parseOptions:t,errorOnInvalidContent:(p=r.errorOnInvalidContent)!==null&&p!==void 0?p:s.options.enableContentCheck})};function Mx(n,e){const t=Yr(e,n.schema),{from:r,to:s,empty:a}=n.selection,u=[];a?(n.storedMarks&&u.push(...n.storedMarks),u.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,s,d=>{u.push(...d.marks)});const f=u.find(d=>d.type.name===t.name);return f?{...f.attrs}:{}}function sD(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function aD(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function tp(n){return e=>aD(e.$from,n)}function oD(n,e){const t={from:0,to:n.content.size};return bx(n,t,e)}function uD(n,e){const t=et(e,n.schema),{from:r,to:s}=n.selection,a=[];n.doc.nodesBetween(r,s,f=>{a.push(f)});const u=a.reverse().find(f=>f.type.name===t.name);return u?{...u.attrs}:{}}function cD(n,e){const t=Pu(typeof e=="string"?e:e.name,n.schema);return t==="node"?uD(n,e):t==="mark"?Mx(n,e):{}}function Ox(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(s=>{const a=t.resolve(n),u=Zh(a,s.type);u&&r.push({mark:s,...u})}):t.nodesBetween(n,e,(s,a)=>{!s||(s==null?void 0:s.nodeSize)===void 0||r.push(...s.marks.map(u=>({from:a,to:a+s.nodeSize,mark:u})))}),r}function Zo(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const s=n.find(a=>a.type===e&&a.name===r);return s?s.attribute.keepOnSplit:!1}))}function vh(n,e,t={}){const{empty:r,ranges:s}=n.selection,a=e?Yr(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(y=>a?a.name===y.type.name:!0).find(y=>gu(y.attrs,t,{strict:!1}));let u=0;const f=[];if(s.forEach(({$from:y,$to:b})=>{const x=y.pos,S=b.pos;n.doc.nodesBetween(x,S,(w,T)=>{if(!w.isText&&!w.marks.length)return;const O=Math.max(x,T),L=Math.min(S,T+w.nodeSize),U=L-O;u+=U,f.push(...w.marks.map(I=>({mark:I,from:O,to:L})))})}),u===0)return!1;const d=f.filter(y=>a?a.name===y.mark.type.name:!0).filter(y=>gu(y.mark.attrs,t,{strict:!1})).reduce((y,b)=>y+b.to-b.from,0),p=f.filter(y=>a?y.mark.type!==a&&y.mark.type.excludes(a):!0).reduce((y,b)=>y+b.to-b.from,0);return(d>0?d+p:d)>=u}function fD(n,e,t={}){if(!e)return sa(n,null,t)||vh(n,null,t);const r=Pu(e,n.schema);return r==="node"?sa(n,e,t):r==="mark"?vh(n,e,t):!1}function qb(n,e){const{nodeExtensions:t}=Hu(e),r=t.find(u=>u.name===n);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},a=ue(W(r,"group",s));return typeof a!="string"?!1:a.split(" ").includes("list")}function np(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let s=!0;return n.content.forEach(a=>{s!==!1&&(np(a,{ignoreWhitespace:t,checkChildren:e})||(s=!1))}),s}return!1}function dD(n){return n instanceof ee}function hD(n,e,t){var r;const{selection:s}=e;let a=null;if(vx(s)&&(a=s.$cursor),a){const f=(r=n.storedMarks)!==null&&r!==void 0?r:a.marks();return!!t.isInSet(f)||!f.some(d=>d.type.excludes(t))}const{ranges:u}=s;return u.some(({$from:f,$to:d})=>{let p=f.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(f.pos,d.pos,(g,y,b)=>{if(p)return!1;if(g.isInline){const x=!b||b.type.allowsMarkType(t),S=!!t.isInSet(g.marks)||!g.marks.some(w=>w.type.excludes(t));p=x&&S}return!p}),p})}const pD=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const{selection:a}=t,{empty:u,ranges:f}=a,d=Yr(n,r.schema);if(s)if(u){const p=Mx(r,d);t.addStoredMark(d.create({...p,...e}))}else f.forEach(p=>{const g=p.$from.pos,y=p.$to.pos;r.doc.nodesBetween(g,y,(b,x)=>{const S=Math.max(x,g),w=Math.min(x+b.nodeSize,y);b.marks.find(O=>O.type===d)?b.marks.forEach(O=>{d===O.type&&t.addMark(S,w,d.create({...O.attrs,...e}))}):t.addMark(S,w,d.create(e))})});return hD(r,t,d)},mD=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),gD=(n,e={})=>({state:t,dispatch:r,chain:s})=>{const a=et(n,t.schema);let u;return t.selection.$anchor.sameParent(t.selection.$head)&&(u=t.selection.$anchor.parent.attrs),a.isTextblock?s().command(({commands:f})=>Bb(a,{...u,...e})(t)?!0:f.clearNodes()).command(({state:f})=>Bb(a,{...u,...e})(f,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},yD=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,s=gi(n,0,r.content.size),a=ee.create(r,s);e.setSelection(a)}return!0},bD=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:s,to:a}=typeof n=="number"?{from:n,to:n}:n,u=le.atStart(r).from,f=le.atEnd(r).to,d=gi(s,u,f),p=gi(a,u,f),g=le.create(r,d,p);e.setSelection(g)}return!0},SD=n=>({state:e,dispatch:t})=>{const r=et(n,e.schema);return ZN(r)(e,t)};function Vb(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(s=>e==null?void 0:e.includes(s.type.name));n.tr.ensureMarks(r)}}const xD=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:s})=>{const{selection:a,doc:u}=e,{$from:f,$to:d}=a,p=s.extensionManager.attributes,g=Zo(p,f.node().type.name,f.node().attrs);if(a instanceof ee&&a.node.isBlock)return!f.parentOffset||!Qn(u,f.pos)?!1:(r&&(n&&Vb(t,s.extensionManager.splittableMarks),e.split(f.pos).scrollIntoView()),!0);if(!f.parent.isBlock)return!1;const y=d.parentOffset===d.parent.content.size,b=f.depth===0?void 0:sD(f.node(-1).contentMatchAt(f.indexAfter(-1)));let x=y&&b?[{type:b,attrs:g}]:void 0,S=Qn(e.doc,e.mapping.map(f.pos),1,x);if(!x&&!S&&Qn(e.doc,e.mapping.map(f.pos),1,b?[{type:b}]:void 0)&&(S=!0,x=b?[{type:b,attrs:g}]:void 0),r){if(S&&(a instanceof le&&e.deleteSelection(),e.split(e.mapping.map(f.pos),1,x),b&&!y&&!f.parentOffset&&f.parent.type!==b)){const w=e.mapping.map(f.before()),T=e.doc.resolve(w);f.node(-1).canReplaceWith(T.index(),T.index()+1,b)&&e.setNodeMarkup(e.mapping.map(f.before()),b)}n&&Vb(t,s.extensionManager.splittableMarks),e.scrollIntoView()}return S},vD=(n,e={})=>({tr:t,state:r,dispatch:s,editor:a})=>{var u;const f=et(n,r.schema),{$from:d,$to:p}=r.selection,g=r.selection.node;if(g&&g.isBlock||d.depth<2||!d.sameParent(p))return!1;const y=d.node(-1);if(y.type!==f)return!1;const b=a.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==f||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let O=F.empty;const L=d.index(-1)?1:d.index(-2)?2:3;for(let Y=d.depth-L;Y>=d.depth-3;Y-=1)O=F.from(d.node(Y).copy(O));const U=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,I={...Zo(b,d.node().type.name,d.node().attrs),...e},j=((u=f.contentMatch.defaultType)===null||u===void 0?void 0:u.createAndFill(I))||void 0;O=O.append(F.from(f.createAndFill(null,j)||void 0));const G=d.before(d.depth-(L-1));t.replace(G,d.after(-U),new K(O,4-L,0));let J=-1;t.doc.nodesBetween(G,t.doc.content.size,(Y,$)=>{if(J>-1)return!1;Y.isTextblock&&Y.content.size===0&&(J=$+1)}),J>-1&&t.setSelection(le.near(t.doc.resolve(J))),t.scrollIntoView()}return!0}const x=p.pos===d.end()?y.contentMatchAt(0).defaultType:null,S={...Zo(b,y.type.name,y.attrs),...e},w={...Zo(b,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,p.pos);const T=x?[{type:f,attrs:S},{type:x,attrs:w}]:[{type:f,attrs:S}];if(!Qn(t.doc,d.pos,2))return!1;if(s){const{selection:O,storedMarks:L}=r,{splittableMarks:U}=a.extensionManager,I=L||O.$to.parentOffset&&O.$from.marks();if(t.split(d.pos,2,T).scrollIntoView(),!I||!s)return!0;const j=I.filter(G=>U.includes(G.type.name));t.ensureMarks(j)}return!0},jd=(n,e)=>{const t=tp(u=>u.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===(s==null?void 0:s.type)&&Fr(n.doc,t.pos)&&n.join(t.pos),!0},_d=(n,e)=>{const t=tp(u=>u.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===(s==null?void 0:s.type)&&Fr(n.doc,r)&&n.join(r),!0},wD=(n,e,t,r={})=>({editor:s,tr:a,state:u,dispatch:f,chain:d,commands:p,can:g})=>{const{extensions:y,splittableMarks:b}=s.extensionManager,x=et(n,u.schema),S=et(e,u.schema),{selection:w,storedMarks:T}=u,{$from:O,$to:L}=w,U=O.blockRange(L),I=T||w.$to.parentOffset&&w.$from.marks();if(!U)return!1;const j=tp(G=>qb(G.type.name,y))(w);if(U.depth>=1&&j&&U.depth-j.depth<=1){if(j.node.type===x)return p.liftListItem(S);if(qb(j.node.type.name,y)&&x.validContent(j.node.content)&&f)return d().command(()=>(a.setNodeMarkup(j.pos,x),!0)).command(()=>jd(a,x)).command(()=>_d(a,x)).run()}return!t||!I||!f?d().command(()=>g().wrapInList(x,r)?!0:p.clearNodes()).wrapInList(x,r).command(()=>jd(a,x)).command(()=>_d(a,x)).run():d().command(()=>{const G=g().wrapInList(x,r),J=I.filter(Y=>b.includes(Y.type.name));return a.ensureMarks(J),G?!0:p.clearNodes()}).wrapInList(x,r).command(()=>jd(a,x)).command(()=>_d(a,x)).run()},ED=(n,e={},t={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:a=!1}=t,u=Yr(n,r.schema);return vh(r,u,e)?s.unsetMark(u,{extendEmptyMarkRange:a}):s.setMark(u,e)},TD=(n,e,t={})=>({state:r,commands:s})=>{const a=et(n,r.schema),u=et(e,r.schema),f=sa(r,a,t);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),f?s.setNode(u,d):s.setNode(a,{...d,...t})},MD=(n,e={})=>({state:t,commands:r})=>{const s=et(n,t.schema);return sa(t,s,e)?r.lift(s):r.wrapIn(s,e)},OD=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const s=t[r];let a;if(s.spec.isInputRules&&(a=s.getState(n))){if(e){const u=n.tr,f=a.transform;for(let d=f.steps.length-1;d>=0;d-=1)u.step(f.steps[d].invert(f.docs[d]));if(a.text){const d=u.doc.resolve(a.from).marks();u.replaceWith(a.from,a.to,n.schema.text(a.text,d))}else u.delete(a.from,a.to)}return!0}}return!1},CD=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:s}=t;return r||e&&s.forEach(a=>{n.removeMark(a.$from.pos,a.$to.pos)}),!0},kD=(n,e={})=>({tr:t,state:r,dispatch:s})=>{var a;const{extendEmptyMarkRange:u=!1}=e,{selection:f}=t,d=Yr(n,r.schema),{$from:p,empty:g,ranges:y}=f;if(!s)return!0;if(g&&u){let{from:b,to:x}=f;const S=(a=p.marks().find(T=>T.type===d))===null||a===void 0?void 0:a.attrs,w=Zh(p,d,S);w&&(b=w.from,x=w.to),t.removeMark(b,x,d)}else y.forEach(b=>{t.removeMark(b.$from.pos,b.$to.pos,d)});return t.removeStoredMark(d),!0},AD=(n,e={})=>({tr:t,state:r,dispatch:s})=>{let a=null,u=null;const f=Pu(typeof n=="string"?n:n.name,r.schema);return f?(f==="node"&&(a=et(n,r.schema)),f==="mark"&&(u=Yr(n,r.schema)),s&&t.selection.ranges.forEach(d=>{const p=d.$from.pos,g=d.$to.pos;let y,b,x,S;t.selection.empty?r.doc.nodesBetween(p,g,(w,T)=>{a&&a===w.type&&(x=Math.max(T,p),S=Math.min(T+w.nodeSize,g),y=T,b=w)}):r.doc.nodesBetween(p,g,(w,T)=>{T<p&&a&&a===w.type&&(x=Math.max(T,p),S=Math.min(T+w.nodeSize,g),y=T,b=w),T>=p&&T<=g&&(a&&a===w.type&&t.setNodeMarkup(T,void 0,{...w.attrs,...e}),u&&w.marks.length&&w.marks.forEach(O=>{if(u===O.type){const L=Math.max(T,p),U=Math.min(T+w.nodeSize,g);t.addMark(L,U,u.create({...O.attrs,...e}))}}))}),b&&(y!==void 0&&t.setNodeMarkup(y,void 0,{...b.attrs,...e}),u&&b.marks.length&&b.marks.forEach(w=>{u===w.type&&t.addMark(x,S,u.create({...w.attrs,...e}))}))}),!0):!1},ND=(n,e={})=>({state:t,dispatch:r})=>{const s=et(n,t.schema);return $N(s,e)(t,r)},RD=(n,e={})=>({state:t,dispatch:r})=>{const s=et(n,t.schema);return GN(s,e)(t,r)};var DD=Object.freeze({__proto__:null,blur:gR,clearContent:yR,clearNodes:bR,command:SR,createParagraphNear:xR,cut:vR,deleteCurrentNode:wR,deleteNode:ER,deleteRange:TR,deleteSelection:MR,enter:OR,exitCode:CR,extendMarkRange:kR,first:AR,focus:RR,forEach:DR,insertContent:zR,insertContentAt:jR,joinBackward:HR,joinDown:UR,joinForward:qR,joinItemBackward:VR,joinItemForward:PR,joinTextblockBackward:FR,joinTextblockForward:IR,joinUp:_R,keyboardShortcut:$R,lift:GR,liftEmptyBlock:KR,liftListItem:XR,newlineInCode:JR,resetAttributes:QR,scrollIntoView:WR,selectAll:ZR,selectNodeBackward:eD,selectNodeForward:tD,selectParentNode:nD,selectTextblockEnd:rD,selectTextblockStart:iD,setContent:lD,setMark:pD,setMeta:mD,setNode:gD,setNodeSelection:yD,setTextSelection:bD,sinkListItem:SD,splitBlock:xD,splitListItem:vD,toggleList:wD,toggleMark:ED,toggleNode:TD,toggleWrap:MD,undoInputRule:OD,unsetAllMarks:CD,unsetMark:kD,updateAttributes:AD,wrapIn:ND,wrapInList:RD});const zD=vt.create({name:"commands",addCommands(){return{...DD}}}),BD=vt.create({name:"drop",addProseMirrorPlugins(){return[new zt({key:new Nn("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),LD=vt.create({name:"editable",addProseMirrorPlugins(){return[new zt({key:new Nn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),jD=new Nn("focusEvents"),_D=vt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new zt({key:jD,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),UD=vt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:u})=>[()=>u.undoInputRule(),()=>u.command(({tr:f})=>{const{selection:d,doc:p}=f,{empty:g,$anchor:y}=d,{pos:b,parent:x}=y,S=y.parent.isTextblock&&b>0?f.doc.resolve(b-1):y,w=S.parent.type.spec.isolating,T=y.pos-y.parentOffset,O=w&&S.parent.childCount===1?T===y.pos:ae.atStart(p).from===b;return!g||!x.type.isTextblock||x.textContent.length||!O||O&&y.parent.type.name==="paragraph"?!1:u.clearNodes()}),()=>u.deleteSelection(),()=>u.joinBackward(),()=>u.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:u})=>[()=>u.deleteSelection(),()=>u.deleteCurrentNode(),()=>u.joinForward(),()=>u.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:u})=>[()=>u.newlineInCode(),()=>u.createParagraphNear(),()=>u.liftEmptyBlock(),()=>u.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},a={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ep()||Tx()?a:s},addProseMirrorPlugins(){return[new zt({key:new Nn("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(w=>w.getMeta("composition")))return;const r=n.some(w=>w.docChanged)&&!e.doc.eq(t.doc),s=n.some(w=>w.getMeta("preventClearDocument"));if(!r||s)return;const{empty:a,from:u,to:f}=e.selection,d=ae.atStart(e.doc).from,p=ae.atEnd(e.doc).to;if(a||!(u===d&&f===p)||!np(t.doc))return;const b=t.tr,x=_u({state:t,transaction:b}),{commands:S}=new Uu({editor:this.editor,state:x});if(S.clearNodes(),!!b.steps.length)return b}})]}}),HD=vt.create({name:"paste",addProseMirrorPlugins(){return[new zt({key:new Nn("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),qD=vt.create({name:"tabindex",addProseMirrorPlugins(){return[new zt({key:new Nn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class di{get name(){return this.node.type.name}constructor(e,t,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new di(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new di(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new di(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const s=t.isBlock&&!t.isTextblock,a=t.isAtom&&!t.isText,u=this.pos+r+(a?0:1);if(u<0||u>this.resolvedPos.doc.nodeSize-2)return;const f=this.resolvedPos.doc.resolve(u);if(!s&&f.depth<=this.depth)return;const d=new di(f,this.editor,s,s?t:null);s&&(d.actualDepth=this.depth+1),e.push(new di(f,this.editor,s,s?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(t).length>0){const a=s.node.attrs,u=Object.keys(t);for(let f=0;f<u.length;f+=1){const d=u[f];if(a[d]!==t[d])break}}else r=s;s=s.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const a=Object.keys(t);return this.children.forEach(u=>{r&&s.length>0||(u.node.type.name===e&&a.every(d=>t[d]===u.node.attrs[d])&&s.push(u),!(r&&s.length>0)&&(s=s.concat(u.querySelectorAll(e,t,r))))}),s}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const VD=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function PD(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(s),s}class FD extends eR{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:s})=>this.options.onDrop(t,r,s)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=PD(VD,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=yx(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(a=>{const u=typeof a=="string"?`${a}$`:a.key;r=r.filter(f=>!f.key.startsWith(u))}),t.length===r.length)return;const s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}createExtensionManager(){var e,t;const s=[...this.options.enableCoreExtensions?[LD,mR.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),zD,_D,UD,qD,BD,HD].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a==null?void 0:a.type));this.extensionManager=new vl(s,this)}createCommandManager(){this.commandManager=new Uu({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=xh(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(u){if(!(u instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(u.message))throw u;this.emit("contentError",{editor:this,error:u,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(f=>f.name!=="collaboration"),this.createExtensionManager()}}),t=xh(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=wx(t,this.options.autofocus);this.view=new nx(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:xl.create({doc:t,selection:r||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const a=this.view.dom;a.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(u=>{var f;return(f=this.capturedTransaction)===null||f===void 0?void 0:f.step(u)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),a=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),a&&this.emit("blur",{editor:this,event:a.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return cD(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,s=typeof e=="string"?t:e;return fD(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Qh(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return oD(this.state.doc,{blockSeparator:t,textSerializers:{...Sx(this.schema),...r}})}get isEmpty(){return np(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new di(t,this)}get $doc(){return this.$pos(0)}}function kl(n){return new qu({find:n.find,handler:({state:e,range:t,match:r})=>{const s=ue(n.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:a}=e,u=r[r.length-1],f=r[0];if(u){const d=f.search(/\S/),p=t.from+f.indexOf(u),g=p+u.length;if(Ox(t.from,t.to,e.doc).filter(x=>x.mark.type.excluded.find(w=>w===n.type&&w!==x.mark.type)).filter(x=>x.to>p).length)return null;g<t.to&&a.delete(g,t.to),p>t.from&&a.delete(t.from+d,p);const b=t.from+d+u.length;a.addMark(t.from+d,b,n.type.create(s||{})),a.removeStoredMark(n.type)}}})}function Cx(n){return new qu({find:n.find,handler:({state:e,range:t,match:r})=>{const s=ue(n.getAttributes,void 0,r)||{},{tr:a}=e,u=t.from;let f=t.to;const d=n.type.create(s);if(r[1]){const p=r[0].lastIndexOf(r[1]);let g=u+p;g>f?g=f:f=g+r[1].length;const y=r[0][r[0].length-1];a.insertText(y,u+r[0].length-1),a.replaceWith(g,f,d)}else if(r[0]){const p=n.type.isInline?u:u-1;a.insert(p,n.type.create(s)).delete(a.mapping.map(u),a.mapping.map(f))}a.scrollIntoView()}})}function wh(n){return new qu({find:n.find,handler:({state:e,range:t,match:r})=>{const s=e.doc.resolve(t.from),a=ue(n.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,a)}})}function aa(n){return new qu({find:n.find,handler:({state:e,range:t,match:r,chain:s})=>{const a=ue(n.getAttributes,void 0,r)||{},u=e.tr.delete(t.from,t.to),d=u.doc.resolve(t.from).blockRange(),p=d&&Lh(d,n.type,a);if(!p)return null;if(u.wrap(d,p),n.keepMarks&&n.editor){const{selection:y,storedMarks:b}=e,{splittableMarks:x}=n.editor.extensionManager,S=b||y.$to.parentOffset&&y.$from.marks();if(S){const w=S.filter(T=>x.includes(T.type.name));u.ensureMarks(w)}}if(n.keepAttributes){const y=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(y,a).run()}const g=u.doc.resolve(t.from-1).nodeBefore;g&&g.type===n.type&&Fr(u.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,g))&&u.join(t.from-1)}})}class wt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ue(W(this,"addOptions",{name:this.name}))),this.storage=ue(W(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new wt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Vu(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new wt(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ue(W(t,"addOptions",{name:t.name})),t.storage=ue(W(t,"addStorage",{name:t.name,options:t.options})),t}}function Al(n){return new uR({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:s})=>{const a=ue(n.getAttributes,void 0,r,s);if(a===!1||a===null)return null;const{tr:u}=e,f=r[r.length-1],d=r[0];let p=t.to;if(f){const g=d.search(/\S/),y=t.from+d.indexOf(f),b=y+f.length;if(Ox(t.from,t.to,e.doc).filter(S=>S.mark.type.excluded.find(T=>T===n.type&&T!==S.mark.type)).filter(S=>S.to>y).length)return null;b<t.to&&u.delete(b,t.to),y>t.from&&u.delete(t.from+g,y),p=t.from+g+f.length,u.addMark(t.from+g,p,n.type.create(a||{})),u.removeStoredMark(n.type)}}})}function ID(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kx={exports:{}},Ud={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function YD(){if(Pb)return Ud;Pb=1;var n=yt;function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,a=n.useLayoutEffect,u=n.useDebugValue;function f(y,b){var x=b(),S=r({inst:{value:x,getSnapshot:b}}),w=S[0].inst,T=S[1];return a(function(){w.value=x,w.getSnapshot=b,d(w)&&T({inst:w})},[y,x,b]),s(function(){return d(w)&&T({inst:w}),y(function(){d(w)&&T({inst:w})})},[y]),u(x),x}function d(y){var b=y.getSnapshot;y=y.value;try{var x=b();return!t(y,x)}catch{return!0}}function p(y,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return Ud.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,Ud}kx.exports=YD();var rp=kx.exports;const $D=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},GD=({contentComponent:n})=>{const e=rp.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return yt.createElement(yt.Fragment,null,Object.values(e))};function KD(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:qT.createPortal(r.reactElement,r.element,t)},n.forEach(s=>s())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(s=>s())}}}class XD extends yt.Component{constructor(e){var t;super(e),this.editorContentRef=yt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=KD(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return yt.createElement(yt.Fragment,null,yt.createElement("div",{ref:$D(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&yt.createElement(GD,{contentComponent:e.contentComponent}))}}const JD=N.forwardRef((n,e)=>{const t=yt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return yt.createElement(XD,{key:t,innerRef:e,...n})}),QD=yt.memo(JD);var WD=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!n(e[s],t[s]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;for(s of e.entries())if(!n(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){var u=a[s];if(!(u==="_owner"&&e.$$typeof)&&!n(e[u],t[u]))return!1}return!0}return e!==e&&t!==t},ZD=ID(WD),Ax={exports:{}},Hd={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function e2(){if(Fb)return Hd;Fb=1;var n=yt,e=rp;function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,a=n.useRef,u=n.useEffect,f=n.useMemo,d=n.useDebugValue;return Hd.useSyncExternalStoreWithSelector=function(p,g,y,b,x){var S=a(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=f(function(){function O(G){if(!L){if(L=!0,U=G,G=b(G),x!==void 0&&w.hasValue){var J=w.value;if(x(J,G))return I=J}return I=G}if(J=I,r(U,G))return J;var Y=b(G);return x!==void 0&&x(J,Y)?J:(U=G,I=Y)}var L=!1,U,I,j=y===void 0?null:y;return[function(){return O(g())},j===null?void 0:function(){return O(j())}]},[g,y,b,x]);var T=s(p,S[0],S[1]);return u(function(){w.hasValue=!0,w.value=T},[T]),d(T),T},Hd}Ax.exports=e2();var t2=Ax.exports;const n2=typeof window<"u"?N.useLayoutEffect:N.useEffect;class r2{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function i2(n){var e;const[t]=N.useState(()=>new r2(n.editor)),r=t2.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:ZD);return n2(()=>t.watch(n.editor),[n.editor,t]),N.useDebugValue(r),r}const l2=!1,Eh=typeof window>"u",s2=Eh||!!(typeof window<"u"&&window.next);class ip{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Eh||s2?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,a;return(a=(s=this.options.current).onBeforeCreate)===null||a===void 0?void 0:a.call(s,...r)},onBlur:(...r)=>{var s,a;return(a=(s=this.options.current).onBlur)===null||a===void 0?void 0:a.call(s,...r)},onCreate:(...r)=>{var s,a;return(a=(s=this.options.current).onCreate)===null||a===void 0?void 0:a.call(s,...r)},onDestroy:(...r)=>{var s,a;return(a=(s=this.options.current).onDestroy)===null||a===void 0?void 0:a.call(s,...r)},onFocus:(...r)=>{var s,a;return(a=(s=this.options.current).onFocus)===null||a===void 0?void 0:a.call(s,...r)},onSelectionUpdate:(...r)=>{var s,a;return(a=(s=this.options.current).onSelectionUpdate)===null||a===void 0?void 0:a.call(s,...r)},onTransaction:(...r)=>{var s,a;return(a=(s=this.options.current).onTransaction)===null||a===void 0?void 0:a.call(s,...r)},onUpdate:(...r)=>{var s,a;return(a=(s=this.options.current).onUpdate)===null||a===void 0?void 0:a.call(s,...r)},onContentError:(...r)=>{var s,a;return(a=(s=this.options.current).onContentError)===null||a===void 0?void 0:a.call(s,...r)},onDrop:(...r)=>{var s,a;return(a=(s=this.options.current).onDrop)===null||a===void 0?void 0:a.call(s,...r)},onPaste:(...r)=>{var s,a;return(a=(s=this.options.current).onPaste)===null||a===void 0?void 0:a.call(s,...r)}};return new FD(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((s,a)=>{var u;return s===((u=t.extensions)===null||u===void 0?void 0:u[a])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?ip.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function a2(n={},e=[]){const t=N.useRef(n);t.current=n;const[r]=N.useState(()=>new ip(t)),s=rp.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return N.useDebugValue(s),N.useEffect(r.onRender(e)),i2({editor:s,selector:({transactionNumber:a})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&a===0?0:a+1}),s}const o2=N.createContext({editor:null});o2.Consumer;const u2=N.createContext({onDragStart:void 0}),c2=()=>N.useContext(u2);yt.forwardRef((n,e)=>{const{onDragStart:t}=c2(),r=n.as||"div";return yt.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const f2=/^\s*>\s$/,Nx=wt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",at(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[aa({find:f2,type:this.type})]}}),d2=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,h2=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,p2=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,m2=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,g2=er.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",at(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[kl({find:d2,type:this.type}),kl({find:p2,type:this.type})]},addPasteRules(){return[Al({find:h2,type:this.type}),Al({find:m2,type:this.type})]}}),y2="listItem",Ib="textStyle",Yb=/^\s*([-+*])\s$/,b2=wt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",at(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(y2,this.editor.getAttributes(Ib)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=aa({find:Yb,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=aa({find:Yb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Ib),editor:this.editor})),[n]}}),S2=/(^|[^`])`([^`]+)`(?!`)/,x2=/(^|[^`])`([^`]+)`(?!`)/g,v2=er.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",at(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[kl({find:S2,type:this.type})]},addPasteRules(){return[Al({find:x2,type:this.type})]}}),w2=/^```([a-z]+)?[\s\n]$/,E2=/^~~~([a-z]+)?[\s\n]$/,T2=wt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,a=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(u=>u.startsWith(t)).map(u=>u.replace(t,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",at(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:s}=t;if(!s||r.parent.type!==this.type)return!1;const a=r.parentOffset===r.parent.nodeSize-2,u=r.parent.textContent.endsWith(`

`);return!a||!u?!1:n.chain().command(({tr:f})=>(f.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:s,empty:a}=t;if(!a||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const f=s.after();return f===void 0?!1:r.nodeAt(f)?n.commands.command(({tr:p})=>(p.setSelection(ae.near(r.resolve(f))),!0)):n.commands.exitCode()}}},addInputRules(){return[wh({find:w2,type:this.type,getAttributes:n=>({language:n[1]})}),wh({find:E2,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new zt({key:new Nn("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,a=s==null?void 0:s.mode;if(!t||!a)return!1;const{tr:u,schema:f}=n.state,d=f.text(t.replace(/\r\n?/g,`
`));return u.replaceSelectionWith(this.type.create({language:a},d)),u.selection.$from.parent.type!==this.type&&u.setSelection(le.near(u.doc.resolve(Math.max(0,u.selection.from-2)))),u.setMeta("paste",!0),n.dispatch(u),!0}}})]}}),M2=wt.create({name:"doc",topNode:!0,content:"block+"});function O2(n={}){return new zt({view(e){return new C2(e,n)}})}class C2{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let a=u=>{this[s](u)};return e.dom.addEventListener(s,a),{name:s,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,s=this.editorView.dom,a=s.getBoundingClientRect(),u=a.width/s.offsetWidth,f=a.height/s.offsetHeight;if(t){let y=e.nodeBefore,b=e.nodeAfter;if(y||b){let x=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(x){let S=x.getBoundingClientRect(),w=y?S.bottom:S.top;y&&b&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let T=this.width/2*f;r={left:S.left,right:S.right,top:w-T,bottom:w+T}}}}if(!r){let y=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*u;r={left:y.left-b,right:y.left+b,top:y.top,bottom:y.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let p,g;if(!d||d==document.body&&getComputedStyle(d).position=="static")p=-pageXOffset,g=-pageYOffset;else{let y=d.getBoundingClientRect(),b=y.width/d.offsetWidth,x=y.height/d.offsetHeight;p=y.left-d.scrollLeft*b,g=y.top-d.scrollTop*x}this.element.style.left=(r.left-p)/u+"px",this.element.style.top=(r.top-g)/f+"px",this.element.style.width=(r.right-r.left)/u+"px",this.element.style.height=(r.bottom-r.top)/f+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=r&&r.type.spec.disableDropCursor,a=typeof s=="function"?s(this.editorView,t,e):s;if(t&&!a){let u=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let f=gS(this.editorView.state.doc,u,this.editorView.dragging.slice);f!=null&&(u=f)}this.setCursor(u),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const k2=vt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[O2(this.options)]}});class je extends ae{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return je.valid(r)?new je(r):ae.near(r)}content(){return K.empty}eq(e){return e instanceof je&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new je(e.resolve(t.pos))}getBookmark(){return new lp(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!A2(e)||!N2(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let s=t.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&je.valid(e))return e;let s=e.pos,a=null;for(let u=e.depth;;u--){let f=e.node(u);if(t>0?e.indexAfter(u)<f.childCount:e.index(u)>0){a=f.child(t>0?e.indexAfter(u):e.index(u)-1);break}else if(u==0)return null;s+=t;let d=e.doc.resolve(s);if(je.valid(d))return d}for(;;){let u=t>0?a.firstChild:a.lastChild;if(!u){if(a.isAtom&&!a.isText&&!ee.isSelectable(a)){e=e.doc.resolve(s+a.nodeSize*t),r=!1;continue e}break}a=u,s+=t;let f=e.doc.resolve(s);if(je.valid(f))return f}return null}}}je.prototype.visible=!1;je.findFrom=je.findGapCursorFrom;ae.jsonID("gapcursor",je);class lp{constructor(e){this.pos=e}map(e){return new lp(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return je.valid(t)?new je(t):ae.near(t)}}function A2(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function N2(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function R2(){return new zt({props:{decorations:L2,createSelectionBetween(n,e,t){return e.pos==t.pos&&je.valid(t)?new je(t):null},handleClick:z2,handleKeyDown:D2,handleDOMEvents:{beforeinput:B2}}})}const D2=rx({ArrowLeft:Yo("horiz",-1),ArrowRight:Yo("horiz",1),ArrowUp:Yo("vert",-1),ArrowDown:Yo("vert",1)});function Yo(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,a){let u=r.selection,f=e>0?u.$to:u.$from,d=u.empty;if(u instanceof le){if(!a.endOfTextblock(t)||f.depth==0)return!1;d=!1,f=r.doc.resolve(e>0?f.after():f.before())}let p=je.findGapCursorFrom(f,e,d);return p?(s&&s(r.tr.setSelection(new je(p))),!0):!1}}function z2(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!je.valid(r))return!1;let s=n.posAtCoords({left:t.clientX,top:t.clientY});return s&&s.inside>-1&&ee.isSelectable(n.state.doc.nodeAt(s.inside))?!1:(n.dispatch(n.state.tr.setSelection(new je(r))),!0)}function B2(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof je))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let s=F.empty;for(let u=r.length-1;u>=0;u--)s=F.from(r[u].createAndFill(null,s));let a=n.state.tr.replace(t.pos,t.pos,new K(s,0,0));return a.setSelection(le.near(a.doc.resolve(t.pos+1))),n.dispatch(a),!1}function L2(n){if(!(n.selection instanceof je))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ye.create(n.doc,[rn.widget(n.selection.head,e,{key:"gapcursor"})])}const j2=vt.create({name:"gapCursor",addProseMirrorPlugins(){return[R2()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=ue(W(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),_2=wt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",at(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:s,storedMarks:a}=t;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:u}=this.options,{splittableMarks:f}=r.extensionManager,d=a||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:p,dispatch:g})=>{if(g&&d&&u){const y=d.filter(b=>f.includes(b.type.name));p.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Rx=wt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,at(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>wh({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var yu=200,Ze=function(){};Ze.prototype.append=function(e){return e.length?(e=Ze.from(e),!this.length&&e||e.length<yu&&this.leafAppend(e)||this.length<yu&&e.leafPrepend(this)||this.appendInner(e)):this};Ze.prototype.prepend=function(e){return e.length?Ze.from(e).append(this):this};Ze.prototype.appendInner=function(e){return new U2(this,e)};Ze.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Ze.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Ze.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ze.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Ze.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(a,u){return s.push(e(a,u))},t,r),s};Ze.from=function(e){return e instanceof Ze?e:e&&e.length?new Dx(e):Ze.empty};var Dx=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,a){return s==0&&a==this.length?this:new e(this.values.slice(s,a))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,a,u,f){for(var d=a;d<u;d++)if(s(this.values[d],f+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,a,u,f){for(var d=a-1;d>=u;d--)if(s(this.values[d],f+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=yu)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=yu)return new e(s.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Ze);Ze.empty=new Dx([]);var U2=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,a,u){var f=this.left.length;if(s<f&&this.left.forEachInner(r,s,Math.min(a,f),u)===!1||a>f&&this.right.forEachInner(r,Math.max(s-f,0),Math.min(this.length,a)-f,u+f)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,a,u){var f=this.left.length;if(s>f&&this.right.forEachInvertedInner(r,s-f,Math.max(a,f)-f,u+f)===!1||a<f&&this.left.forEachInvertedInner(r,Math.min(s,f),a,u)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var a=this.left.length;return s<=a?this.left.slice(r,s):r>=a?this.right.slice(r-a,s-a):this.left.slice(r,a).append(this.right.slice(0,s-a))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ze);const H2=500;class cn{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,a;t&&(s=this.remapping(r,this.items.length),a=s.maps.length);let u=e.tr,f,d,p=[],g=[];return this.items.forEach((y,b)=>{if(!y.step){s||(s=this.remapping(r,b+1),a=s.maps.length),a--,g.push(y);return}if(s){g.push(new En(y.map));let x=y.step.map(s.slice(a)),S;x&&u.maybeStep(x).doc&&(S=u.mapping.maps[u.mapping.maps.length-1],p.push(new En(S,void 0,void 0,p.length+g.length))),a--,S&&s.appendMap(S,a)}else u.maybeStep(y.step);if(y.selection)return f=s?y.selection.map(s.slice(a)):y.selection,d=new cn(this.items.slice(0,r).append(g.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:u,selection:f}}addTransform(e,t,r,s){let a=[],u=this.eventCount,f=this.items,d=!s&&f.length?f.get(f.length-1):null;for(let g=0;g<e.steps.length;g++){let y=e.steps[g].invert(e.docs[g]),b=new En(e.mapping.maps[g],y,t),x;(x=d&&d.merge(b))&&(b=x,g?a.pop():f=f.slice(0,f.length-1)),a.push(b),t&&(u++,t=void 0),s||(d=b)}let p=u-r.depth;return p>V2&&(f=q2(f,p),u-=p),new cn(f.append(a),u)}remapping(e,t){let r=new ea;return this.items.forEach((s,a)=>{let u=s.mirrorOffset!=null&&a-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,u)},e,t),r}addMaps(e){return this.eventCount==0?this:new cn(this.items.append(e.map(t=>new En(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-t),a=e.mapping,u=e.steps.length,f=this.eventCount;this.items.forEach(b=>{b.selection&&f--},s);let d=t;this.items.forEach(b=>{let x=a.getMirror(--d);if(x==null)return;u=Math.min(u,x);let S=a.maps[x];if(b.step){let w=e.steps[x].invert(e.docs[x]),T=b.selection&&b.selection.map(a.slice(d+1,x));T&&f++,r.push(new En(S,w,T))}else r.push(new En(S))},s);let p=[];for(let b=t;b<u;b++)p.push(new En(a.maps[b]));let g=this.items.slice(0,s).append(p).append(r),y=new cn(g,f);return y.emptyItemCount()>H2&&(y=y.compress(this.items.length-r.length)),y}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,s=[],a=0;return this.items.forEach((u,f)=>{if(f>=e)s.push(u),u.selection&&a++;else if(u.step){let d=u.step.map(t.slice(r)),p=d&&d.getMap();if(r--,p&&t.appendMap(p,r),d){let g=u.selection&&u.selection.map(t.slice(r));g&&a++;let y=new En(p.invert(),d,g),b,x=s.length-1;(b=s.length&&s[x].merge(y))?s[x]=b:s.push(y)}}else u.map&&r--},this.items.length,0),new cn(Ze.from(s.reverse()),a)}}cn.empty=new cn(Ze.empty,0);function q2(n,e){let t;return n.forEach((r,s)=>{if(r.selection&&e--==0)return t=s,!1}),n.slice(t)}class En{constructor(e,t,r,s){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new En(t.getMap().invert(),t,this.selection)}}}class Nr{constructor(e,t,r,s,a){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=s,this.prevComposition=a}}const V2=20;function P2(n,e,t,r){let s=t.getMeta(wi),a;if(s)return s.historyState;t.getMeta(Y2)&&(n=new Nr(n.done,n.undone,null,0,-1));let u=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(u&&u.getMeta(wi))return u.getMeta(wi).redo?new Nr(n.done.addTransform(t,void 0,r,eu(e)),n.undone,$b(t.mapping.maps),n.prevTime,n.prevComposition):new Nr(n.done,n.undone.addTransform(t,void 0,r,eu(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(u&&u.getMeta("addToHistory")===!1)){let f=t.getMeta("composition"),d=n.prevTime==0||!u&&n.prevComposition!=f&&(n.prevTime<(t.time||0)-r.newGroupDelay||!F2(t,n.prevRanges)),p=u?qd(n.prevRanges,t.mapping):$b(t.mapping.maps);return new Nr(n.done.addTransform(t,d?e.selection.getBookmark():void 0,r,eu(e)),cn.empty,p,t.time,f??n.prevComposition)}else return(a=t.getMeta("rebased"))?new Nr(n.done.rebased(t,a),n.undone.rebased(t,a),qd(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Nr(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),qd(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function F2(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,s)=>{for(let a=0;a<e.length;a+=2)r<=e[a+1]&&s>=e[a]&&(t=!0)}),t}function $b(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,s,a,u)=>e.push(a,u));return e}function qd(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let s=e.map(n[r],1),a=e.map(n[r+1],-1);s<=a&&t.push(s,a)}return t}function I2(n,e,t){let r=eu(e),s=wi.get(e).spec.config,a=(t?n.undone:n.done).popEvent(e,r);if(!a)return null;let u=a.selection.resolve(a.transform.doc),f=(t?n.done:n.undone).addTransform(a.transform,e.selection.getBookmark(),s,r),d=new Nr(t?f:a.remaining,t?a.remaining:f,null,0,-1);return a.transform.setSelection(u).setMeta(wi,{redo:t,historyState:d})}let Vd=!1,Gb=null;function eu(n){let e=n.plugins;if(Gb!=e){Vd=!1,Gb=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Vd=!0;break}}return Vd}const wi=new Nn("history"),Y2=new Nn("closeHistory");function $2(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new zt({key:wi,state:{init(){return new Nr(cn.empty,cn.empty,null,0,-1)},apply(e,t,r){return P2(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,s=r=="historyUndo"?Bx:r=="historyRedo"?Lx:null;return s?(t.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function zx(n,e){return(t,r)=>{let s=wi.getState(t);if(!s||(n?s.undone:s.done).eventCount==0)return!1;if(r){let a=I2(s,t,n);a&&r(e?a.scrollIntoView():a)}return!0}}const Bx=zx(!1,!0),Lx=zx(!0,!0),G2=vt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>Bx(n,e),redo:()=>({state:n,dispatch:e})=>Lx(n,e)}},addProseMirrorPlugins(){return[$2(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),jx=wt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",at(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:s}=t,a=n();return r.parentOffset===0?a.insertContentAt({from:Math.max(r.pos-1,0),to:s.pos},{type:this.name}):dD(t)?a.insertContentAt(s.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({tr:u,dispatch:f})=>{var d;if(f){const{$to:p}=u.selection,g=p.end();if(p.nodeAfter)p.nodeAfter.isTextblock?u.setSelection(le.create(u.doc,p.pos+1)):p.nodeAfter.isBlock?u.setSelection(ee.create(u.doc,p.pos)):u.setSelection(le.create(u.doc,p.pos));else{const y=(d=p.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();y&&(u.insert(g,y),u.setSelection(le.create(u.doc,g+1)))}u.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Cx({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),K2=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,X2=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,J2=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Q2=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,W2=er.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",at(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[kl({find:K2,type:this.type}),kl({find:J2,type:this.type})]},addPasteRules(){return[Al({find:X2,type:this.type}),Al({find:Q2,type:this.type})]}}),Z2=wt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",at(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ez="listItem",Kb="textStyle",Xb=/^(\d+)\.\s$/,tz=wt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",at(this.options.HTMLAttributes,t),0]:["ol",at(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ez,this.editor.getAttributes(Kb)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=aa({find:Xb,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=aa({find:Xb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Kb)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),nz=wt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",at(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),rz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,iz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,lz=er.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",at(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[kl({find:rz,type:this.type})]},addPasteRules(){return[Al({find:iz,type:this.type})]}}),sz=wt.create({name:"text",group:"inline"}),az=vt.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(g2.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(Nx.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(b2.configure(this.options.bulletList)),this.options.code!==!1&&n.push(v2.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(T2.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(M2.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(k2.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(j2.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(_2.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(Rx.configure(this.options.heading)),this.options.history!==!1&&n.push(G2.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(jx.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(W2.configure(this.options.italic)),this.options.listItem!==!1&&n.push(Z2.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(tz.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(nz.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(lz.configure(this.options.strike)),this.options.text!==!1&&n.push(sz.configure(this.options.text)),n}}),oz=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,uz=wt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",at(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[Cx({find:oz,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}}),cz=er.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",at(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),fz=()=>{const[n,e]=N.useState(""),[t,r]=N.useState(""),[s,a]=N.useState(""),[u,f]=N.useState([]),d=a2({extensions:[az,uz,cz,Rx,Nx,jx],content:"<p>Start writing a new article 🤩</p>"});N.useEffect(()=>{dt.get("/auth/csrf-token",{withCredentials:!0}).then(b=>e(b.data.csrfToken)).catch(()=>alert("Cannot get CSRF token"))},[]);const p=async b=>{b.preventDefault();try{await dt.post("/posts",{title:t,content:d==null?void 0:d.getHTML(),tags:s.split(",").map(x=>x.trim()),images:u},{withCredentials:!0,headers:{"x-csrf-token":n}}),alert("Successfully added an article~ 😉")}catch(x){alert("Post article failed 😓"),console.log(x)}},g=()=>{const b=document.createElement("input");b.type="file",b.accept="image/*",b.click(),b.onchange=async()=>{var w;const x=(w=b.files)==null?void 0:w[0];if(!x)return;const S=new FormData;S.append("image",x);try{const O=(await dt.post("/upload",S,{headers:{"Content-Type":"multipart/form-data"}})).data.url;d==null||d.chain().focus().setImage({src:O}).run()}catch(T){alert("Image upload failed 😓"),console.log(T)}}},y=()=>{const b=document.createElement("input");b.type="file",b.accept="image/*",b.multiple=!0,b.click(),b.onchange=async()=>{const x=Array.from(b.files),S=[];for(const w of x){const T=new FormData;T.append("image",w);try{const O=await dt.post("/upload",T);S.push(O.data.url)}catch(O){console.error("Gallery image upload failed",O)}}f(w=>[...w,...S])}};return k.jsxs("div",{className:"max-w-screen-md mx-auto space-y-8 p-4",children:[k.jsxs("form",{onSubmit:p,className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block font-semibold mb-1",children:"Galery 🖼️"}),k.jsx("div",{className:"flex gap-2 overflow-x-auto mb-2",children:u.map((b,x)=>k.jsx("img",{src:b,className:"w-24 h-24 object-over rounded"},x))}),k.jsx("button",{type:"button",className:"btn",onClick:y,children:"Upload images to gallery 🤩"})]}),k.jsx("input",{type:"text",placeholder:"TITLE",value:t,onChange:b=>r(b.target.value),className:"w-full p-2 border rounded"}),d&&k.jsxs("div",{className:"flex flex-wrap gap-2 mb-2 text-sm",children:[k.jsx("button",{onClick:()=>d.chain().focus().toggleBold().run(),type:"button",className:"btn",children:"Bold"}),k.jsx("button",{onClick:()=>d.chain().focus().toggleItalic().run(),type:"button",className:"btn",children:"Italic"}),k.jsx("button",{onClick:()=>d.chain().focus().toggleUnderline().run(),type:"button",className:"btn",children:"Underline"}),k.jsx("button",{onClick:()=>d.chain().focus().toggleStrike().run(),type:"button",className:"btn",children:"Strike"}),k.jsx("button",{onClick:()=>d.chain().focus().toggleHeading({level:1}).run(),type:"button",className:"btn",children:"H1"}),k.jsx("button",{onClick:()=>d.chain().focus().toggleHeading({level:2}).run(),type:"button",className:"btn",children:"H2"}),k.jsx("button",{onClick:()=>d.chain().focus().toggleHeading({level:3}).run(),type:"button",className:"btn",children:"H3"}),k.jsx("button",{onClick:()=>d.chain().focus().toggleBlockquote().run(),type:"button",className:"btn",children:"Quote"}),k.jsx("button",{onClick:()=>d.chain().focus().setHorizontalRule().run(),type:"button",className:"btn",children:"HR"}),k.jsx("button",{onClick:()=>d.chain().focus().unsetAllMarks().clearNodes().run(),type:"button",className:"btn",children:"Clear"}),k.jsx("button",{onClick:g,type:"button",className:"btn",children:"Image"})]}),k.jsx("div",{className:"border rounded p-2",children:k.jsx(QD,{editor:d,className:"min-h-[200px] text-left"})}),k.jsx("input",{type:"text",placeholder:"TAGS (Seperate with ',')",value:s,onChange:b=>a(b.target.value),className:"w-full p-2 border rounded"}),k.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Add Article"})]}),k.jsx("hr",{}),k.jsxs("div",{children:[k.jsx("h2",{className:"text-xl font-bold mb-2",children:"Preview:"}),k.jsx("div",{className:"prose prose-sm md:prose-base max-w-none prose-left",dangerouslySetInnerHTML:{__html:(d==null?void 0:d.getHTML())||""}})]})]})},dz=()=>k.jsx(k.Fragment,{children:k.jsxs("div",{className:"prose-lg dark:prose-invert max-w-screen-md mx-auto px-4 py-4",children:[k.jsx("style",{children:"p::first-letter { margin-left: 2rem; } p{text-align: left;}"}),k.jsx("h2",{children:"關於我"}),k.jsx("p",{children:"Hi，我是Tako🐙 其實已經想寫個blog想了n年了，但是礙於自己的堅持 - 覺得已經接觸前、後端好一陣子了，不想使用任何模板或綁定自己的資料帳號於某公司，所以拖到現在... 或許這個blog是給自己25歲的禮物吧！終於決定好好梳理20歲以來的點滴，並且把一直在腦海中計畫的blog草圖建設出來~"}),k.jsx("p",{children:"我很喜歡一句話："}),k.jsx("blockquote",{children:"如果每天都有所成長，「年紀」就變得有意義了 ✨"}),k.jsx("p",{children:"期許自己可以把每天都過得滿滿的，用這個blog把我的體驗與感想記錄下來。我也希望除了寫文章外、這個blog可以是有互動性的，所以歡迎在留言區寫下任何想法"}),k.jsxs("p",{children:["最後，給大家一個簡單的自我介紹：",k.jsxs("ul",{children:[k.jsx("li",{children:"✿ 喜歡只和一個朋友深度地聊天"}),k.jsx("li",{children:"❀ 平時喜歡閱讀、寫字、畫畫、到鄉下走走、聽音樂（認真地聽音樂！）、煮飯做甜點，喜歡嘗試新東西"}),k.jsx("li",{children:"✿ 不喜歡人多、有太多聲音的地方"}),k.jsx("li",{children:"❀ 假日模式為一天出去玩、一天在家養精蓄銳"}),k.jsx("li",{children:"✿ 喜歡貓咪和有長耳朵的狗狗"})]})]})]})}),Pd="/auth",Th={login:async(n,e)=>(await dt.post(`${Pd}/login`,{username:n,password:e},{withCredentials:!0})).data,logout:async()=>{await dt.post(`${Pd}/logout`,{},{withCredentials:!0})},getCurrentUser:async()=>(await dt.get(`${Pd}/me`,{withCredentials:!0})).data,test:async()=>(await dt.get("/auth/test",{withCredentials:!0})).data},Jb=({children:n})=>{const e=ca(),[t,r]=N.useState(!0),[s,a]=N.useState(!1);return N.useEffect(()=>{Th.getCurrentUser().then(()=>{a(!0),r(!1)}).catch(()=>{e("/login")}).finally(()=>r(!1))},[]),N.useEffect(()=>{Th.test().then(u=>console.log("✅ AUTH TEST:",u)).catch(u=>{var f;return console.error("❌ AUTH TEST FAILED",(f=u.response)==null?void 0:f.data)})},[]),t?k.jsx("div",{children:"Loading..."}):s?n:null},hz=()=>{const[n,e]=N.useState(""),[t,r]=N.useState(""),[s,a]=N.useState(""),u=ca(),f=async d=>{d.preventDefault();try{await Th.login(n,t),u("/new")}catch{alert("Login failed")}};return k.jsxs("div",{className:"max-w-sm mx-auto mt-10 p-6 border rounded shadow",children:[k.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Admin Login"}),s&&k.jsx("p",{className:"text-red-500 mb-2",children:s}),k.jsxs("form",{onSubmit:f,children:[k.jsx("input",{className:"block w-full border p-2 mb-3 bg-darkBg/80 dark:bg-darkText text-lightAccent dark:text-lightText",type:"text",placeholder:"USERNAME",value:n,onChange:d=>e(d.target.value)}),k.jsx("input",{className:"block w-full border p-2 mb-3 bg-darkBg/80 dark:bg-darkText text-lightAccent dark:text-lightText",type:"password",placeholder:"PASSWORD",value:t,onChange:d=>r(d.target.value)}),k.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 w-full",children:"Log In"})]})]})},pz=()=>{const[n,e]=N.useState(""),[t,r]=N.useState([]);N.useEffect(()=>{dt.get("/auth/csrf-token",{withCredentials:!0}).then(u=>e(u.data.csrfToken)).catch(()=>alert("Cannot get CSRF token")),dt.get("/comments/pendingComments",{withCredentials:!0}).then(u=>{console.log("API 回傳內容：",u.data),r(u.data)}).catch(()=>alert("Cannot fetch comments or you don't have access"))},[]);const s=async u=>{try{await dt.patch(`/comments/${u}/approve`,{},{withCredentials:!0,headers:{"x-csrf-token":n}}),r(t.filter(f=>f._id!==u))}catch{alert("Fail to approve")}},a=async u=>{try{await dt.delete(`/comments/${u}`,{withCredentials:!0,headers:{"x-csrf-token":n}}),r(t.filter(f=>f._id!==u))}catch{alert("Fail to delete comment")}};return k.jsxs("div",{className:"max-w-xl mx-auto mt-8",children:[k.jsx("h2",{className:"text-xl font-bold mb-4",children:"Comments to be approved"}),Array.isArray(t)?t.length===0?k.jsx("p",{children:"目前沒有待審留言"}):t.map(u=>k.jsxs("div",{className:"flex flex-row border p-4 mb-2 gap-8",children:[k.jsx("p",{children:u.avatar}),k.jsx("p",{children:u.name}),k.jsx("p",{className:"mb-2",children:u.content}),k.jsx("button",{onClick:()=>s(u._id),className:"bg-green-500 text-white px-3 py-1 mr-2",children:"通過"}),k.jsx("button",{onClick:()=>a(u._id),className:"bg-red-500 text-white px-3 py-1",children:"拒絕"})]},u._id)):k.jsx("p",{children:"留言資料格式錯誤"})]})},mz=()=>k.jsxs("div",{className:"min-h-screen flex flex-col bg-lightAccent text-lightText dark:bg-darkBg dark:text-darkText",children:[k.jsx(SO,{}),k.jsx("main",{className:"flex-grow w-full max-w-screen-xl mx-auto px-4 pt-16 md:pt-20",children:k.jsxs(rT,{children:[k.jsx(Cr,{path:"/",element:k.jsx(VT,{})}),k.jsx(Cr,{path:"/aboutMe",element:k.jsx(dz,{})}),k.jsx(Cr,{path:"/posts",element:k.jsx(bO,{})}),k.jsx(Cr,{path:"/posts/:id",element:k.jsx(XC,{})}),k.jsx(Cr,{path:"/login",element:k.jsx(hz,{})}),k.jsx(Cr,{path:"/new",element:k.jsx(Jb,{children:k.jsx(fz,{})})}),k.jsx(Cr,{path:"/pendingComments",element:k.jsx(Jb,{children:k.jsx(pz,{})})})]})}),k.jsx(VO,{})]});fE.createRoot(document.getElementById("root")).render(k.jsx(N.StrictMode,{children:k.jsx(kT,{children:k.jsx(mz,{})})}));
